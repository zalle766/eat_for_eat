(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();function ny(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function iy(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var r=o.default;if(typeof r=="function"){var n=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var c=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(n,i,c.get?c:{enumerable:!0,get:function(){return o[i]}})}),n}var Fc={exports:{}},wn={};var qm;function ly(){if(qm)return wn;qm=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(i,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:o,type:i,key:h,ref:c!==void 0?c:null,props:d}}return wn.Fragment=r,wn.jsx=n,wn.jsxs=n,wn}var $m;function oy(){return $m||($m=1,Fc.exports=ly()),Fc.exports}var t=oy(),Ic={exports:{}},he={};var Bm;function cy(){if(Bm)return he;Bm=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,v={};function T(R,G,Q){this.props=R,this.context=G,this.refs=v,this.updater=Q||S}T.prototype.isReactComponent={},T.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},T.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=T.prototype;function C(R,G,Q){this.props=R,this.context=G,this.refs=v,this.updater=Q||S}var E=C.prototype=new A;E.constructor=C,O(E,T.prototype),E.isPureReactComponent=!0;var z=Array.isArray;function D(){}var k={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function X(R,G,Q){var P=Q.ref;return{$$typeof:o,type:R,key:G,ref:P!==void 0?P:null,props:Q}}function se(R,G){return X(R.type,G,R.props)}function Ne(R){return typeof R=="object"&&R!==null&&R.$$typeof===o}function Ee(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return G[Q]})}var Z=/\/+/g;function ue(R,G){return typeof R=="object"&&R!==null&&R.key!=null?Ee(""+R.key):G.toString(36)}function Ae(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(D,D):(R.status="pending",R.then(function(G){R.status==="pending"&&(R.status="fulfilled",R.value=G)},function(G){R.status==="pending"&&(R.status="rejected",R.reason=G)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function H(R,G,Q,P,ee){var te=typeof R;(te==="undefined"||te==="boolean")&&(R=null);var ce=!1;if(R===null)ce=!0;else switch(te){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(R.$$typeof){case o:case r:ce=!0;break;case p:return ce=R._init,H(ce(R._payload),G,Q,P,ee)}}if(ce)return ee=ee(R),ce=P===""?"."+ue(R,0):P,z(ee)?(Q="",ce!=null&&(Q=ce.replace(Z,"$&/")+"/"),H(ee,G,Q,"",function(Ea){return Ea})):ee!=null&&(Ne(ee)&&(ee=se(ee,Q+(ee.key==null||R&&R.key===ee.key?"":(""+ee.key).replace(Z,"$&/")+"/")+ce)),G.push(ee)),1;ce=0;var Pe=P===""?".":P+":";if(z(R))for(var Me=0;Me<R.length;Me++)P=R[Me],te=Pe+ue(P,Me),ce+=H(P,G,Q,te,ee);else if(Me=j(R),typeof Me=="function")for(R=Me.call(R),Me=0;!(P=R.next()).done;)P=P.value,te=Pe+ue(P,Me++),ce+=H(P,G,Q,te,ee);else if(te==="object"){if(typeof R.then=="function")return H(Ae(R),G,Q,P,ee);throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ce}function J(R,G,Q){if(R==null)return R;var P=[],ee=0;return H(R,P,"","",function(te){return G.call(Q,te,ee++)}),P}function ae(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var oe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},xe={map:J,forEach:function(R,G,Q){J(R,function(){G.apply(this,arguments)},Q)},count:function(R){var G=0;return J(R,function(){G++}),G},toArray:function(R){return J(R,function(G){return G})||[]},only:function(R){if(!Ne(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return he.Activity=b,he.Children=xe,he.Component=T,he.Fragment=n,he.Profiler=c,he.PureComponent=C,he.StrictMode=i,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,he.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},he.cache=function(R){return function(){return R.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(R,G,Q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var P=O({},R.props),ee=R.key;if(G!=null)for(te in G.key!==void 0&&(ee=""+G.key),G)!K.call(G,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&G.ref===void 0||(P[te]=G[te]);var te=arguments.length-2;if(te===1)P.children=Q;else if(1<te){for(var ce=Array(te),Pe=0;Pe<te;Pe++)ce[Pe]=arguments[Pe+2];P.children=ce}return X(R.type,ee,P)},he.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},he.createElement=function(R,G,Q){var P,ee={},te=null;if(G!=null)for(P in G.key!==void 0&&(te=""+G.key),G)K.call(G,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ee[P]=G[P]);var ce=arguments.length-2;if(ce===1)ee.children=Q;else if(1<ce){for(var Pe=Array(ce),Me=0;Me<ce;Me++)Pe[Me]=arguments[Me+2];ee.children=Pe}if(R&&R.defaultProps)for(P in ce=R.defaultProps,ce)ee[P]===void 0&&(ee[P]=ce[P]);return X(R,te,ee)},he.createRef=function(){return{current:null}},he.forwardRef=function(R){return{$$typeof:m,render:R}},he.isValidElement=Ne,he.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ae}},he.memo=function(R,G){return{$$typeof:x,type:R,compare:G===void 0?null:G}},he.startTransition=function(R){var G=k.T,Q={};k.T=Q;try{var P=R(),ee=k.S;ee!==null&&ee(Q,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(D,oe)}catch(te){oe(te)}finally{G!==null&&Q.types!==null&&(G.types=Q.types),k.T=G}},he.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},he.use=function(R){return k.H.use(R)},he.useActionState=function(R,G,Q){return k.H.useActionState(R,G,Q)},he.useCallback=function(R,G){return k.H.useCallback(R,G)},he.useContext=function(R){return k.H.useContext(R)},he.useDebugValue=function(){},he.useDeferredValue=function(R,G){return k.H.useDeferredValue(R,G)},he.useEffect=function(R,G){return k.H.useEffect(R,G)},he.useEffectEvent=function(R){return k.H.useEffectEvent(R)},he.useId=function(){return k.H.useId()},he.useImperativeHandle=function(R,G,Q){return k.H.useImperativeHandle(R,G,Q)},he.useInsertionEffect=function(R,G){return k.H.useInsertionEffect(R,G)},he.useLayoutEffect=function(R,G){return k.H.useLayoutEffect(R,G)},he.useMemo=function(R,G){return k.H.useMemo(R,G)},he.useOptimistic=function(R,G){return k.H.useOptimistic(R,G)},he.useReducer=function(R,G,Q){return k.H.useReducer(R,G,Q)},he.useRef=function(R){return k.H.useRef(R)},he.useState=function(R){return k.H.useState(R)},he.useSyncExternalStore=function(R,G,Q){return k.H.useSyncExternalStore(R,G,Q)},he.useTransition=function(){return k.H.useTransition()},he.version="19.2.0",he}var Hm;function wd(){return Hm||(Hm=1,Ic.exports=cy()),Ic.exports}var w=wd();const de=o=>typeof o=="string",Sn=()=>{let o,r;const n=new Promise((i,c)=>{o=i,r=c});return n.resolve=o,n.reject=r,n},Pm=o=>o==null?"":""+o,dy=(o,r,n)=>{o.forEach(i=>{r[i]&&(n[i]=r[i])})},uy=/###/g,Gm=o=>o&&o.indexOf("###")>-1?o.replace(uy,"."):o,Vm=o=>!o||de(o),Tn=(o,r,n)=>{const i=de(r)?r.split("."):r;let c=0;for(;c<i.length-1;){if(Vm(o))return{};const d=Gm(i[c]);!o[d]&&n&&(o[d]=new n),Object.prototype.hasOwnProperty.call(o,d)?o=o[d]:o={},++c}return Vm(o)?{}:{obj:o,k:Gm(i[c])}},Fm=(o,r,n)=>{const{obj:i,k:c}=Tn(o,r,Object);if(i!==void 0||r.length===1){i[c]=n;return}let d=r[r.length-1],h=r.slice(0,r.length-1),m=Tn(o,h,Object);for(;m.obj===void 0&&h.length;)d=`${h[h.length-1]}.${d}`,h=h.slice(0,h.length-1),m=Tn(o,h,Object),m?.obj&&typeof m.obj[`${m.k}.${d}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${d}`]=n},hy=(o,r,n,i)=>{const{obj:c,k:d}=Tn(o,r,Object);c[d]=c[d]||[],c[d].push(n)},gl=(o,r)=>{const{obj:n,k:i}=Tn(o,r);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},fy=(o,r,n)=>{const i=gl(o,n);return i!==void 0?i:gl(r,n)},Yg=(o,r,n)=>{for(const i in r)i!=="__proto__"&&i!=="constructor"&&(i in o?de(o[i])||o[i]instanceof String||de(r[i])||r[i]instanceof String?n&&(o[i]=r[i]):Yg(o[i],r[i],n):o[i]=r[i]);return o},hr=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var my={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gy=o=>de(o)?o.replace(/[&<>"'\/]/g,r=>my[r]):o;class xy{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const i=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,i),this.regExpQueue.push(r),i}}const py=[" ",",","?","!",";"],yy=new xy(20),by=(o,r,n)=>{r=r||"",n=n||"";const i=py.filter(h=>r.indexOf(h)<0&&n.indexOf(h)<0);if(i.length===0)return!0;const c=yy.getRegExp(`(${i.map(h=>h==="?"?"\\?":h).join("|")})`);let d=!c.test(o);if(!d){const h=o.indexOf(n);h>0&&!c.test(o.substring(0,h))&&(d=!0)}return d},od=(o,r,n=".")=>{if(!o)return;if(o[r])return Object.prototype.hasOwnProperty.call(o,r)?o[r]:void 0;const i=r.split(n);let c=o;for(let d=0;d<i.length;){if(!c||typeof c!="object")return;let h,m="";for(let g=d;g<i.length;++g)if(g!==d&&(m+=n),m+=i[g],h=c[m],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&g<i.length-1)continue;d+=g-d+1;break}c=h}return c},Dn=o=>o?.replace("_","-"),vy={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,r){console?.[o]?.apply?.(console,r)}};class xl{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||vy,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,i,c){return c&&!this.debug?null:(de(r[0])&&(r[0]=`${i}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new xl(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new xl(this.logger,r)}}var Wt=new xl;class jl{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const c=this.observers[i].get(n)||0;this.observers[i].set(n,c+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([c,d])=>{for(let h=0;h<d;h++)c(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let h=0;h<d;h++)c.apply(c,[r,...n])})}}class Im extends jl{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,i,c={}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,h=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;r.indexOf(".")>-1?m=r.split("."):(m=[r,n],i&&(Array.isArray(i)?m.push(...i):de(i)&&d?m.push(...i.split(d)):m.push(i)));const g=gl(this.data,m);return!g&&!n&&!i&&r.indexOf(".")>-1&&(r=m[0],n=m[1],i=m.slice(2).join(".")),g||!h||!de(i)?g:od(this.data?.[r]?.[n],i,d)}addResource(r,n,i,c,d={silent:!1}){const h=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let m=[r,n];i&&(m=m.concat(h?i.split(h):i)),r.indexOf(".")>-1&&(m=r.split("."),c=n,n=m[1]),this.addNamespaces(n),Fm(this.data,m,c),d.silent||this.emit("added",r,n,i,c)}addResources(r,n,i,c={silent:!1}){for(const d in i)(de(i[d])||Array.isArray(i[d]))&&this.addResource(r,n,d,i[d],{silent:!0});c.silent||this.emit("added",r,n,i)}addResourceBundle(r,n,i,c,d,h={silent:!1,skipCopy:!1}){let m=[r,n];r.indexOf(".")>-1&&(m=r.split("."),c=i,i=n,n=m[1]),this.addNamespaces(n);let g=gl(this.data,m)||{};h.skipCopy||(i=JSON.parse(JSON.stringify(i))),c?Yg(g,i,d):g={...g,...i},Fm(this.data,m,g),h.silent||this.emit("added",r,n,i)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(c=>n[c]&&Object.keys(n[c]).length>0)}toJSON(){return this.data}}var Kg={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,r,n,i,c){return o.forEach(d=>{r=this.processors[d]?.process(r,n,i,c)??r}),r}};const Jg=Symbol("i18next/PATH_KEY");function jy(){const o=[],r=Object.create(null);let n;return r.get=(i,c)=>(n?.revoke?.(),c===Jg?o:(o.push(c),n=Proxy.revocable(i,r),n.proxy)),Proxy.revocable(Object.create(null),r).proxy}function cd(o,r){const{[Jg]:n}=o(jy());return n.join(r?.keySeparator??".")}const Ym={},Km=o=>!de(o)&&typeof o!="boolean"&&typeof o!="number";class pl extends jl{constructor(r,n={}){super(),dy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wt.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const i={...n};return r==null?!1:this.resolve(r,i)?.res!==void 0}extractFromKey(r,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const c=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let d=n.ns||this.options.defaultNS||[];const h=i&&r.indexOf(i)>-1,m=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!by(r,i,c);if(h&&!m){const g=r.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:r,namespaces:de(d)?[d]:d};const x=r.split(i);(i!==c||i===c&&this.options.ns.indexOf(x[0])>-1)&&(d=x.shift()),r=x.join(c)}return{key:r,namespaces:de(d)?[d]:d}}translate(r,n,i){let c=typeof n=="object"?{...n}:n;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(c={...c}),c||(c={}),r==null)return"";typeof r=="function"&&(r=cd(r,c)),Array.isArray(r)||(r=[String(r)]);const d=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:m,namespaces:g}=this.extractFromKey(r[r.length-1],c),x=g[g.length-1];let p=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const b=c.lng||this.language,_=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return _?d?{res:`${x}${p}${m}`,usedKey:m,exactUsedKey:m,usedLng:b,usedNS:x,usedParams:this.getUsedParamsDetails(c)}:`${x}${p}${m}`:d?{res:m,usedKey:m,exactUsedKey:m,usedLng:b,usedNS:x,usedParams:this.getUsedParamsDetails(c)}:m;const j=this.resolve(r,c);let S=j?.res;const O=j?.usedKey||m,v=j?.exactUsedKey||m,T=["[object Number]","[object Function]","[object RegExp]"],A=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,E=c.count!==void 0&&!de(c.count),z=pl.hasDefaultValue(c),D=E?this.pluralResolver.getSuffix(b,c.count,c):"",k=c.ordinal&&E?this.pluralResolver.getSuffix(b,c.count,{ordinal:!1}):"",K=E&&!c.ordinal&&c.count===0,X=K&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${D}`]||c[`defaultValue${k}`]||c.defaultValue;let se=S;C&&!S&&z&&(se=X);const Ne=Km(se),Ee=Object.prototype.toString.apply(se);if(C&&se&&Ne&&T.indexOf(Ee)<0&&!(de(A)&&Array.isArray(se))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(O,se,{...c,ns:g}):`key '${m} (${this.language})' returned an object instead of string.`;return d?(j.res=Z,j.usedParams=this.getUsedParamsDetails(c),j):Z}if(h){const Z=Array.isArray(se),ue=Z?[]:{},Ae=Z?v:O;for(const H in se)if(Object.prototype.hasOwnProperty.call(se,H)){const J=`${Ae}${h}${H}`;z&&!S?ue[H]=this.translate(J,{...c,defaultValue:Km(X)?X[H]:void 0,joinArrays:!1,ns:g}):ue[H]=this.translate(J,{...c,joinArrays:!1,ns:g}),ue[H]===J&&(ue[H]=se[H])}S=ue}}else if(C&&de(A)&&Array.isArray(S))S=S.join(A),S&&(S=this.extendTranslation(S,r,c,i));else{let Z=!1,ue=!1;!this.isValidLookup(S)&&z&&(Z=!0,S=X),this.isValidLookup(S)||(ue=!0,S=m);const H=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ue?void 0:S,J=z&&X!==S&&this.options.updateMissing;if(ue||Z||J){if(this.logger.log(J?"updateKey":"missingKey",b,x,m,J?X:S),h){const R=this.resolve(m,{...c,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[];const oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&oe&&oe[0])for(let R=0;R<oe.length;R++)ae.push(oe[R]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(c.lng||this.language):ae.push(c.lng||this.language);const xe=(R,G,Q)=>{const P=z&&Q!==S?Q:H;this.options.missingKeyHandler?this.options.missingKeyHandler(R,x,G,P,J,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(R,x,G,P,J,c),this.emit("missingKey",R,x,G,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?ae.forEach(R=>{const G=this.pluralResolver.getSuffixes(R,c);K&&c[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(Q=>{xe([R],m+Q,c[`defaultValue${Q}`]||X)})}):xe(ae,m,X))}S=this.extendTranslation(S,r,c,j,i),ue&&S===m&&this.options.appendNamespaceToMissingKey&&(S=`${x}${p}${m}`),(ue||Z)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${x}${p}${m}`:m,Z?S:void 0,c))}return d?(j.res=S,j.usedParams=this.getUsedParamsDetails(c),j):S}extendTranslation(r,n,i,c,d){if(this.i18nFormat?.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const g=de(r)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let x;if(g){const b=r.match(this.interpolator.nestingRegexp);x=b&&b.length}let p=i.replace&&!de(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),r=this.interpolator.interpolate(r,p,i.lng||this.language||c.usedLng,i),g){const b=r.match(this.interpolator.nestingRegexp),_=b&&b.length;x<_&&(i.nest=!1)}!i.lng&&c&&c.res&&(i.lng=this.language||c.usedLng),i.nest!==!1&&(r=this.interpolator.nest(r,(...b)=>d?.[0]===b[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),i)),i.interpolation&&this.interpolator.reset()}const h=i.postProcess||this.options.postProcess,m=de(h)?[h]:h;return r!=null&&m?.length&&i.applyPostProcessor!==!1&&(r=Kg.handle(m,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),r}resolve(r,n={}){let i,c,d,h,m;return de(r)&&(r=[r]),r.forEach(g=>{if(this.isValidLookup(i))return;const x=this.extractFromKey(g,n),p=x.key;c=p;let b=x.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const _=n.count!==void 0&&!de(n.count),j=_&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(de(n.context)||typeof n.context=="number")&&n.context!=="",O=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);b.forEach(v=>{this.isValidLookup(i)||(m=v,!Ym[`${O[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(m)&&(Ym[`${O[0]}-${v}`]=!0,this.logger.warn(`key "${c}" for languages "${O.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),O.forEach(T=>{if(this.isValidLookup(i))return;h=T;const A=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(A,p,T,v,n);else{let E;_&&(E=this.pluralResolver.getSuffix(T,n.count,n));const z=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(n.ordinal&&E.indexOf(D)===0&&A.push(p+E.replace(D,this.options.pluralSeparator)),A.push(p+E),j&&A.push(p+z)),S){const k=`${p}${this.options.contextSeparator||"_"}${n.context}`;A.push(k),_&&(n.ordinal&&E.indexOf(D)===0&&A.push(k+E.replace(D,this.options.pluralSeparator)),A.push(k+E),j&&A.push(k+z))}}let C;for(;C=A.pop();)this.isValidLookup(i)||(d=C,i=this.getResource(T,v,C,n))}))})}),{res:i,usedKey:c,exactUsedKey:d,usedLng:h,usedNS:m}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,i,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(r,n,i,c):this.resourceStore.getResource(r,n,i,c)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=r.replace&&!de(r.replace);let c=i?r.replace:r;if(i&&typeof r.count<"u"&&(c.count=r.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!i){c={...c};for(const d of n)delete c[d]}return c}static hasDefaultValue(r){const n="defaultValue";for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&n===i.substring(0,n.length)&&r[i]!==void 0)return!0;return!1}}class Jm{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wt.create("languageUtils")}getScriptPartFromCode(r){if(r=Dn(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=Dn(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(de(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(i=>{if(n)return;const c=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(c))&&(n=c)}),!n&&this.options.supportedLngs&&r.forEach(i=>{if(n)return;const c=this.getScriptPartFromCode(i);if(this.isSupportedCode(c))return n=c;const d=this.getLanguagePartFromCode(i);if(this.isSupportedCode(d))return n=d;n=this.options.supportedLngs.find(h=>{if(h===d)return h;if(!(h.indexOf("-")<0&&d.indexOf("-")<0)&&(h.indexOf("-")>0&&d.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===d||h.indexOf(d)===0&&d.length>1))return h})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),de(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}toResolveHierarchy(r,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),c=[],d=h=>{h&&(this.isSupportedCode(h)?c.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return de(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(r))):de(r)&&d(this.formatLanguageCode(r)),i.forEach(h=>{c.indexOf(h)<0&&d(this.formatLanguageCode(h))}),c}}const Qm={zero:0,one:1,two:2,few:3,many:4,other:5},Xm={select:o=>o===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ny{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=Wt.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const i=Dn(r==="dev"?"en":r),c=n.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:i,type:c});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let h;try{h=new Intl.PluralRules(i,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Xm;if(!r.match(/-|_/))return Xm;const g=this.languageUtils.getLanguagePartFromCode(r);h=this.getRule(g,n)}return this.pluralRulesCache[d]=h,h}needsPlural(r,n={}){let i=this.getRule(r,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(r,n,i={}){return this.getSuffixes(r,i).map(c=>`${n}${c}`)}getSuffixes(r,n={}){let i=this.getRule(r,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((c,d)=>Qm[c]-Qm[d]).map(c=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(r,n,i={}){const c=this.getRule(r,i);return c?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${c.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,i))}}const Zm=(o,r,n,i=".",c=!0)=>{let d=fy(o,r,n);return!d&&c&&de(n)&&(d=od(o,n,i),d===void 0&&(d=od(r,n,i))),d},Yc=o=>o.replace(/\$/g,"$$$$");class wy{constructor(r={}){this.logger=Wt.create("interpolator"),this.options=r,this.format=r?.interpolation?.format||(n=>n),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:c,prefix:d,prefixEscaped:h,suffix:m,suffixEscaped:g,formatSeparator:x,unescapeSuffix:p,unescapePrefix:b,nestingPrefix:_,nestingPrefixEscaped:j,nestingSuffix:S,nestingSuffixEscaped:O,nestingOptionsSeparator:v,maxReplaces:T,alwaysFormat:A}=r.interpolation;this.escape=n!==void 0?n:gy,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=d?hr(d):h||"{{",this.suffix=m?hr(m):g||"}}",this.formatSeparator=x||",",this.unescapePrefix=p?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=_?hr(_):j||hr("$t("),this.nestingSuffix=S?hr(S):O||hr(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=T||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,i,c){let d,h,m;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},x=j=>{if(j.indexOf(this.formatSeparator)<0){const T=Zm(n,g,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,i,{...c,...n,interpolationkey:j}):T}const S=j.split(this.formatSeparator),O=S.shift().trim(),v=S.join(this.formatSeparator).trim();return this.format(Zm(n,g,O,this.options.keySeparator,this.options.ignoreJSONStructure),v,i,{...c,...n,interpolationkey:O})};this.resetRegExp();const p=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>Yc(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?Yc(this.escape(j)):Yc(j)}].forEach(j=>{for(m=0;d=j.regex.exec(r);){const S=d[1].trim();if(h=x(S),h===void 0)if(typeof p=="function"){const v=p(r,d,c);h=de(v)?v:""}else if(c&&Object.prototype.hasOwnProperty.call(c,S))h="";else if(b){h=d[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${r}`),h="";else!de(h)&&!this.useRawValueToEscape&&(h=Pm(h));const O=j.safeValue(h);if(r=r.replace(d[0],O),b?(j.regex.lastIndex+=h.length,j.regex.lastIndex-=d[0].length):j.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),r}nest(r,n,i={}){let c,d,h;const m=(g,x)=>{const p=this.nestingOptionsSeparator;if(g.indexOf(p)<0)return g;const b=g.split(new RegExp(`${p}[ ]*{`));let _=`{${b[1]}`;g=b[0],_=this.interpolate(_,h);const j=_.match(/'/g),S=_.match(/"/g);((j?.length??0)%2===0&&!S||S.length%2!==0)&&(_=_.replace(/'/g,'"'));try{h=JSON.parse(_),x&&(h={...x,...h})}catch(O){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,O),`${g}${p}${_}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,g};for(;c=this.nestingRegexp.exec(r);){let g=[];h={...i},h=h.replace&&!de(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;const x=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(x!==-1&&(g=c[1].slice(x).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),c[1]=c[1].slice(0,x)),d=n(m.call(this,c[1].trim(),h),h),d&&c[0]===r&&!de(d))return d;de(d)||(d=Pm(d)),d||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${r}`),d=""),g.length&&(d=g.reduce((p,b)=>this.format(p,b,i.lng,{...i,interpolationkey:c[1].trim()}),d.trim())),r=r.replace(c[0],d),this.regexp.lastIndex=0}return r}}const Sy=o=>{let r=o.toLowerCase().trim();const n={};if(o.indexOf("(")>-1){const i=o.split("(");r=i[0].toLowerCase().trim();const c=i[1].substring(0,i[1].length-1);r==="currency"&&c.indexOf(":")<0?n.currency||(n.currency=c.trim()):r==="relativetime"&&c.indexOf(":")<0?n.range||(n.range=c.trim()):c.split(";").forEach(h=>{if(h){const[m,...g]=h.split(":"),x=g.join(":").trim().replace(/^'+|'+$/g,""),p=m.trim();n[p]||(n[p]=x),x==="false"&&(n[p]=!1),x==="true"&&(n[p]=!0),isNaN(x)||(n[p]=parseInt(x,10))}})}return{formatName:r,formatOptions:n}},Wm=o=>{const r={};return(n,i,c)=>{let d=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(d={...d,[c.interpolationkey]:void 0});const h=i+JSON.stringify(d);let m=r[h];return m||(m=o(Dn(i),c),r[h]=m),m(n)}},_y=o=>(r,n,i)=>o(Dn(n),i)(r);class Cy{constructor(r={}){this.logger=Wt.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?Wm:_y;this.formats={number:i((c,d)=>{const h=new Intl.NumberFormat(c,{...d});return m=>h.format(m)}),currency:i((c,d)=>{const h=new Intl.NumberFormat(c,{...d,style:"currency"});return m=>h.format(m)}),datetime:i((c,d)=>{const h=new Intl.DateTimeFormat(c,{...d});return m=>h.format(m)}),relativetime:i((c,d)=>{const h=new Intl.RelativeTimeFormat(c,{...d});return m=>h.format(m,d.range||"day")}),list:i((c,d)=>{const h=new Intl.ListFormat(c,{...d});return m=>h.format(m)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=Wm(n)}format(r,n,i,c={}){const d=n.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(m=>m.indexOf(")")>-1)){const m=d.findIndex(g=>g.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,m)].join(this.formatSeparator)}return d.reduce((m,g)=>{const{formatName:x,formatOptions:p}=Sy(g);if(this.formats[x]){let b=m;try{const _=c?.formatParams?.[c.interpolationkey]||{},j=_.locale||_.lng||c.locale||c.lng||i;b=this.formats[x](m,j,{...p,...c,..._})}catch(_){this.logger.warn(_)}return b}else this.logger.warn(`there was no format function for ${x}`);return m},r)}}const Ey=(o,r)=>{o.pending[r]!==void 0&&(delete o.pending[r],o.pendingCount--)};class Oy extends jl{constructor(r,n,i,c={}){super(),this.backend=r,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=c,this.logger=Wt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,c.backend,c)}queueLoad(r,n,i,c){const d={},h={},m={},g={};return r.forEach(x=>{let p=!0;n.forEach(b=>{const _=`${x}|${b}`;!i.reload&&this.store.hasResourceBundle(x,b)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?h[_]===void 0&&(h[_]=!0):(this.state[_]=1,p=!1,h[_]===void 0&&(h[_]=!0),d[_]===void 0&&(d[_]=!0),g[b]===void 0&&(g[b]=!0)))}),p||(m[x]=!0)}),(Object.keys(d).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(d),pending:Object.keys(h),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(g)}}loaded(r,n,i){const c=r.split("|"),d=c[0],h=c[1];n&&this.emit("failedLoading",d,h,n),!n&&i&&this.store.addResourceBundle(d,h,i,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&i&&(this.state[r]=0);const m={};this.queue.forEach(g=>{hy(g.loaded,[d],h),Ey(g,r),n&&g.errors.push(n),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(x=>{m[x]||(m[x]={});const p=g.loaded[x];p.length&&p.forEach(b=>{m[x][b]===void 0&&(m[x][b]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(g=>!g.done)}read(r,n,i,c=0,d=this.retryTimeout,h){if(!r.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:i,tried:c,wait:d,callback:h});return}this.readingCalls++;const m=(x,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(x&&p&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,i,c+1,d*2,h)},d);return}h(x,p)},g=this.backend[i].bind(this.backend);if(g.length===2){try{const x=g(r,n);x&&typeof x.then=="function"?x.then(p=>m(null,p)).catch(m):m(null,x)}catch(x){m(x)}return}return g(r,n,m)}prepareLoading(r,n,i={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();de(r)&&(r=this.languageUtils.toResolveHierarchy(r)),de(n)&&(n=[n]);const d=this.queueLoad(r,n,i,c);if(!d.toLoad.length)return d.pending.length||c(),null;d.toLoad.forEach(h=>{this.loadOne(h)})}load(r,n,i){this.prepareLoading(r,n,{},i)}reload(r,n,i){this.prepareLoading(r,n,{reload:!0},i)}loadOne(r,n=""){const i=r.split("|"),c=i[0],d=i[1];this.read(c,d,"read",void 0,void 0,(h,m)=>{h&&this.logger.warn(`${n}loading namespace ${d} for language ${c} failed`,h),!h&&m&&this.logger.log(`${n}loaded namespace ${d} for language ${c}`,m),this.loaded(r,h,m)})}saveMissing(r,n,i,c,d,h={},m=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const g={...h,isUpdate:d},x=this.backend.create.bind(this.backend);if(x.length<6)try{let p;x.length===5?p=x(r,n,i,c,g):p=x(r,n,i,c),p&&typeof p.then=="function"?p.then(b=>m(null,b)).catch(m):m(null,p)}catch(p){m(p)}else x(r,n,i,c,m,g)}!r||!r[0]||this.store.addResource(r[0],n,i,c)}}}const eg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let r={};if(typeof o[1]=="object"&&(r=o[1]),de(o[1])&&(r.defaultValue=o[1]),de(o[2])&&(r.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){const n=o[3]||o[2];Object.keys(n).forEach(i=>{r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),tg=o=>(de(o.ns)&&(o.ns=[o.ns]),de(o.fallbackLng)&&(o.fallbackLng=[o.fallbackLng]),de(o.fallbackNS)&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs?.indexOf?.("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),typeof o.initImmediate=="boolean"&&(o.initAsync=o.initImmediate),o),nl=()=>{},Ty=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(n=>{typeof o[n]=="function"&&(o[n]=o[n].bind(o))})};class Ln extends jl{constructor(r={},n){if(super(),this.options=tg(r),this.services={},this.logger=Wt,this.modules={external:[]},Ty(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(de(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=eg();this.options={...i,...this.options,...tg(r)},this.options.interpolation={...i.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const c=x=>x?typeof x=="function"?new x:x:null;if(!this.options.isClone){this.modules.logger?Wt.init(c(this.modules.logger),this.options):Wt.init(null,this.options);let x;this.modules.formatter?x=this.modules.formatter:x=Cy;const p=new Jm(this.options);this.store=new Im(this.options.resources,this.options);const b=this.services;b.logger=Wt,b.resourceStore=this.store,b.languageUtils=p,b.pluralResolver=new Ny(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),x&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(b.formatter=c(x),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new wy(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new Oy(c(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(j,...S)=>{this.emit(j,...S)}),this.modules.languageDetector&&(b.languageDetector=c(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=c(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new pl(this.services,this.options),this.translator.on("*",(j,...S)=>{this.emit(j,...S)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,n||(n=nl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const x=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);x.length>0&&x[0]!=="dev"&&(this.options.lng=x[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(x=>{this[x]=(...p)=>this.store[x](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(x=>{this[x]=(...p)=>(this.store[x](...p),this)});const m=Sn(),g=()=>{const x=(p,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(b),n(p,b)};if(this.languages&&!this.isInitialized)return x(null,this.t.bind(this));this.changeLanguage(this.options.lng,x)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),m}loadResources(r,n=nl){let i=n;const c=de(r)?r:this.language;if(typeof r=="function"&&(i=r),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const d=[],h=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(x=>{x!=="cimode"&&d.indexOf(x)<0&&d.push(x)})};c?h(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>h(g)),this.options.preload?.forEach?.(m=>h(m)),this.services.backendConnector.load(d,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(m)})}else i(null)}reloadResources(r,n,i){const c=Sn();return typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),i||(i=nl),this.services.backendConnector.reload(r,n,d=>{c.resolve(),i(d)}),c}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&Kg.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const i=Sn();this.emit("languageChanging",r);const c=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},d=(m,g)=>{g?this.isLanguageChangingTo===r&&(c(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,i.resolve((...x)=>this.t(...x)),n&&n(m,(...x)=>this.t(...x))},h=m=>{!r&&!m&&this.services.languageDetector&&(m=[]);const g=de(m)?m:m&&m[0],x=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(de(m)?[m]:m);x&&(this.language||c(x),this.translator.language||this.translator.changeLanguage(x),this.services.languageDetector?.cacheUserLanguage?.(x)),this.loadResources(x,p=>{d(p,x)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(r),i}getFixedT(r,n,i){const c=(d,h,...m)=>{let g;typeof h!="object"?g=this.options.overloadTranslationOptionHandler([d,h].concat(m)):g={...h},g.lng=g.lng||c.lng,g.lngs=g.lngs||c.lngs,g.ns=g.ns||c.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||i||c.keyPrefix);const x=this.options.keySeparator||".";let p;return g.keyPrefix&&Array.isArray(d)?p=d.map(b=>(typeof b=="function"&&(b=cd(b,h)),`${g.keyPrefix}${x}${b}`)):(typeof d=="function"&&(d=cd(d,h)),p=g.keyPrefix?`${g.keyPrefix}${x}${d}`:d),this.t(p,g)};return de(r)?c.lng=r:c.lngs=r,c.ns=n,c.keyPrefix=i,c}t(...r){return this.translator?.translate(...r)}exists(...r){return this.translator?.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const h=(m,g)=>{const x=this.services.backendConnector.state[`${m}|${g}`];return x===-1||x===0||x===2};if(n.precheck){const m=n.precheck(this,h);if(m!==void 0)return m}return!!(this.hasResourceBundle(i,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(i,r)&&(!c||h(d,r)))}loadNamespaces(r,n){const i=Sn();return this.options.ns?(de(r)&&(r=[r]),r.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{i.resolve(),n&&n(c)}),i):(n&&n(),Promise.resolve())}loadLanguages(r,n){const i=Sn();de(r)&&(r=[r]);const c=this.options.preload||[],d=r.filter(h=>c.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return d.length?(this.options.preload=c.concat(d),this.loadResources(h=>{i.resolve(),n&&n(h)}),i):(n&&n(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!r)return"rtl";try{const c=new Intl.Locale(r);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new Jm(eg());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){return new Ln(r,n)}cloneInstance(r={},n=nl){const i=r.forkResourceStore;i&&delete r.forkResourceStore;const c={...this.options,...r,isClone:!0},d=new Ln(c);if((r.debug!==void 0||r.prefix!==void 0)&&(d.logger=d.logger.clone(r)),["store","services","language"].forEach(m=>{d[m]=this[m]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},i){const m=Object.keys(this.store.data).reduce((g,x)=>(g[x]={...this.store.data[x]},g[x]=Object.keys(g[x]).reduce((p,b)=>(p[b]={...g[x][b]},p),g[x]),g),{});d.store=new Im(m,c),d.services.resourceStore=d.store}return d.translator=new pl(d.services,c),d.translator.on("*",(m,...g)=>{d.emit(m,...g)}),d.init(c,n),d.translator.options=c,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dt=Ln.createInstance();dt.createInstance=Ln.createInstance;dt.createInstance;dt.dir;dt.init;dt.loadResources;dt.reloadResources;dt.use;dt.changeLanguage;dt.getFixedT;dt.t;dt.exists;dt.setDefaultNamespace;dt.hasLoadedNamespace;dt.loadNamespaces;dt.loadLanguages;const Ay=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ky={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Ry=o=>ky[o],Dy=o=>o.replace(Ay,Ry);let sg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Dy};const Ly=(o={})=>{sg={...sg,...o}},Uy={type:"3rdParty",init(o){Ly(o.options.react)}},zy=w.createContext();function My({i18n:o,defaultNS:r,children:n}){const i=w.useMemo(()=>({i18n:o,defaultNS:r}),[o,r]);return w.createElement(zy.Provider,{value:i},n)}const{slice:qy,forEach:$y}=[];function By(o){return $y.call(qy.call(arguments,1),r=>{if(r)for(const n in r)o[n]===void 0&&(o[n]=r[n])}),o}function Hy(o){return typeof o!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(o))}const ag=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Py=function(o,r){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},c=encodeURIComponent(r);let d=`${o}=${c}`;if(i.maxAge>0){const h=i.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");d+=`; Max-Age=${Math.floor(h)}`}if(i.domain){if(!ag.test(i.domain))throw new TypeError("option domain is invalid");d+=`; Domain=${i.domain}`}if(i.path){if(!ag.test(i.path))throw new TypeError("option path is invalid");d+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(d+="; HttpOnly"),i.secure&&(d+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(d+="; Partitioned"),d},rg={create(o,r,n,i){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+n*60*1e3)),i&&(c.domain=i),document.cookie=Py(o,r,c)},read(o){const r=`${o}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let c=n[i];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(r)===0)return c.substring(r.length,c.length)}return null},remove(o,r){this.create(o,"",-1,r)}};var Gy={name:"cookie",lookup(o){let{lookupCookie:r}=o;if(r&&typeof document<"u")return rg.read(r)||void 0},cacheUserLanguage(o,r){let{lookupCookie:n,cookieMinutes:i,cookieDomain:c,cookieOptions:d}=r;n&&typeof document<"u"&&rg.create(n,o,i,c,d)}},Vy={name:"querystring",lookup(o){let{lookupQuerystring:r}=o,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const d=i.substring(1).split("&");for(let h=0;h<d.length;h++){const m=d[h].indexOf("=");m>0&&d[h].substring(0,m)===r&&(n=d[h].substring(m+1))}}return n}},Fy={name:"hash",lookup(o){let{lookupHash:r,lookupFromHashIndex:n}=o,i;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const d=c.substring(1);if(r){const h=d.split("&");for(let m=0;m<h.length;m++){const g=h[m].indexOf("=");g>0&&h[m].substring(0,g)===r&&(i=h[m].substring(g+1))}}if(i)return i;if(!i&&n>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?h[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let fr=null;const ng=()=>{if(fr!==null)return fr;try{if(fr=typeof window<"u"&&window.localStorage!==null,!fr)return!1;const o="i18next.translate.boo";window.localStorage.setItem(o,"foo"),window.localStorage.removeItem(o)}catch{fr=!1}return fr};var Iy={name:"localStorage",lookup(o){let{lookupLocalStorage:r}=o;if(r&&ng())return window.localStorage.getItem(r)||void 0},cacheUserLanguage(o,r){let{lookupLocalStorage:n}=r;n&&ng()&&window.localStorage.setItem(n,o)}};let mr=null;const ig=()=>{if(mr!==null)return mr;try{if(mr=typeof window<"u"&&window.sessionStorage!==null,!mr)return!1;const o="i18next.translate.boo";window.sessionStorage.setItem(o,"foo"),window.sessionStorage.removeItem(o)}catch{mr=!1}return mr};var Yy={name:"sessionStorage",lookup(o){let{lookupSessionStorage:r}=o;if(r&&ig())return window.sessionStorage.getItem(r)||void 0},cacheUserLanguage(o,r){let{lookupSessionStorage:n}=r;n&&ig()&&window.sessionStorage.setItem(n,o)}},Ky={name:"navigator",lookup(o){const r=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:c}=navigator;if(n)for(let d=0;d<n.length;d++)r.push(n[d]);i&&r.push(i),c&&r.push(c)}return r.length>0?r:void 0}},Jy={name:"htmlTag",lookup(o){let{htmlTag:r}=o,n;const i=r||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},Qy={name:"path",lookup(o){let{lookupFromPathIndex:r}=o;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof r=="number"?r:0]?.replace("/",""):void 0}},Xy={name:"subdomain",lookup(o){let{lookupFromSubdomainIndex:r}=o;const n=typeof r=="number"?r+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let Qg=!1;try{document.cookie,Qg=!0}catch{}const Xg=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Qg||Xg.splice(1,1);const Zy=()=>({order:Xg,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:o=>o});class Zg{constructor(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(r,n)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=By(n,this.options||{},Zy()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=c=>c.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Gy),this.addDetector(Vy),this.addDetector(Iy),this.addDetector(Yy),this.addDetector(Ky),this.addDetector(Jy),this.addDetector(Qy),this.addDetector(Xy),this.addDetector(Fy)}addDetector(r){return this.detectors[r.name]=r,this}detect(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return r.forEach(i=>{if(this.detectors[i]){let c=this.detectors[i].lookup(this.options);c&&typeof c=="string"&&(c=[c]),c&&(n=n.concat(c))}}),n=n.filter(i=>i!=null&&!Hy(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(r,this.options)}))}}Zg.type="languageDetector";const lg=Object.assign({}),En={};Object.keys(lg).forEach(o=>{const r=o.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(r){const[,n]=r,i=lg[o];En[n]||(En[n]={translation:{}}),i.default&&(En[n].translation={...En[n].translation,...i.default})}});dt.use(Zg).use(Uy).init({lng:"en",fallbackLng:"en",debug:!1,resources:En,interpolation:{escapeValue:!1}});var Kc={exports:{}},_n={},Jc={exports:{}},Qc={};var og;function Wy(){return og||(og=1,(function(o){function r(H,J){var ae=H.length;H.push(J);e:for(;0<ae;){var oe=ae-1>>>1,xe=H[oe];if(0<c(xe,J))H[oe]=J,H[ae]=xe,ae=oe;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var J=H[0],ae=H.pop();if(ae!==J){H[0]=ae;e:for(var oe=0,xe=H.length,R=xe>>>1;oe<R;){var G=2*(oe+1)-1,Q=H[G],P=G+1,ee=H[P];if(0>c(Q,ae))P<xe&&0>c(ee,Q)?(H[oe]=ee,H[P]=ae,oe=P):(H[oe]=Q,H[G]=ae,oe=G);else if(P<xe&&0>c(ee,ae))H[oe]=ee,H[P]=ae,oe=P;else break e}}return J}function c(H,J){var ae=H.sortIndex-J.sortIndex;return ae!==0?ae:H.id-J.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();o.unstable_now=function(){return h.now()-m}}var g=[],x=[],p=1,b=null,_=3,j=!1,S=!1,O=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(H){for(var J=n(x);J!==null;){if(J.callback===null)i(x);else if(J.startTime<=H)i(x),J.sortIndex=J.expirationTime,r(g,J);else break;J=n(x)}}function z(H){if(O=!1,E(H),!S)if(n(g)!==null)S=!0,D||(D=!0,Ee());else{var J=n(x);J!==null&&Ae(z,J.startTime-H)}}var D=!1,k=-1,K=5,X=-1;function se(){return v?!0:!(o.unstable_now()-X<K)}function Ne(){if(v=!1,D){var H=o.unstable_now();X=H;var J=!0;try{e:{S=!1,O&&(O=!1,A(k),k=-1),j=!0;var ae=_;try{t:{for(E(H),b=n(g);b!==null&&!(b.expirationTime>H&&se());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,_=b.priorityLevel;var xe=oe(b.expirationTime<=H);if(H=o.unstable_now(),typeof xe=="function"){b.callback=xe,E(H),J=!0;break t}b===n(g)&&i(g),E(H)}else i(g);b=n(g)}if(b!==null)J=!0;else{var R=n(x);R!==null&&Ae(z,R.startTime-H),J=!1}}break e}finally{b=null,_=ae,j=!1}J=void 0}}finally{J?Ee():D=!1}}}var Ee;if(typeof C=="function")Ee=function(){C(Ne)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ue=Z.port2;Z.port1.onmessage=Ne,Ee=function(){ue.postMessage(null)}}else Ee=function(){T(Ne,0)};function Ae(H,J){k=T(function(){H(o.unstable_now())},J)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(H){H.callback=null},o.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},o.unstable_getCurrentPriorityLevel=function(){return _},o.unstable_next=function(H){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var ae=_;_=J;try{return H()}finally{_=ae}},o.unstable_requestPaint=function(){v=!0},o.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=_;_=H;try{return J()}finally{_=ae}},o.unstable_scheduleCallback=function(H,J,ae){var oe=o.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?oe+ae:oe):ae=oe,H){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ae+xe,H={id:p++,callback:J,priorityLevel:H,startTime:ae,expirationTime:xe,sortIndex:-1},ae>oe?(H.sortIndex=ae,r(x,H),n(g)===null&&H===n(x)&&(O?(A(k),k=-1):O=!0,Ae(z,ae-oe))):(H.sortIndex=xe,r(g,H),S||j||(S=!0,D||(D=!0,Ee()))),H},o.unstable_shouldYield=se,o.unstable_wrapCallback=function(H){var J=_;return function(){var ae=_;_=J;try{return H.apply(this,arguments)}finally{_=ae}}}})(Qc)),Qc}var cg;function eb(){return cg||(cg=1,Jc.exports=Wy()),Jc.exports}var Xc={exports:{}},ut={};var dg;function tb(){if(dg)return ut;dg=1;var o=wd();function r(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)x+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,x,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:x,implementation:p}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(g,x){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return d(g,x,null,p)},ut.flushSync=function(g){var x=h.T,p=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=x,i.p=p,i.d.f()}},ut.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},ut.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ut.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var p=x.as,b=m(p,x.crossOrigin),_=typeof x.integrity=="string"?x.integrity:void 0,j=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;p==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:j}):p==="script"&&i.d.X(g,{crossOrigin:b,integrity:_,fetchPriority:j,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},ut.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var p=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},ut.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var p=x.as,b=m(p,x.crossOrigin);i.d.L(g,p,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},ut.preloadModule=function(g,x){if(typeof g=="string")if(x){var p=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},ut.requestFormReset=function(g){i.d.r(g)},ut.unstable_batchedUpdates=function(g,x){return g(x)},ut.useFormState=function(g,x,p){return h.H.useFormState(g,x,p)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var ug;function sb(){if(ug)return Xc.exports;ug=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Xc.exports=tb(),Xc.exports}var hg;function ab(){if(hg)return _n;hg=1;var o=eb(),r=wd(),n=sb();function i(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(i(188))}function x(e){var s=e.alternate;if(!s){if(s=d(e),s===null)throw Error(i(188));return s!==e?null:e}for(var a=e,l=s;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),e;if(f===l)return g(u),s;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=u,l=f;else{for(var y=!1,N=u.child;N;){if(N===a){y=!0,a=u,l=f;break}if(N===l){y=!0,l=u,a=f;break}N=N.sibling}if(!y){for(N=f.child;N;){if(N===a){y=!0,a=f,l=u;break}if(N===l){y=!0,l=f,a=u;break}N=N.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:s}function p(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=p(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=Ne&&e[Ne]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case T:return"Profiler";case v:return"StrictMode";case z:return"Suspense";case D:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case C:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case E:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return s=e.displayName||null,s!==null?s:ue(e.type)||"Memo";case K:s=e._payload,e=e._init;try{return ue(e(s))}catch{}}return null}var Ae=Array.isArray,H=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},oe=[],xe=-1;function R(e){return{current:e}}function G(e){0>xe||(e.current=oe[xe],oe[xe]=null,xe--)}function Q(e,s){xe++,oe[xe]=e.current,e.current=s}var P=R(null),ee=R(null),te=R(null),ce=R(null);function Pe(e,s){switch(Q(te,s),Q(ee,e),Q(P,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?lm(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=lm(s),e=om(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(P),Q(P,e)}function Me(){G(P),G(ee),G(te)}function Ea(e){e.memoizedState!==null&&Q(ce,e);var s=P.current,a=om(s,e.type);s!==a&&(Q(ee,e),Q(P,a))}function sa(e){ee.current===e&&(G(P),G(ee)),ce.current===e&&(G(ce),bn._currentValue=ae)}var Cl,zd;function aa(e){if(Cl===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Cl=s&&s[1]||"",zd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cl+e+zd}var El=!1;function Ol(e,s){if(!e||El)return"";El=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(V){var B=V}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(V){B=V}e.call(Y.prototype)}}else{try{throw Error()}catch(V){B=V}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(V){if(V&&B&&typeof V.stack=="string")return[V.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],N=f[1];if(y&&N){var L=y.split(`
`),$=N.split(`
`);for(u=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;if(l===L.length||u===$.length)for(l=L.length-1,u=$.length-1;1<=l&&0<=u&&L[l]!==$[u];)u--;for(;1<=l&&0<=u;l--,u--)if(L[l]!==$[u]){if(l!==1||u!==1)do if(l--,u--,0>u||L[l]!==$[u]){var F=`
`+L[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=u);break}}}finally{El=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?aa(a):""}function zx(e,s){switch(e.tag){case 26:case 27:case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return e.child!==s&&s!==null?aa("Suspense Fallback"):aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return Ol(e.type,!1);case 11:return Ol(e.type.render,!1);case 1:return Ol(e.type,!0);case 31:return aa("Activity");default:return""}}function Md(e){try{var s="",a=null;do s+=zx(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tl=Object.prototype.hasOwnProperty,Al=o.unstable_scheduleCallback,kl=o.unstable_cancelCallback,Mx=o.unstable_shouldYield,qx=o.unstable_requestPaint,jt=o.unstable_now,$x=o.unstable_getCurrentPriorityLevel,qd=o.unstable_ImmediatePriority,$d=o.unstable_UserBlockingPriority,Pn=o.unstable_NormalPriority,Bx=o.unstable_LowPriority,Bd=o.unstable_IdlePriority,Hx=o.log,Px=o.unstable_setDisableYieldValue,Ar=null,Nt=null;function _s(e){if(typeof Hx=="function"&&Px(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ar,e)}catch{}}var wt=Math.clz32?Math.clz32:Fx,Gx=Math.log,Vx=Math.LN2;function Fx(e){return e>>>=0,e===0?32:31-(Gx(e)/Vx|0)|0}var Gn=256,Vn=262144,Fn=4194304;function ra(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function In(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var N=l&134217727;return N!==0?(l=N&~f,l!==0?u=ra(l):(y&=N,y!==0?u=ra(y):a||(a=N&~e,a!==0&&(u=ra(a))))):(N=l&~f,N!==0?u=ra(N):y!==0?u=ra(y):a||(a=l&~e,a!==0&&(u=ra(a)))),u===0?0:s!==0&&s!==u&&(s&f)===0&&(f=u&-u,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:u}function kr(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Ix(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hd(){var e=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),e}function Rl(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Rr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yx(e,s,a,l,u,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var N=e.entanglements,L=e.expirationTimes,$=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-wt(a),Y=1<<F;N[F]=0,L[F]=-1;var B=$[F];if(B!==null)for($[F]=null,F=0;F<B.length;F++){var V=B[F];V!==null&&(V.lane&=-536870913)}a&=~Y}l!==0&&Pd(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~s))}function Pd(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-wt(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Gd(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-wt(a),u=1<<l;u&s|e[l]&s&&(e[l]|=s),a&=~u}}function Vd(e,s){var a=s&-s;return a=(a&42)!==0?1:Dl(a),(a&(e.suspendedLanes|s))!==0?0:a}function Dl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ll(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fd(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:km(e.type))}function Id(e,s){var a=J.p;try{return J.p=e,s()}finally{J.p=a}}var Cs=Math.random().toString(36).slice(2),nt="__reactFiber$"+Cs,mt="__reactProps$"+Cs,Oa="__reactContainer$"+Cs,Ul="__reactEvents$"+Cs,Kx="__reactListeners$"+Cs,Jx="__reactHandles$"+Cs,Yd="__reactResources$"+Cs,Dr="__reactMarker$"+Cs;function zl(e){delete e[nt],delete e[mt],delete e[Ul],delete e[Kx],delete e[Jx]}function Ta(e){var s=e[nt];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Oa]||a[nt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=gm(e);e!==null;){if(a=e[nt])return a;e=gm(e)}return s}e=a,a=e.parentNode}return null}function Aa(e){if(e=e[nt]||e[Oa]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Lr(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(i(33))}function ka(e){var s=e[Yd];return s||(s=e[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function st(e){e[Dr]=!0}var Kd=new Set,Jd={};function na(e,s){Ra(e,s),Ra(e+"Capture",s)}function Ra(e,s){for(Jd[e]=s,e=0;e<s.length;e++)Kd.add(s[e])}var Qx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},Xd={};function Xx(e){return Tl.call(Xd,e)?!0:Tl.call(Qd,e)?!1:Qx.test(e)?Xd[e]=!0:(Qd[e]=!0,!1)}function Yn(e,s,a){if(Xx(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Kn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function ts(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zd(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zx(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return u.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Ml(e){if(!e._valueTracker){var s=Zd(e)?"checked":"value";e._valueTracker=Zx(e,s,""+e[s])}}function Wd(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Zd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wx=/[\n"\\]/g;function Rt(e){return e.replace(Wx,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ql(e,s,a,l,u,f,y,N){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),s!=null?y==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+kt(s)):e.value!==""+kt(s)&&(e.value=""+kt(s)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),s!=null?$l(e,y,kt(s)):a!=null?$l(e,y,kt(a)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+kt(N):e.removeAttribute("name")}function eu(e,s,a,l,u,f,y,N){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Ml(e);return}a=a!=null?""+kt(a):"",s=s!=null?""+kt(s):a,N||s===e.value||(e.value=s),e.defaultValue=s}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=N?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Ml(e)}function $l(e,s,a){s==="number"&&Jn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Da(e,s,a,l){if(e=e.options,s){s={};for(var u=0;u<a.length;u++)s["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=s.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+kt(a),s=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}s!==null||e[u].disabled||(s=e[u])}s!==null&&(s.selected=!0)}}function tu(e,s,a){if(s!=null&&(s=""+kt(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+kt(a):""}function su(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Ae(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=kt(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ml(e)}function La(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var e0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||e0.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function ru(e,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in s)l=s[u],s.hasOwnProperty(u)&&a[u]!==l&&au(e,u,l)}else for(var f in s)s.hasOwnProperty(f)&&au(e,f,s[f])}function Bl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(e){return s0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ss(){}var Hl=null;function Pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,za=null;function nu(e){var s=Aa(e);if(s&&(e=s.stateNode)){var a=e[mt]||null;e:switch(e=s.stateNode,s.type){case"input":if(ql(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var u=l[mt]||null;if(!u)throw Error(i(90));ql(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Wd(l)}break e;case"textarea":tu(e,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Da(e,!!a.multiple,s,!1)}}}var Gl=!1;function iu(e,s,a){if(Gl)return e(s,a);Gl=!0;try{var l=e(s);return l}finally{if(Gl=!1,(Ua!==null||za!==null)&&(Mi(),Ua&&(s=Ua,e=za,za=Ua=null,nu(s),e)))for(s=0;s<e.length;s++)nu(e[s])}}function Ur(e,s){var a=e.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(as)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Vl=!1}var Es=null,Fl=null,Xn=null;function lu(){if(Xn)return Xn;var e,s=Fl,a=s.length,l,u="value"in Es?Es.value:Es.textContent,f=u.length;for(e=0;e<a&&s[e]===u[e];e++);var y=a-e;for(l=1;l<=y&&s[a-l]===u[f-l];l++);return Xn=u.slice(e,1<l?1-l:void 0)}function Zn(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function ou(){return!1}function gt(e){function s(a,l,u,f,y){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(a=e[N],this[N]=a?a(f):f[N]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wn:ou,this.isPropagationStopped=ou,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),s}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=gt(ia),Mr=b({},ia,{view:0,detail:0}),a0=gt(Mr),Il,Yl,qr,ti=b({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(Il=e.screenX-qr.screenX,Yl=e.screenY-qr.screenY):Yl=Il=0,qr=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Yl}}),cu=gt(ti),r0=b({},ti,{dataTransfer:0}),n0=gt(r0),i0=b({},Mr,{relatedTarget:0}),Kl=gt(i0),l0=b({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=gt(l0),c0=b({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d0=gt(c0),u0=b({},ia,{data:0}),du=gt(u0),h0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g0(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=m0[e])?!!s[e]:!1}function Jl(){return g0}var x0=b({},Mr,{key:function(e){if(e.key){var s=h0[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p0=gt(x0),y0=b({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=gt(y0),b0=b({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),v0=gt(b0),j0=b({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),N0=gt(j0),w0=b({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S0=gt(w0),_0=b({},ia,{newState:0,oldState:0}),C0=gt(_0),E0=[9,13,27,32],Ql=as&&"CompositionEvent"in window,$r=null;as&&"documentMode"in document&&($r=document.documentMode);var O0=as&&"TextEvent"in window&&!$r,hu=as&&(!Ql||$r&&8<$r&&11>=$r),fu=" ",mu=!1;function gu(e,s){switch(e){case"keyup":return E0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function T0(e,s){switch(e){case"compositionend":return xu(s);case"keypress":return s.which!==32?null:(mu=!0,fu);case"textInput":return e=s.data,e===fu&&mu?null:e;default:return null}}function A0(e,s){if(Ma)return e==="compositionend"||!Ql&&gu(e,s)?(e=lu(),Xn=Fl=Es=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hu&&s.locale!=="ko"?null:s.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!k0[e.type]:s==="textarea"}function yu(e,s,a,l){Ua?za?za.push(l):za=[l]:Ua=l,s=Vi(s,"onChange"),0<s.length&&(a=new ei("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Br=null,Hr=null;function R0(e){tm(e,0)}function si(e){var s=Lr(e);if(Wd(s))return e}function bu(e,s){if(e==="change")return s}var vu=!1;if(as){var Xl;if(as){var Zl="oninput"in document;if(!Zl){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),Zl=typeof ju.oninput=="function"}Xl=Zl}else Xl=!1;vu=Xl&&(!document.documentMode||9<document.documentMode)}function Nu(){Br&&(Br.detachEvent("onpropertychange",wu),Hr=Br=null)}function wu(e){if(e.propertyName==="value"&&si(Hr)){var s=[];yu(s,Hr,e,Pl(e)),iu(R0,s)}}function D0(e,s,a){e==="focusin"?(Nu(),Br=s,Hr=a,Br.attachEvent("onpropertychange",wu)):e==="focusout"&&Nu()}function L0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(Hr)}function U0(e,s){if(e==="click")return si(s)}function z0(e,s){if(e==="input"||e==="change")return si(s)}function M0(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var St=typeof Object.is=="function"?Object.is:M0;function Pr(e,s){if(St(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Tl.call(s,u)||!St(e[u],s[u]))return!1}return!0}function Su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,s){var a=Su(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Su(a)}}function Cu(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Cu(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Eu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Jn(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Jn(e.document)}return s}function Wl(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var q0=as&&"documentMode"in document&&11>=document.documentMode,qa=null,eo=null,Gr=null,to=!1;function Ou(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;to||qa==null||qa!==Jn(l)||(l=qa,"selectionStart"in l&&Wl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gr&&Pr(Gr,l)||(Gr=l,l=Vi(eo,"onSelect"),0<l.length&&(s=new ei("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=qa)))}function la(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var $a={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},so={},Tu={};as&&(Tu=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function oa(e){if(so[e])return so[e];if(!$a[e])return e;var s=$a[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Tu)return so[e]=s[a];return e}var Au=oa("animationend"),ku=oa("animationiteration"),Ru=oa("animationstart"),$0=oa("transitionrun"),B0=oa("transitionstart"),H0=oa("transitioncancel"),Du=oa("transitionend"),Lu=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function Gt(e,s){Lu.set(e,s),na(s,[e])}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Ba=0,ro=0;function ri(){for(var e=Ba,s=ro=Ba=0;s<e;){var a=Dt[s];Dt[s++]=null;var l=Dt[s];Dt[s++]=null;var u=Dt[s];Dt[s++]=null;var f=Dt[s];if(Dt[s++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}f!==0&&Uu(a,u,f)}}function ni(e,s,a,l){Dt[Ba++]=e,Dt[Ba++]=s,Dt[Ba++]=a,Dt[Ba++]=l,ro|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function no(e,s,a,l){return ni(e,s,a,l),ii(e)}function ca(e,s){return ni(e,null,null,s),ii(e)}function Uu(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&s!==null&&(u=31-wt(a),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[s]:l.push(s),s.lane=a|536870912),f):null}function ii(e){if(50<hn)throw hn=0,gc=null,Error(i(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ha={};function P0(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,s,a,l){return new P0(e,s,a,l)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rs(e,s){var a=e.alternate;return a===null?(a=_t(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zu(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function li(e,s,a,l,u,f){var y=0;if(l=e,typeof e=="function")io(e)&&(y=1);else if(typeof e=="string")y=Yp(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=_t(31,a,s,u),e.elementType=X,e.lanes=f,e;case O:return da(a.children,u,f,s);case v:y=8,u|=24;break;case T:return e=_t(12,a,s,u|2),e.elementType=T,e.lanes=f,e;case z:return e=_t(13,a,s,u),e.elementType=z,e.lanes=f,e;case D:return e=_t(19,a,s,u),e.elementType=D,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:y=10;break e;case A:y=9;break e;case E:y=11;break e;case k:y=14;break e;case K:y=16,l=null;break e}y=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return s=_t(y,a,s,u),s.elementType=e,s.type=l,s.lanes=f,s}function da(e,s,a,l){return e=_t(7,e,l,s),e.lanes=a,e}function lo(e,s,a){return e=_t(6,e,null,s),e.lanes=a,e}function Mu(e){var s=_t(18,null,null,0);return s.stateNode=e,s}function oo(e,s,a){return s=_t(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var qu=new WeakMap;function Lt(e,s){if(typeof e=="object"&&e!==null){var a=qu.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Md(s)},qu.set(e,s),s)}return{value:e,source:s,stack:Md(s)}}var Pa=[],Ga=0,oi=null,Vr=0,Ut=[],zt=0,Os=null,Kt=1,Jt="";function ns(e,s){Pa[Ga++]=Vr,Pa[Ga++]=oi,oi=e,Vr=s}function $u(e,s,a){Ut[zt++]=Kt,Ut[zt++]=Jt,Ut[zt++]=Os,Os=e;var l=Kt;e=Jt;var u=32-wt(l)-1;l&=~(1<<u),a+=1;var f=32-wt(s)+u;if(30<f){var y=u-u%5;f=(l&(1<<y)-1).toString(32),l>>=y,u-=y,Kt=1<<32-wt(s)+u|a<<u|l,Jt=f+e}else Kt=1<<f|a<<u|l,Jt=e}function co(e){e.return!==null&&(ns(e,1),$u(e,1,0))}function uo(e){for(;e===oi;)oi=Pa[--Ga],Pa[Ga]=null,Vr=Pa[--Ga],Pa[Ga]=null;for(;e===Os;)Os=Ut[--zt],Ut[zt]=null,Jt=Ut[--zt],Ut[zt]=null,Kt=Ut[--zt],Ut[zt]=null}function Bu(e,s){Ut[zt++]=Kt,Ut[zt++]=Jt,Ut[zt++]=Os,Kt=s.id,Jt=s.overflow,Os=e}var it=null,$e=null,we=!1,Ts=null,Mt=!1,ho=Error(i(519));function As(e){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fr(Lt(s,e)),ho}function Hu(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[nt]=e,s[mt]=l,a){case"dialog":ye("cancel",s),ye("close",s);break;case"iframe":case"object":case"embed":ye("load",s);break;case"video":case"audio":for(a=0;a<mn.length;a++)ye(mn[a],s);break;case"source":ye("error",s);break;case"img":case"image":case"link":ye("error",s),ye("load",s);break;case"details":ye("toggle",s);break;case"input":ye("invalid",s),eu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ye("invalid",s);break;case"textarea":ye("invalid",s),su(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||nm(s.textContent,a)?(l.popover!=null&&(ye("beforetoggle",s),ye("toggle",s)),l.onScroll!=null&&ye("scroll",s),l.onScrollEnd!=null&&ye("scrollend",s),l.onClick!=null&&(s.onclick=ss),s=!0):s=!1,s||As(e,!0)}function Pu(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:it=it.return}}function Va(e){if(e!==it)return!1;if(!we)return Pu(e),we=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ac(e.type,e.memoizedProps)),a=!a),a&&$e&&As(e),Pu(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=mm(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=mm(e)}else s===27?(s=$e,Vs(e.type)?(e=Uc,Uc=null,$e=e):$e=s):$e=it?$t(e.stateNode.nextSibling):null;return!0}function ua(){$e=it=null,we=!1}function fo(){var e=Ts;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),Ts=null),e}function Fr(e){Ts===null?Ts=[e]:Ts.push(e)}var mo=R(null),ha=null,is=null;function ks(e,s,a){Q(mo,s._currentValue),s._currentValue=a}function ls(e){e._currentValue=mo.current,G(mo)}function go(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function xo(e,s,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var N=f;f=u;for(var L=0;L<s.length;L++)if(N.context===s[L]){f.lanes|=a,N=f.alternate,N!==null&&(N.lanes|=a),go(f.return,a,e),l||(y=null);break e}f=N.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(i(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),go(y,a,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Fa(e,s,a,l){e=null;for(var u=s,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var N=u.type;St(u.pendingProps.value,y.value)||(e!==null?e.push(N):e=[N])}}else if(u===ce.current){if(y=u.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(bn):e=[bn])}u=u.return}e!==null&&xo(s,e,a,l),s.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){ha=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Gu(ha,e)}function di(e,s){return ha===null&&fa(e),Gu(e,s)}function Gu(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},is===null){if(e===null)throw Error(i(308));is=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else is=is.next=s;return a}var G0=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},V0=o.unstable_scheduleCallback,F0=o.unstable_NormalPriority,Ke={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function po(){return{controller:new G0,data:new Map,refCount:0}}function Ir(e){e.refCount--,e.refCount===0&&V0(F0,function(){e.controller.abort()})}var Yr=null,yo=0,Ia=0,Ya=null;function I0(e,s){if(Yr===null){var a=Yr=[];yo=0,Ia=jc(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yo++,s.then(Vu,Vu),s}function Vu(){if(--yo===0&&Yr!==null){Ya!==null&&(Ya.status="fulfilled");var e=Yr;Yr=null,Ia=0,Ya=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Y0(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var u=0;u<a.length;u++)(0,a[u])(s)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Fu=H.S;H.S=function(e,s){Tf=jt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&I0(e,s),Fu!==null&&Fu(e,s)};var ma=R(null);function bo(){var e=ma.current;return e!==null?e:ze.pooledCache}function ui(e,s){s===null?Q(ma,ma.current):Q(ma,s.pool)}function Iu(){var e=bo();return e===null?null:{parent:Ke._currentValue,pool:e}}var Ka=Error(i(460)),vo=Error(i(474)),hi=Error(i(542)),fi={then:function(){}};function Yu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ku(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(ss,ss),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Qu(e),e;default:if(typeof s.status=="string")s.then(ss,ss);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var u=s;u.status="fulfilled",u.value=l}},function(l){if(s.status==="pending"){var u=s;u.status="rejected",u.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Qu(e),e}throw xa=s,Ka}}function ga(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xa=a,Ka):a}}var xa=null;function Ju(){if(xa===null)throw Error(i(459));var e=xa;return xa=null,e}function Qu(e){if(e===Ka||e===hi)throw Error(i(483))}var Ja=null,Kr=0;function mi(e){var s=Kr;return Kr+=1,Ja===null&&(Ja=[]),Ku(Ja,e,s)}function Jr(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function gi(e,s){throw s.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(s),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Xu(e){function s(M,U){if(e){var q=M.deletions;q===null?(M.deletions=[U],M.flags|=16):q.push(U)}}function a(M,U){if(!e)return null;for(;U!==null;)s(M,U),U=U.sibling;return null}function l(M){for(var U=new Map;M!==null;)M.key!==null?U.set(M.key,M):U.set(M.index,M),M=M.sibling;return U}function u(M,U){return M=rs(M,U),M.index=0,M.sibling=null,M}function f(M,U,q){return M.index=q,e?(q=M.alternate,q!==null?(q=q.index,q<U?(M.flags|=67108866,U):q):(M.flags|=67108866,U)):(M.flags|=1048576,U)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function N(M,U,q,I){return U===null||U.tag!==6?(U=lo(q,M.mode,I),U.return=M,U):(U=u(U,q),U.return=M,U)}function L(M,U,q,I){var ie=q.type;return ie===O?F(M,U,q.props.children,I,q.key):U!==null&&(U.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===K&&ga(ie)===U.type)?(U=u(U,q.props),Jr(U,q),U.return=M,U):(U=li(q.type,q.key,q.props,null,M.mode,I),Jr(U,q),U.return=M,U)}function $(M,U,q,I){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=oo(q,M.mode,I),U.return=M,U):(U=u(U,q.children||[]),U.return=M,U)}function F(M,U,q,I,ie){return U===null||U.tag!==7?(U=da(q,M.mode,I,ie),U.return=M,U):(U=u(U,q),U.return=M,U)}function Y(M,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=lo(""+U,M.mode,q),U.return=M,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return q=li(U.type,U.key,U.props,null,M.mode,q),Jr(q,U),q.return=M,q;case S:return U=oo(U,M.mode,q),U.return=M,U;case K:return U=ga(U),Y(M,U,q)}if(Ae(U)||Ee(U))return U=da(U,M.mode,q,null),U.return=M,U;if(typeof U.then=="function")return Y(M,mi(U),q);if(U.$$typeof===C)return Y(M,di(M,U),q);gi(M,U)}return null}function B(M,U,q,I){var ie=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ie!==null?null:N(M,U,""+q,I);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===ie?L(M,U,q,I):null;case S:return q.key===ie?$(M,U,q,I):null;case K:return q=ga(q),B(M,U,q,I)}if(Ae(q)||Ee(q))return ie!==null?null:F(M,U,q,I,null);if(typeof q.then=="function")return B(M,U,mi(q),I);if(q.$$typeof===C)return B(M,U,di(M,q),I);gi(M,q)}return null}function V(M,U,q,I,ie){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return M=M.get(q)||null,N(U,M,""+I,ie);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case j:return M=M.get(I.key===null?q:I.key)||null,L(U,M,I,ie);case S:return M=M.get(I.key===null?q:I.key)||null,$(U,M,I,ie);case K:return I=ga(I),V(M,U,q,I,ie)}if(Ae(I)||Ee(I))return M=M.get(q)||null,F(U,M,I,ie,null);if(typeof I.then=="function")return V(M,U,q,mi(I),ie);if(I.$$typeof===C)return V(M,U,q,di(U,I),ie);gi(U,I)}return null}function re(M,U,q,I){for(var ie=null,Se=null,ne=U,ge=U=0,je=null;ne!==null&&ge<q.length;ge++){ne.index>ge?(je=ne,ne=null):je=ne.sibling;var _e=B(M,ne,q[ge],I);if(_e===null){ne===null&&(ne=je);break}e&&ne&&_e.alternate===null&&s(M,ne),U=f(_e,U,ge),Se===null?ie=_e:Se.sibling=_e,Se=_e,ne=je}if(ge===q.length)return a(M,ne),we&&ns(M,ge),ie;if(ne===null){for(;ge<q.length;ge++)ne=Y(M,q[ge],I),ne!==null&&(U=f(ne,U,ge),Se===null?ie=ne:Se.sibling=ne,Se=ne);return we&&ns(M,ge),ie}for(ne=l(ne);ge<q.length;ge++)je=V(ne,M,ge,q[ge],I),je!==null&&(e&&je.alternate!==null&&ne.delete(je.key===null?ge:je.key),U=f(je,U,ge),Se===null?ie=je:Se.sibling=je,Se=je);return e&&ne.forEach(function(Js){return s(M,Js)}),we&&ns(M,ge),ie}function le(M,U,q,I){if(q==null)throw Error(i(151));for(var ie=null,Se=null,ne=U,ge=U=0,je=null,_e=q.next();ne!==null&&!_e.done;ge++,_e=q.next()){ne.index>ge?(je=ne,ne=null):je=ne.sibling;var Js=B(M,ne,_e.value,I);if(Js===null){ne===null&&(ne=je);break}e&&ne&&Js.alternate===null&&s(M,ne),U=f(Js,U,ge),Se===null?ie=Js:Se.sibling=Js,Se=Js,ne=je}if(_e.done)return a(M,ne),we&&ns(M,ge),ie;if(ne===null){for(;!_e.done;ge++,_e=q.next())_e=Y(M,_e.value,I),_e!==null&&(U=f(_e,U,ge),Se===null?ie=_e:Se.sibling=_e,Se=_e);return we&&ns(M,ge),ie}for(ne=l(ne);!_e.done;ge++,_e=q.next())_e=V(ne,M,ge,_e.value,I),_e!==null&&(e&&_e.alternate!==null&&ne.delete(_e.key===null?ge:_e.key),U=f(_e,U,ge),Se===null?ie=_e:Se.sibling=_e,Se=_e);return e&&ne.forEach(function(ry){return s(M,ry)}),we&&ns(M,ge),ie}function De(M,U,q,I){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var ie=q.key;U!==null;){if(U.key===ie){if(ie=q.type,ie===O){if(U.tag===7){a(M,U.sibling),I=u(U,q.props.children),I.return=M,M=I;break e}}else if(U.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===K&&ga(ie)===U.type){a(M,U.sibling),I=u(U,q.props),Jr(I,q),I.return=M,M=I;break e}a(M,U);break}else s(M,U);U=U.sibling}q.type===O?(I=da(q.props.children,M.mode,I,q.key),I.return=M,M=I):(I=li(q.type,q.key,q.props,null,M.mode,I),Jr(I,q),I.return=M,M=I)}return y(M);case S:e:{for(ie=q.key;U!==null;){if(U.key===ie)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(M,U.sibling),I=u(U,q.children||[]),I.return=M,M=I;break e}else{a(M,U);break}else s(M,U);U=U.sibling}I=oo(q,M.mode,I),I.return=M,M=I}return y(M);case K:return q=ga(q),De(M,U,q,I)}if(Ae(q))return re(M,U,q,I);if(Ee(q)){if(ie=Ee(q),typeof ie!="function")throw Error(i(150));return q=ie.call(q),le(M,U,q,I)}if(typeof q.then=="function")return De(M,U,mi(q),I);if(q.$$typeof===C)return De(M,U,di(M,q),I);gi(M,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(M,U.sibling),I=u(U,q),I.return=M,M=I):(a(M,U),I=lo(q,M.mode,I),I.return=M,M=I),y(M)):a(M,U)}return function(M,U,q,I){try{Kr=0;var ie=De(M,U,q,I);return Ja=null,ie}catch(ne){if(ne===Ka||ne===hi)throw ne;var Se=_t(29,ne,null,M.mode);return Se.lanes=I,Se.return=M,Se}finally{}}}var pa=Xu(!0),Zu=Xu(!1),Rs=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var u=l.pending;return u===null?s.next=s:(s.next=u.next,u.next=s),l.pending=s,s=ii(e),Uu(e,null,a),s}return ni(e,l,s,a),ii(e)}function Qr(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Gd(e,a)}}function wo(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?u=f=s:f=f.next=s}else u=f=s;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var So=!1;function Xr(){if(So){var e=Ya;if(e!==null)throw e}}function Zr(e,s,a,l){So=!1;var u=e.updateQueue;Rs=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var L=N,$=L.next;L.next=null,y===null?f=$:y.next=$,y=L;var F=e.alternate;F!==null&&(F=F.updateQueue,N=F.lastBaseUpdate,N!==y&&(N===null?F.firstBaseUpdate=$:N.next=$,F.lastBaseUpdate=L))}if(f!==null){var Y=u.baseState;y=0,F=$=L=null,N=f;do{var B=N.lane&-536870913,V=B!==N.lane;if(V?(ve&B)===B:(l&B)===B){B!==0&&B===Ia&&(So=!0),F!==null&&(F=F.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var re=e,le=N;B=s;var De=a;switch(le.tag){case 1:if(re=le.payload,typeof re=="function"){Y=re.call(De,Y,B);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=le.payload,B=typeof re=="function"?re.call(De,Y,B):re,B==null)break e;Y=b({},Y,B);break e;case 2:Rs=!0}}B=N.callback,B!==null&&(e.flags|=64,V&&(e.flags|=8192),V=u.callbacks,V===null?u.callbacks=[B]:V.push(B))}else V={lane:B,tag:N.tag,payload:N.payload,callback:N.callback,next:null},F===null?($=F=V,L=Y):F=F.next=V,y|=B;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;V=N,N=V.next,V.next=null,u.lastBaseUpdate=V,u.shared.pending=null}}while(!0);F===null&&(L=Y),u.baseState=L,u.firstBaseUpdate=$,u.lastBaseUpdate=F,f===null&&(u.shared.lanes=0),$s|=y,e.lanes=y,e.memoizedState=Y}}function Wu(e,s){if(typeof e!="function")throw Error(i(191,e));e.call(s)}function eh(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wu(a[e],s)}var Qa=R(null),xi=R(0);function th(e,s){e=xs,Q(xi,e),Q(Qa,s),xs=e|s.baseLanes}function _o(){Q(xi,xs),Q(Qa,Qa.current)}function Co(){xs=xi.current,G(Qa),G(xi)}var Ct=R(null),qt=null;function Us(e){var s=e.alternate;Q(Ie,Ie.current&1),Q(Ct,e),qt===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(qt=e)}function Eo(e){Q(Ie,Ie.current),Q(Ct,e),qt===null&&(qt=e)}function sh(e){e.tag===22?(Q(Ie,Ie.current),Q(Ct,e),qt===null&&(qt=e)):zs()}function zs(){Q(Ie,Ie.current),Q(Ct,Ct.current)}function Et(e){G(Ct),qt===e&&(qt=null),G(Ie)}var Ie=R(0);function pi(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dc(a)||Lc(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var os=0,fe=null,ke=null,Je=null,yi=!1,Xa=!1,ya=!1,bi=0,Wr=0,Za=null,K0=0;function Ge(){throw Error(i(321))}function Oo(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!St(e[a],s[a]))return!1;return!0}function To(e,s,a,l,u,f){return os=f,fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=e===null||e.memoizedState===null?$h:Vo,ya=!1,f=a(l,u),ya=!1,Xa&&(f=rh(s,a,l,u)),ah(e),f}function ah(e){H.H=sn;var s=ke!==null&&ke.next!==null;if(os=0,Je=ke=fe=null,yi=!1,Wr=0,Za=null,s)throw Error(i(300));e===null||Qe||(e=e.dependencies,e!==null&&ci(e)&&(Qe=!0))}function rh(e,s,a,l){fe=e;var u=0;do{if(Xa&&(Za=null),Wr=0,Xa=!1,25<=u)throw Error(i(301));if(u+=1,Je=ke=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Bh,f=s(a,l)}while(Xa);return f}function J0(){var e=H.H,s=e.useState()[0];return s=typeof s.then=="function"?en(s):s,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(fe.flags|=1024),s}function Ao(){var e=bi!==0;return bi=0,e}function ko(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Ro(e){if(yi){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}yi=!1}os=0,Je=ke=fe=null,Xa=!1,Wr=bi=0,Za=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?fe.memoizedState=Je=e:Je=Je.next=e,Je}function Ye(){if(ke===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var s=Je===null?fe.memoizedState:Je.next;if(s!==null)Je=s,ke=e;else{if(e===null)throw fe.alternate===null?Error(i(467)):Error(i(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Je===null?fe.memoizedState=Je=e:Je=Je.next=e}return Je}function vi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function en(e){var s=Wr;return Wr+=1,Za===null&&(Za=[]),e=Ku(Za,e,s),s=fe,(Je===null?s.memoizedState:Je.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?$h:Vo),e}function ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return en(e);if(e.$$typeof===C)return lt(e)}throw Error(i(438,String(e)))}function Do(e){var s=null,a=fe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(u){return u.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=vi(),fe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=se;return s.index++,a}function cs(e,s){return typeof s=="function"?s(e):s}function Ni(e){var s=Ye();return Lo(s,ke,e)}function Lo(e,s,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}s.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{s=u.next;var N=y=null,L=null,$=s,F=!1;do{var Y=$.lane&-536870913;if(Y!==$.lane?(ve&Y)===Y:(os&Y)===Y){var B=$.revertLane;if(B===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),Y===Ia&&(F=!0);else if((os&B)===B){$=$.next,B===Ia&&(F=!0);continue}else Y={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},L===null?(N=L=Y,y=f):L=L.next=Y,fe.lanes|=B,$s|=B;Y=$.action,ya&&a(f,Y),f=$.hasEagerState?$.eagerState:a(f,Y)}else B={lane:Y,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},L===null?(N=L=B,y=f):L=L.next=B,fe.lanes|=Y,$s|=Y;$=$.next}while($!==null&&$!==s);if(L===null?y=f:L.next=N,!St(f,e.memoizedState)&&(Qe=!0,F&&(a=Ya,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=L,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uo(e){var s=Ye(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,f=s.memoizedState;if(u!==null){a.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);St(f,s.memoizedState)||(Qe=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function nh(e,s,a){var l=fe,u=Ye(),f=we;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=s();var y=!St((ke||u).memoizedState,a);if(y&&(u.memoizedState=a,Qe=!0),u=u.queue,qo(oh.bind(null,l,u,e),[e]),u.getSnapshot!==s||y||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},lh.bind(null,l,u,a,s),null),ze===null)throw Error(i(349));f||(os&127)!==0||ih(l,s,a)}return a}function ih(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=fe.updateQueue,s===null?(s=vi(),fe.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function lh(e,s,a,l){s.value=a,s.getSnapshot=l,ch(s)&&dh(e)}function oh(e,s,a){return a(function(){ch(s)&&dh(e)})}function ch(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!St(e,a)}catch{return!0}}function dh(e){var s=ca(e,2);s!==null&&vt(s,e,2)}function zo(e){var s=ht();if(typeof e=="function"){var a=e;if(e=a(),ya){_s(!0);try{a()}finally{_s(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},s}function uh(e,s,a,l){return e.baseState=a,Lo(e,ke,typeof l=="function"?l:cs)}function Q0(e,s,a,l,u){if(_i(e))throw Error(i(485));if(e=s.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,hh(s,f)):(f.next=a.next,s.pending=a.next=f)}}function hh(e,s){var a=s.action,l=s.payload,u=e.state;if(s.isTransition){var f=H.T,y={};H.T=y;try{var N=a(u,l),L=H.S;L!==null&&L(y,N),fh(e,s,N)}catch($){Mo(e,s,$)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(u,l),fh(e,s,f)}catch($){Mo(e,s,$)}}function fh(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mh(e,s,l)},function(l){return Mo(e,s,l)}):mh(e,s,a)}function mh(e,s,a){s.status="fulfilled",s.value=a,gh(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,hh(e,a)))}function Mo(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,gh(s),s=s.next;while(s!==l)}e.action=null}function gh(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function xh(e,s){return s}function ph(e,s){if(we){var a=ze.formState;if(a!==null){e:{var l=fe;if(we){if($e){t:{for(var u=$e,f=Mt;u.nodeType!==8;){if(!f){u=null;break t}if(u=$t(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){$e=$t(u.nextSibling),l=u.data==="F!";break e}}As(l)}l=!1}l&&(s=a[0])}}return a=ht(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:s},a.queue=l,a=zh.bind(null,fe,l),l.dispatch=a,l=zo(!1),f=Go.bind(null,fe,!1,l.queue),l=ht(),u={state:s,dispatch:null,action:e,pending:null},l.queue=u,a=Q0.bind(null,fe,u,f,a),u.dispatch=a,l.memoizedState=e,[s,a,!1]}function yh(e){var s=Ye();return bh(s,ke,e)}function bh(e,s,a){if(s=Lo(e,s,xh)[0],e=Ni(cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=en(s)}catch(y){throw y===Ka?hi:y}else l=s;s=Ye();var u=s.queue,f=u.dispatch;return a!==s.memoizedState&&(fe.flags|=2048,Wa(9,{destroy:void 0},X0.bind(null,u,a),null)),[l,f,e]}function X0(e,s){e.action=s}function vh(e){var s=Ye(),a=ke;if(a!==null)return bh(s,a,e);Ye(),s=s.memoizedState,a=Ye();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Wa(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=fe.updateQueue,s===null&&(s=vi(),fe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function jh(){return Ye().memoizedState}function wi(e,s,a,l){var u=ht();fe.flags|=e,u.memoizedState=Wa(1|s,{destroy:void 0},a,l===void 0?null:l)}function Si(e,s,a,l){var u=Ye();l=l===void 0?null:l;var f=u.memoizedState.inst;ke!==null&&l!==null&&Oo(l,ke.memoizedState.deps)?u.memoizedState=Wa(s,f,a,l):(fe.flags|=e,u.memoizedState=Wa(1|s,f,a,l))}function Nh(e,s){wi(8390656,8,e,s)}function qo(e,s){Si(2048,8,e,s)}function Z0(e){fe.flags|=4;var s=fe.updateQueue;if(s===null)s=vi(),fe.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function wh(e){var s=Ye().memoizedState;return Z0({ref:s,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Sh(e,s){return Si(4,2,e,s)}function _h(e,s){return Si(4,4,e,s)}function Ch(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Eh(e,s,a){a=a!=null?a.concat([e]):null,Si(4,4,Ch.bind(null,s,e),a)}function $o(){}function Oh(e,s){var a=Ye();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Oo(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Th(e,s){var a=Ye();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Oo(s,l[1]))return l[0];if(l=e(),ya){_s(!0);try{e()}finally{_s(!1)}}return a.memoizedState=[l,s],l}function Bo(e,s,a){return a===void 0||(os&1073741824)!==0&&(ve&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=kf(),fe.lanes|=e,$s|=e,a)}function Ah(e,s,a,l){return St(a,s)?a:Qa.current!==null?(e=Bo(e,a,l),St(e,s)||(Qe=!0),e):(os&42)===0||(os&1073741824)!==0&&(ve&261930)===0?(Qe=!0,e.memoizedState=a):(e=kf(),fe.lanes|=e,$s|=e,s)}function kh(e,s,a,l,u){var f=J.p;J.p=f!==0&&8>f?f:8;var y=H.T,N={};H.T=N,Go(e,!1,s,a);try{var L=u(),$=H.S;if($!==null&&$(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var F=Y0(L,l);tn(e,s,F,At(e))}else tn(e,s,l,At(e))}catch(Y){tn(e,s,{then:function(){},status:"rejected",reason:Y},At())}finally{J.p=f,y!==null&&N.types!==null&&(y.types=N.types),H.T=y}}function W0(){}function Ho(e,s,a,l){if(e.tag!==5)throw Error(i(476));var u=Rh(e).queue;kh(e,u,s,ae,a===null?W0:function(){return Dh(e),a(l)})}function Rh(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Dh(e){var s=Rh(e);s.next===null&&(s=e.alternate.memoizedState),tn(e,s.next.queue,{},At())}function Po(){return lt(bn)}function Lh(){return Ye().memoizedState}function Uh(){return Ye().memoizedState}function ep(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=At();e=Ds(a);var l=Ls(s,e,a);l!==null&&(vt(l,s,a),Qr(l,s,a)),s={cache:po()},e.payload=s;return}s=s.return}}function tp(e,s,a){var l=At();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_i(e)?Mh(s,a):(a=no(e,s,a,l),a!==null&&(vt(a,e,l),qh(a,s,l)))}function zh(e,s,a){var l=At();tn(e,s,a,l)}function tn(e,s,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_i(e))Mh(s,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var y=s.lastRenderedState,N=f(y,a);if(u.hasEagerState=!0,u.eagerState=N,St(N,y))return ni(e,s,u,0),ze===null&&ri(),!1}catch{}finally{}if(a=no(e,s,u,l),a!==null)return vt(a,e,l),qh(a,s,l),!0}return!1}function Go(e,s,a,l){if(l={lane:2,revertLane:jc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(s)throw Error(i(479))}else s=no(e,a,l,2),s!==null&&vt(s,e,2)}function _i(e){var s=e.alternate;return e===fe||s!==null&&s===fe}function Mh(e,s){Xa=yi=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function qh(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Gd(e,a)}}var sn={readContext:lt,use:ji,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};sn.useEffectEvent=Ge;var $h={readContext:lt,use:ji,useCallback:function(e,s){return ht().memoizedState=[e,s===void 0?null:s],e},useContext:lt,useEffect:Nh,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,wi(4194308,4,Ch.bind(null,s,e),a)},useLayoutEffect:function(e,s){return wi(4194308,4,e,s)},useInsertionEffect:function(e,s){wi(4,2,e,s)},useMemo:function(e,s){var a=ht();s=s===void 0?null:s;var l=e();if(ya){_s(!0);try{e()}finally{_s(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=ht();if(a!==void 0){var u=a(s);if(ya){_s(!0);try{a(s)}finally{_s(!1)}}}else u=s;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=tp.bind(null,fe,e),[l.memoizedState,e]},useRef:function(e){var s=ht();return e={current:e},s.memoizedState=e},useState:function(e){e=zo(e);var s=e.queue,a=zh.bind(null,fe,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:$o,useDeferredValue:function(e,s){var a=ht();return Bo(a,e,s)},useTransition:function(){var e=zo(!1);return e=kh.bind(null,fe,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=fe,u=ht();if(we){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),ze===null)throw Error(i(349));(ve&127)!==0||ih(l,s,a)}u.memoizedState=a;var f={value:a,getSnapshot:s};return u.queue=f,Nh(oh.bind(null,l,f,e),[e]),l.flags|=2048,Wa(9,{destroy:void 0},lh.bind(null,l,f,a,s),null),a},useId:function(){var e=ht(),s=ze.identifierPrefix;if(we){var a=Jt,l=Kt;a=(l&~(1<<32-wt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=bi++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=K0++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Po,useFormState:ph,useActionState:ph,useOptimistic:function(e){var s=ht();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Go.bind(null,fe,!0,a),a.dispatch=s,[e,s]},useMemoCache:Do,useCacheRefresh:function(){return ht().memoizedState=ep.bind(null,fe)},useEffectEvent:function(e){var s=ht(),a={impl:e};return s.memoizedState=a,function(){if((Ce&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Vo={readContext:lt,use:ji,useCallback:Oh,useContext:lt,useEffect:qo,useImperativeHandle:Eh,useInsertionEffect:Sh,useLayoutEffect:_h,useMemo:Th,useReducer:Ni,useRef:jh,useState:function(){return Ni(cs)},useDebugValue:$o,useDeferredValue:function(e,s){var a=Ye();return Ah(a,ke.memoizedState,e,s)},useTransition:function(){var e=Ni(cs)[0],s=Ye().memoizedState;return[typeof e=="boolean"?e:en(e),s]},useSyncExternalStore:nh,useId:Lh,useHostTransitionStatus:Po,useFormState:yh,useActionState:yh,useOptimistic:function(e,s){var a=Ye();return uh(a,ke,e,s)},useMemoCache:Do,useCacheRefresh:Uh};Vo.useEffectEvent=wh;var Bh={readContext:lt,use:ji,useCallback:Oh,useContext:lt,useEffect:qo,useImperativeHandle:Eh,useInsertionEffect:Sh,useLayoutEffect:_h,useMemo:Th,useReducer:Uo,useRef:jh,useState:function(){return Uo(cs)},useDebugValue:$o,useDeferredValue:function(e,s){var a=Ye();return ke===null?Bo(a,e,s):Ah(a,ke.memoizedState,e,s)},useTransition:function(){var e=Uo(cs)[0],s=Ye().memoizedState;return[typeof e=="boolean"?e:en(e),s]},useSyncExternalStore:nh,useId:Lh,useHostTransitionStatus:Po,useFormState:vh,useActionState:vh,useOptimistic:function(e,s){var a=Ye();return ke!==null?uh(a,ke,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Do,useCacheRefresh:Uh};Bh.useEffectEvent=wh;function Fo(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Io={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=At(),u=Ds(l);u.payload=s,a!=null&&(u.callback=a),s=Ls(e,u,l),s!==null&&(vt(s,e,l),Qr(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=At(),u=Ds(l);u.tag=1,u.payload=s,a!=null&&(u.callback=a),s=Ls(e,u,l),s!==null&&(vt(s,e,l),Qr(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=At(),l=Ds(a);l.tag=2,s!=null&&(l.callback=s),s=Ls(e,l,a),s!==null&&(vt(s,e,a),Qr(s,e,a))}};function Hh(e,s,a,l,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):s.prototype&&s.prototype.isPureReactComponent?!Pr(a,l)||!Pr(u,f):!0}function Ph(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Io.enqueueReplaceState(s,s.state,null)}function ba(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function Gh(e){ai(e)}function Vh(e){console.error(e)}function Fh(e){ai(e)}function Ci(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Ih(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Yo(e,s,a){return a=Ds(a),a.tag=3,a.payload={element:null},a.callback=function(){Ci(e,s)},a}function Yh(e){return e=Ds(e),e.tag=3,e}function Kh(e,s,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){Ih(s,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ih(s,a,l),typeof u!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function sp(e,s,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Fa(s,a,u,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return qt===null?qi():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===fi?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),yc(e,l,u)),!1;case 22:return a.flags|=65536,l===fi?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),yc(e,l,u)),!1}throw Error(i(435,a.tag))}return yc(e,l,u),qi(),!1}if(we)return s=Ct.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=u,l!==ho&&(e=Error(i(422),{cause:l}),Fr(Lt(e,a)))):(l!==ho&&(s=Error(i(423),{cause:l}),Fr(Lt(s,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Lt(l,a),u=Yo(e.stateNode,l,u),wo(e,u),Ve!==4&&(Ve=2)),!1;var f=Error(i(520),{cause:l});if(f=Lt(f,a),un===null?un=[f]:un.push(f),Ve!==4&&(Ve=2),s===null)return!0;l=Lt(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Yo(a.stateNode,l,e),wo(a,e),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Yh(u),Kh(u,e,a,l),wo(a,u),!1}a=a.return}while(a!==null);return!1}var Ko=Error(i(461)),Qe=!1;function ot(e,s,a,l){s.child=e===null?Zu(s,null,a,l):pa(s,e.child,a,l)}function Jh(e,s,a,l,u){a=a.render;var f=s.ref;if("ref"in l){var y={};for(var N in l)N!=="ref"&&(y[N]=l[N])}else y=l;return fa(s),l=To(e,s,a,y,f,u),N=Ao(),e!==null&&!Qe?(ko(e,s,u),ds(e,s,u)):(we&&N&&co(s),s.flags|=1,ot(e,s,l,u),s.child)}function Qh(e,s,a,l,u){if(e===null){var f=a.type;return typeof f=="function"&&!io(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,Xh(e,s,f,l,u)):(e=li(a.type,null,l,s,s.mode,u),e.ref=s.ref,e.return=s,s.child=e)}if(f=e.child,!sc(e,u)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Pr,a(y,l)&&e.ref===s.ref)return ds(e,s,u)}return s.flags|=1,e=rs(f,l),e.ref=s.ref,e.return=s,s.child=e}function Xh(e,s,a,l,u){if(e!==null){var f=e.memoizedProps;if(Pr(f,l)&&e.ref===s.ref)if(Qe=!1,s.pendingProps=l=f,sc(e,u))(e.flags&131072)!==0&&(Qe=!0);else return s.lanes=e.lanes,ds(e,s,u)}return Jo(e,s,a,l,u)}function Zh(e,s,a,l){var u=l.children,f=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=s.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,s.child=null;return Wh(e,s,f,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&ui(s,f!==null?f.cachePool:null),f!==null?th(s,f):_o(),sh(s);else return l=s.lanes=536870912,Wh(e,s,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ui(s,f.cachePool),th(s,f),zs(),s.memoizedState=null):(e!==null&&ui(s,null),_o(),zs());return ot(e,s,u,a),s.child}function an(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Wh(e,s,a,l,u){var f=bo();return f=f===null?null:{parent:Ke._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&ui(s,null),_o(),sh(s),e!==null&&Fa(e,s,l,!0),s.childLanes=u,null}function Ei(e,s){return s=Ti({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function ef(e,s,a){return pa(s,e.child,null,a),e=Ei(s,s.pendingProps),e.flags|=2,Et(s),s.memoizedState=null,e}function ap(e,s,a){var l=s.pendingProps,u=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(we){if(l.mode==="hidden")return e=Ei(s,l),s.lanes=536870912,an(null,e);if(Eo(s),(e=$e)?(e=fm(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Kt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=Mu(e),a.return=s,s.child=a,it=s,$e=null)):e=null,e===null)throw As(s);return s.lanes=536870912,null}return Ei(s,l)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Eo(s),u)if(s.flags&256)s.flags&=-257,s=ef(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(i(558));else if(Qe||Fa(e,s,a,!1),u=(a&e.childLanes)!==0,Qe||u){if(l=ze,l!==null&&(y=Vd(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,ca(e,y),vt(l,e,y),Ko;qi(),s=ef(e,s,a)}else e=f.treeContext,$e=$t(y.nextSibling),it=s,we=!0,Ts=null,Mt=!1,e!==null&&Bu(s,e),s=Ei(s,l),s.flags|=4096;return s}return e=rs(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Oi(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Jo(e,s,a,l,u){return fa(s),a=To(e,s,a,l,void 0,u),l=Ao(),e!==null&&!Qe?(ko(e,s,u),ds(e,s,u)):(we&&l&&co(s),s.flags|=1,ot(e,s,a,u),s.child)}function tf(e,s,a,l,u,f){return fa(s),s.updateQueue=null,a=rh(s,l,a,u),ah(e),l=Ao(),e!==null&&!Qe?(ko(e,s,f),ds(e,s,f)):(we&&l&&co(s),s.flags|=1,ot(e,s,a,f),s.child)}function sf(e,s,a,l,u){if(fa(s),s.stateNode===null){var f=Ha,y=a.contextType;typeof y=="object"&&y!==null&&(f=lt(y)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Io,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},jo(s),y=a.contextType,f.context=typeof y=="object"&&y!==null?lt(y):Ha,f.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Fo(s,a,y,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Io.enqueueReplaceState(f,f.state,null),Zr(s,l,f,u),Xr(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){f=s.stateNode;var N=s.memoizedProps,L=ba(a,N);f.props=L;var $=f.context,F=a.contextType;y=Ha,typeof F=="object"&&F!==null&&(y=lt(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(N||$!==y)&&Ph(s,f,l,y),Rs=!1;var B=s.memoizedState;f.state=B,Zr(s,l,f,u),Xr(),$=s.memoizedState,N||B!==$||Rs?(typeof Y=="function"&&(Fo(s,a,Y,l),$=s.memoizedState),(L=Rs||Hh(s,a,L,l,B,$,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),f.props=l,f.state=$,f.context=y,l=L):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,No(e,s),y=s.memoizedProps,F=ba(a,y),f.props=F,Y=s.pendingProps,B=f.context,$=a.contextType,L=Ha,typeof $=="object"&&$!==null&&(L=lt($)),N=a.getDerivedStateFromProps,($=typeof N=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==L)&&Ph(s,f,l,L),Rs=!1,B=s.memoizedState,f.state=B,Zr(s,l,f,u),Xr();var V=s.memoizedState;y!==Y||B!==V||Rs||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof N=="function"&&(Fo(s,a,N,l),V=s.memoizedState),(F=Rs||Hh(s,a,F,l,B,V,L)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,V,L),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,V,L)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=V),f.props=l,f.state=V,f.context=L,l=F):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(s.flags|=1024),l=!1)}return f=l,Oi(e,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,e!==null&&l?(s.child=pa(s,e.child,null,u),s.child=pa(s,null,a,u)):ot(e,s,a,u),s.memoizedState=f.state,e=s.child):e=ds(e,s,u),e}function af(e,s,a,l){return ua(),s.flags|=256,ot(e,s,a,l),s.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Iu()}}function Zo(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Tt),e}function rf(e,s,a){var l=s.pendingProps,u=!1,f=(s.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),y&&(u=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,e===null){if(we){if(u?Us(s):zs(),(e=$e)?(e=fm(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Kt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=Mu(e),a.return=s,s.child=a,it=s,$e=null)):e=null,e===null)throw As(s);return Lc(e)?s.lanes=32:s.lanes=536870912,null}var N=l.children;return l=l.fallback,u?(zs(),u=s.mode,N=Ti({mode:"hidden",children:N},u),l=da(l,u,a,null),N.return=s,l.return=s,N.sibling=l,s.child=N,l=s.child,l.memoizedState=Xo(a),l.childLanes=Zo(e,y,a),s.memoizedState=Qo,an(null,l)):(Us(s),Wo(s,N))}var L=e.memoizedState;if(L!==null&&(N=L.dehydrated,N!==null)){if(f)s.flags&256?(Us(s),s.flags&=-257,s=ec(e,s,a)):s.memoizedState!==null?(zs(),s.child=e.child,s.flags|=128,s=null):(zs(),N=l.fallback,u=s.mode,l=Ti({mode:"visible",children:l.children},u),N=da(N,u,a,null),N.flags|=2,l.return=s,N.return=s,l.sibling=N,s.child=l,pa(s,e.child,null,a),l=s.child,l.memoizedState=Xo(a),l.childLanes=Zo(e,y,a),s.memoizedState=Qo,s=an(null,l));else if(Us(s),Lc(N)){if(y=N.nextSibling&&N.nextSibling.dataset,y)var $=y.dgst;y=$,l=Error(i(419)),l.stack="",l.digest=y,Fr({value:l,source:null,stack:null}),s=ec(e,s,a)}else if(Qe||Fa(e,s,a,!1),y=(a&e.childLanes)!==0,Qe||y){if(y=ze,y!==null&&(l=Vd(y,a),l!==0&&l!==L.retryLane))throw L.retryLane=l,ca(e,l),vt(y,e,l),Ko;Dc(N)||qi(),s=ec(e,s,a)}else Dc(N)?(s.flags|=192,s.child=e.child,s=null):(e=L.treeContext,$e=$t(N.nextSibling),it=s,we=!0,Ts=null,Mt=!1,e!==null&&Bu(s,e),s=Wo(s,l.children),s.flags|=4096);return s}return u?(zs(),N=l.fallback,u=s.mode,L=e.child,$=L.sibling,l=rs(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,$!==null?N=rs($,N):(N=da(N,u,a,null),N.flags|=2),N.return=s,l.return=s,l.sibling=N,s.child=l,an(null,l),l=s.child,N=e.child.memoizedState,N===null?N=Xo(a):(u=N.cachePool,u!==null?(L=Ke._currentValue,u=u.parent!==L?{parent:L,pool:L}:u):u=Iu(),N={baseLanes:N.baseLanes|a,cachePool:u}),l.memoizedState=N,l.childLanes=Zo(e,y,a),s.memoizedState=Qo,an(e.child,l)):(Us(s),a=e.child,e=a.sibling,a=rs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(y=s.deletions,y===null?(s.deletions=[e],s.flags|=16):y.push(e)),s.child=a,s.memoizedState=null,a)}function Wo(e,s){return s=Ti({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ti(e,s){return e=_t(22,e,null,s),e.lanes=0,e}function ec(e,s,a){return pa(s,e.child,null,a),e=Wo(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function nf(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),go(e.return,s,a)}function tc(e,s,a,l,u,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=u,y.treeForkCount=f)}function lf(e,s,a){var l=s.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var y=Ie.current,N=(y&2)!==0;if(N?(y=y&1|2,s.flags|=128):y&=1,Q(Ie,y),ot(e,s,l,a),l=we?Vr:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,a,s);else if(e.tag===19)nf(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=s.child,u=null;a!==null;)e=a.alternate,e!==null&&pi(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=s.child,s.child=null):(u=a.sibling,a.sibling=null),tc(s,!1,u,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=s.child,s.child=null;u!==null;){if(e=u.alternate,e!==null&&pi(e)===null){s.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}tc(s,!0,a,null,f,l);break;case"together":tc(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ds(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),$s|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Fa(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(i(153));if(s.child!==null){for(e=s.child,a=rs(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=rs(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function sc(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function rp(e,s,a){switch(s.tag){case 3:Pe(s,s.stateNode.containerInfo),ks(s,Ke,e.memoizedState.cache),ua();break;case 27:case 5:Ea(s);break;case 4:Pe(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Eo(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(s),s.flags|=128,null):(a&s.child.childLanes)!==0?rf(e,s,a):(Us(s),e=ds(e,s,a),e!==null?e.sibling:null);Us(s);break;case 19:var u=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Fa(e,s,a,!1),l=(a&s.childLanes)!==0),u){if(l)return lf(e,s,a);s.flags|=128}if(u=s.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Q(Ie,Ie.current),l)break;return null;case 22:return s.lanes=0,Zh(e,s,a,s.pendingProps);case 24:ks(s,Ke,e.memoizedState.cache)}return ds(e,s,a)}function of(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Qe=!0;else{if(!sc(e,a)&&(s.flags&128)===0)return Qe=!1,rp(e,s,a);Qe=(e.flags&131072)!==0}else Qe=!1,we&&(s.flags&1048576)!==0&&$u(s,Vr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(e=ga(s.elementType),s.type=e,typeof e=="function")io(e)?(l=ba(e,l),s.tag=1,s=sf(null,s,e,l,a)):(s.tag=0,s=Jo(null,s,e,l,a));else{if(e!=null){var u=e.$$typeof;if(u===E){s.tag=11,s=Jh(null,s,e,l,a);break e}else if(u===k){s.tag=14,s=Qh(null,s,e,l,a);break e}}throw s=ue(e)||e,Error(i(306,s,""))}}return s;case 0:return Jo(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,u=ba(l,s.pendingProps),sf(e,s,l,u,a);case 3:e:{if(Pe(s,s.stateNode.containerInfo),e===null)throw Error(i(387));l=s.pendingProps;var f=s.memoizedState;u=f.element,No(e,s),Zr(s,l,null,a);var y=s.memoizedState;if(l=y.cache,ks(s,Ke,l),l!==f.cache&&xo(s,[Ke],a,!0),Xr(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=af(e,s,l,a);break e}else if(l!==u){u=Lt(Error(i(424)),s),Fr(u),s=af(e,s,l,a);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=$t(e.firstChild),it=s,we=!0,Ts=null,Mt=!0,a=Zu(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ua(),l===u){s=ds(e,s,a);break e}ot(e,s,l,a)}s=s.child}return s;case 26:return Oi(e,s),e===null?(a=bm(s.type,null,s.pendingProps,null))?s.memoizedState=a:we||(a=s.type,e=s.pendingProps,l=Fi(te.current).createElement(a),l[nt]=s,l[mt]=e,ct(l,a,e),st(l),s.stateNode=l):s.memoizedState=bm(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Ea(s),e===null&&we&&(l=s.stateNode=xm(s.type,s.pendingProps,te.current),it=s,Mt=!0,u=$e,Vs(s.type)?(Uc=u,$e=$t(l.firstChild)):$e=u),ot(e,s,s.pendingProps.children,a),Oi(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&we&&((u=l=$e)&&(l=Lp(l,s.type,s.pendingProps,Mt),l!==null?(s.stateNode=l,it=s,$e=$t(l.firstChild),Mt=!1,u=!0):u=!1),u||As(s)),Ea(s),u=s.type,f=s.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,Ac(u,f)?l=null:y!==null&&Ac(u,y)&&(s.flags|=32),s.memoizedState!==null&&(u=To(e,s,J0,null,null,a),bn._currentValue=u),Oi(e,s),ot(e,s,l,a),s.child;case 6:return e===null&&we&&((e=a=$e)&&(a=Up(a,s.pendingProps,Mt),a!==null?(s.stateNode=a,it=s,$e=null,e=!0):e=!1),e||As(s)),null;case 13:return rf(e,s,a);case 4:return Pe(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=pa(s,null,l,a):ot(e,s,l,a),s.child;case 11:return Jh(e,s,s.type,s.pendingProps,a);case 7:return ot(e,s,s.pendingProps,a),s.child;case 8:return ot(e,s,s.pendingProps.children,a),s.child;case 12:return ot(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ks(s,s.type,l.value),ot(e,s,l.children,a),s.child;case 9:return u=s.type._context,l=s.pendingProps.children,fa(s),u=lt(u),l=l(u),s.flags|=1,ot(e,s,l,a),s.child;case 14:return Qh(e,s,s.type,s.pendingProps,a);case 15:return Xh(e,s,s.type,s.pendingProps,a);case 19:return lf(e,s,a);case 31:return ap(e,s,a);case 22:return Zh(e,s,a,s.pendingProps);case 24:return fa(s),l=lt(Ke),e===null?(u=bo(),u===null&&(u=ze,f=po(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),s.memoizedState={parent:l,cache:u},jo(s),ks(s,Ke,u)):((e.lanes&a)!==0&&(No(e,s),Zr(s,null,null,a),Xr()),u=e.memoizedState,f=s.memoizedState,u.parent!==l?(u={parent:l,cache:l},s.memoizedState=u,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=u),ks(s,Ke,l)):(l=f.cache,ks(s,Ke,l),l!==u.cache&&xo(s,[Ke],a,!0))),ot(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function us(e){e.flags|=4}function ac(e,s,a,l,u){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Uf())e.flags|=8192;else throw xa=fi,vo}else e.flags&=-16777217}function cf(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sm(s))if(Uf())e.flags|=8192;else throw xa=fi,vo}function Ai(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Hd():536870912,e.lanes|=s,ar|=s)}function rn(e,s){if(!we)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function np(e,s,a){var l=s.pendingProps;switch(uo(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(s),null;case 1:return Be(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ls(Ke),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Va(s)?us(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fo())),Be(s),null;case 26:var u=s.type,f=s.memoizedState;return e===null?(us(s),f!==null?(Be(s),cf(s,f)):(Be(s),ac(s,u,null,l,a))):f?f!==e.memoizedState?(us(s),Be(s),cf(s,f)):(Be(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&us(s),Be(s),ac(s,u,e,l,a)),null;case 27:if(sa(s),a=te.current,u=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&us(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Be(s),null}e=P.current,Va(s)?Hu(s):(e=xm(u,l,a),s.stateNode=e,us(s))}return Be(s),null;case 5:if(sa(s),u=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&us(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Be(s),null}if(f=P.current,Va(s))Hu(s);else{var y=Fi(te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(u,{is:l.is}):y.createElement(u)}}f[nt]=s,f[mt]=l;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=f;e:switch(ct(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&us(s)}}return Be(s),ac(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&us(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(e=te.current,Va(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,u=it,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[nt]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nm(e.nodeValue,a)),e||As(s,!0)}else e=Fi(e).createTextNode(l),e[nt]=s,s.stateNode=e}return Be(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=Va(s),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[nt]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),e=!1}else a=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Et(s),s):(Et(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Be(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Va(s),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=s.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[nt]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),u=!1}else u=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return s.flags&256?(Et(s),s):(Et(s),null)}return Et(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Ai(s,s.updateQueue),Be(s),null);case 4:return Me(),e===null&&_c(s.stateNode.containerInfo),Be(s),null;case 10:return ls(s.type),Be(s),null;case 19:if(G(Ie),l=s.memoizedState,l===null)return Be(s),null;if(u=(s.flags&128)!==0,f=l.rendering,f===null)if(u)rn(l,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(f=pi(e),f!==null){for(s.flags|=128,rn(l,!1),e=f.updateQueue,s.updateQueue=e,Ai(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)zu(a,e),a=a.sibling;return Q(Ie,Ie.current&1|2),we&&ns(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&jt()>Ui&&(s.flags|=128,u=!0,rn(l,!1),s.lanes=4194304)}else{if(!u)if(e=pi(f),e!==null){if(s.flags|=128,u=!0,e=e.updateQueue,s.updateQueue=e,Ai(s,e),rn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!we)return Be(s),null}else 2*jt()-l.renderingStartTime>Ui&&a!==536870912&&(s.flags|=128,u=!0,rn(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(e=l.last,e!==null?e.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=jt(),e.sibling=null,a=Ie.current,Q(Ie,u?a&1|2:a&1),we&&ns(s,l.treeForkCount),e):(Be(s),null);case 22:case 23:return Et(s),Co(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Be(s),s.subtreeFlags&6&&(s.flags|=8192)):Be(s),a=s.updateQueue,a!==null&&Ai(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&G(ma),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ls(Ke),Be(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ip(e,s){switch(uo(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ls(Ke),Me(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return sa(s),null;case 31:if(s.memoizedState!==null){if(Et(s),s.alternate===null)throw Error(i(340));ua()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Et(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ua()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return G(Ie),null;case 4:return Me(),null;case 10:return ls(s.type),null;case 22:case 23:return Et(s),Co(),e!==null&&G(ma),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ls(Ke),null;case 25:return null;default:return null}}function df(e,s){switch(uo(s),s.tag){case 3:ls(Ke),Me();break;case 26:case 27:case 5:sa(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&Et(s);break;case 13:Et(s);break;case 19:G(Ie);break;case 10:ls(s.type);break;case 22:case 23:Et(s),Co(),e!==null&&G(ma);break;case 24:ls(Ke)}}function nn(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==u)}}catch(N){Te(s,s.return,N)}}function Ms(e,s,a){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var y=l.inst,N=y.destroy;if(N!==void 0){y.destroy=void 0,u=s;var L=a,$=N;try{$()}catch(F){Te(u,L,F)}}}l=l.next}while(l!==f)}}catch(F){Te(s,s.return,F)}}function uf(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{eh(s,a)}catch(l){Te(e,e.return,l)}}}function hf(e,s,a){a.props=ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Te(e,s,l)}}function ln(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Te(e,s,u)}}function Qt(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Te(e,s,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Te(e,s,u)}else a.current=null}function ff(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Te(e,e.return,u)}}function rc(e,s,a){try{var l=e.stateNode;Op(l,e.type,a,s),l[mt]=s}catch(u){Te(e,e.return,u)}}function mf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ss));else if(l!==4&&(l===27&&Vs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(ic(e,s,a),e=e.sibling;e!==null;)ic(e,s,a),e=e.sibling}function ki(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Vs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ki(e,s,a),e=e.sibling;e!==null;)ki(e,s,a),e=e.sibling}function gf(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);ct(s,l,a),s[nt]=e,s[mt]=a}catch(f){Te(e,e.return,f)}}var hs=!1,Xe=!1,lc=!1,xf=typeof WeakSet=="function"?WeakSet:Set,at=null;function lp(e,s){if(e=e.containerInfo,Oc=Zi,e=Eu(e),Wl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,N=-1,L=-1,$=0,F=0,Y=e,B=null;t:for(;;){for(var V;Y!==a||u!==0&&Y.nodeType!==3||(N=y+u),Y!==f||l!==0&&Y.nodeType!==3||(L=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(V=Y.firstChild)!==null;)B=Y,Y=V;for(;;){if(Y===e)break t;if(B===a&&++$===u&&(N=y),B===f&&++F===l&&(L=y),(V=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=V}a=N===-1||L===-1?null:{start:N,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tc={focusedElem:e,selectionRange:a},Zi=!1,at=s;at!==null;)if(s=at,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,at=e;else for(;at!==null;){switch(s=at,f=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=s,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var re=ba(a.type,u);e=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(le){Te(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Rc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=s.sibling,e!==null){e.return=s.return,at=e;break}at=s.return}}function pf(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ms(e,a),l&4&&nn(5,a);break;case 1:if(ms(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(y){Te(a,a.return,y)}else{var u=ba(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(u,s,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Te(a,a.return,y)}}l&64&&uf(a),l&512&&ln(a,a.return);break;case 3:if(ms(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{eh(e,s)}catch(y){Te(a,a.return,y)}}break;case 27:s===null&&l&4&&gf(a);case 26:case 5:ms(e,a),s===null&&l&4&&ff(a),l&512&&ln(a,a.return);break;case 12:ms(e,a);break;case 31:ms(e,a),l&4&&vf(e,a);break;case 13:ms(e,a),l&4&&jf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xp.bind(null,a),zp(e,a))));break;case 22:if(l=a.memoizedState!==null||hs,!l){s=s!==null&&s.memoizedState!==null||Xe,u=hs;var f=Xe;hs=l,(Xe=s)&&!f?gs(e,a,(a.subtreeFlags&8772)!==0):ms(e,a),hs=u,Xe=f}break;case 30:break;default:ms(e,a)}}function yf(e){var s=e.alternate;s!==null&&(e.alternate=null,yf(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&zl(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,xt=!1;function fs(e,s,a){for(a=a.child;a!==null;)bf(e,s,a),a=a.sibling}function bf(e,s,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ar,a)}catch{}switch(a.tag){case 26:Xe||Qt(a,s),fs(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||Qt(a,s);var l=He,u=xt;Vs(a.type)&&(He=a.stateNode,xt=!1),fs(e,s,a),xn(a.stateNode),He=l,xt=u;break;case 5:Xe||Qt(a,s);case 6:if(l=He,u=xt,He=null,fs(e,s,a),He=l,xt=u,He!==null)if(xt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(f){Te(a,s,f)}else try{He.removeChild(a.stateNode)}catch(f){Te(a,s,f)}break;case 18:He!==null&&(xt?(e=He,um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ur(e)):um(He,a.stateNode));break;case 4:l=He,u=xt,He=a.stateNode.containerInfo,xt=!0,fs(e,s,a),He=l,xt=u;break;case 0:case 11:case 14:case 15:Ms(2,a,s),Xe||Ms(4,a,s),fs(e,s,a);break;case 1:Xe||(Qt(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hf(a,s,l)),fs(e,s,a);break;case 21:fs(e,s,a);break;case 22:Xe=(l=Xe)||a.memoizedState!==null,fs(e,s,a),Xe=l;break;default:fs(e,s,a)}}function vf(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ur(e)}catch(a){Te(s,s.return,a)}}}function jf(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ur(e)}catch(a){Te(s,s.return,a)}}function op(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new xf),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new xf),s;default:throw Error(i(435,e.tag))}}function Ri(e,s){var a=op(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var u=pp.bind(null,e,l);l.then(u,u)}})}function pt(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=e,y=s,N=y;e:for(;N!==null;){switch(N.tag){case 27:if(Vs(N.type)){He=N.stateNode,xt=!1;break e}break;case 5:He=N.stateNode,xt=!1;break e;case 3:case 4:He=N.stateNode.containerInfo,xt=!0;break e}N=N.return}if(He===null)throw Error(i(160));bf(f,y,u),He=null,xt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Nf(s,e),s=s.sibling}var Vt=null;function Nf(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(s,e),yt(e),l&4&&(Ms(3,e,e.return),nn(3,e),Ms(5,e,e.return));break;case 1:pt(s,e),yt(e),l&512&&(Xe||a===null||Qt(a,a.return)),l&64&&hs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=Vt;if(pt(s,e),yt(e),l&512&&(Xe||a===null||Qt(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Dr]||f[nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),ct(f,l,a),f[nt]=e,st(f),l=f;break e;case"link":var y=Nm("link","href",u).get(l+(a.href||""));if(y){for(var N=0;N<y.length;N++)if(f=y[N],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(N,1);break t}}f=u.createElement(l),ct(f,l,a),u.head.appendChild(f);break;case"meta":if(y=Nm("meta","content",u).get(l+(a.content||""))){for(N=0;N<y.length;N++)if(f=y[N],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(N,1);break t}}f=u.createElement(l),ct(f,l,a),u.head.appendChild(f);break;default:throw Error(i(468,l))}f[nt]=e,st(f),l=f}e.stateNode=l}else wm(u,e.type,e.stateNode);else e.stateNode=jm(u,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?wm(u,e.type,e.stateNode):jm(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&rc(e,e.memoizedProps,a.memoizedProps)}break;case 27:pt(s,e),yt(e),l&512&&(Xe||a===null||Qt(a,a.return)),a!==null&&l&4&&rc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pt(s,e),yt(e),l&512&&(Xe||a===null||Qt(a,a.return)),e.flags&32){u=e.stateNode;try{La(u,"")}catch(re){Te(e,e.return,re)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,rc(e,u,a!==null?a.memoizedProps:u)),l&1024&&(lc=!0);break;case 6:if(pt(s,e),yt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(re){Te(e,e.return,re)}}break;case 3:if(Ki=null,u=Vt,Vt=Ii(s.containerInfo),pt(s,e),Vt=u,yt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ur(s.containerInfo)}catch(re){Te(e,e.return,re)}lc&&(lc=!1,wf(e));break;case 4:l=Vt,Vt=Ii(e.stateNode.containerInfo),pt(s,e),yt(e),Vt=l;break;case 12:pt(s,e),yt(e);break;case 31:pt(s,e),yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ri(e,l)));break;case 13:pt(s,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Li=jt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ri(e,l)));break;case 22:u=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,$=hs,F=Xe;if(hs=$||u,Xe=F||L,pt(s,e),Xe=F,hs=$,yt(e),l&8192)e:for(s=e.stateNode,s._visibility=u?s._visibility&-2:s._visibility|1,u&&(a===null||L||hs||Xe||va(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){L=a=s;try{if(f=L.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{N=L.stateNode;var Y=L.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;N.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(re){Te(L,L.return,re)}}}else if(s.tag===6){if(a===null){L=s;try{L.stateNode.nodeValue=u?"":L.memoizedProps}catch(re){Te(L,L.return,re)}}}else if(s.tag===18){if(a===null){L=s;try{var V=L.stateNode;u?hm(V,!0):hm(L.stateNode,!1)}catch(re){Te(L,L.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ri(e,a))));break;case 19:pt(s,e),yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ri(e,l)));break;case 30:break;case 21:break;default:pt(s,e),yt(e)}}function yt(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(mf(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=nc(e);ki(e,f,u);break;case 5:var y=a.stateNode;a.flags&32&&(La(y,""),a.flags&=-33);var N=nc(e);ki(e,N,y);break;case 3:case 4:var L=a.stateNode.containerInfo,$=nc(e);ic(e,$,L);break;default:throw Error(i(161))}}catch(F){Te(e,e.return,F)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;wf(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function ms(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pf(e,s.alternate,s),s=s.sibling}function va(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Ms(4,s,s.return),va(s);break;case 1:Qt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&hf(s,s.return,a),va(s);break;case 27:xn(s.stateNode);case 26:case 5:Qt(s,s.return),va(s);break;case 22:s.memoizedState===null&&va(s);break;case 30:va(s);break;default:va(s)}e=e.sibling}}function gs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,u=e,f=s,y=f.flags;switch(f.tag){case 0:case 11:case 15:gs(u,f,a),nn(4,f);break;case 1:if(gs(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch($){Te(l,l.return,$)}if(l=f,u=l.updateQueue,u!==null){var N=l.stateNode;try{var L=u.shared.hiddenCallbacks;if(L!==null)for(u.shared.hiddenCallbacks=null,u=0;u<L.length;u++)Wu(L[u],N)}catch($){Te(l,l.return,$)}}a&&y&64&&uf(f),ln(f,f.return);break;case 27:gf(f);case 26:case 5:gs(u,f,a),a&&l===null&&y&4&&ff(f),ln(f,f.return);break;case 12:gs(u,f,a);break;case 31:gs(u,f,a),a&&y&4&&vf(u,f);break;case 13:gs(u,f,a),a&&y&4&&jf(u,f);break;case 22:f.memoizedState===null&&gs(u,f,a),ln(f,f.return);break;case 30:break;default:gs(u,f,a)}s=s.sibling}}function oc(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ir(a))}function cc(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Ir(e))}function Ft(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sf(e,s,a,l),s=s.sibling}function Sf(e,s,a,l){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Ft(e,s,a,l),u&2048&&nn(9,s);break;case 1:Ft(e,s,a,l);break;case 3:Ft(e,s,a,l),u&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Ir(e)));break;case 12:if(u&2048){Ft(e,s,a,l),e=s.stateNode;try{var f=s.memoizedProps,y=f.id,N=f.onPostCommit;typeof N=="function"&&N(y,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){Te(s,s.return,L)}}else Ft(e,s,a,l);break;case 31:Ft(e,s,a,l);break;case 13:Ft(e,s,a,l);break;case 23:break;case 22:f=s.stateNode,y=s.alternate,s.memoizedState!==null?f._visibility&2?Ft(e,s,a,l):on(e,s):f._visibility&2?Ft(e,s,a,l):(f._visibility|=2,er(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),u&2048&&oc(y,s);break;case 24:Ft(e,s,a,l),u&2048&&cc(s.alternate,s);break;default:Ft(e,s,a,l)}}function er(e,s,a,l,u){for(u=u&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=e,y=s,N=a,L=l,$=y.flags;switch(y.tag){case 0:case 11:case 15:er(f,y,N,L,u),nn(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?er(f,y,N,L,u):on(f,y):(F._visibility|=2,er(f,y,N,L,u)),u&&$&2048&&oc(y.alternate,y);break;case 24:er(f,y,N,L,u),u&&$&2048&&cc(y.alternate,y);break;default:er(f,y,N,L,u)}s=s.sibling}}function on(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,u=l.flags;switch(l.tag){case 22:on(a,l),u&2048&&oc(l.alternate,l);break;case 24:on(a,l),u&2048&&cc(l.alternate,l);break;default:on(a,l)}s=s.sibling}}var cn=8192;function tr(e,s,a){if(e.subtreeFlags&cn)for(e=e.child;e!==null;)_f(e,s,a),e=e.sibling}function _f(e,s,a){switch(e.tag){case 26:tr(e,s,a),e.flags&cn&&e.memoizedState!==null&&Kp(a,Vt,e.memoizedState,e.memoizedProps);break;case 5:tr(e,s,a);break;case 3:case 4:var l=Vt;Vt=Ii(e.stateNode.containerInfo),tr(e,s,a),Vt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=cn,cn=16777216,tr(e,s,a),cn=l):tr(e,s,a));break;default:tr(e,s,a)}}function Cf(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function dn(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];at=l,Of(l,e)}Cf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ef(e),e=e.sibling}function Ef(e){switch(e.tag){case 0:case 11:case 15:dn(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:dn(e);break;case 12:dn(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Di(e)):dn(e);break;default:dn(e)}}function Di(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];at=l,Of(l,e)}Cf(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Ms(8,s,s.return),Di(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Di(s));break;default:Di(s)}e=e.sibling}}function Of(e,s){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:Ms(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ir(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,at=l;else e:for(a=e;at!==null;){l=at;var u=l.sibling,f=l.return;if(yf(l),l===a){at=null;break e}if(u!==null){u.return=f,at=u;break e}at=f}}}var cp={getCacheForType:function(e){var s=lt(Ke),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return lt(Ke).controller.signal}},dp=typeof WeakMap=="function"?WeakMap:Map,Ce=0,ze=null,pe=null,ve=0,Oe=0,Ot=null,qs=!1,sr=!1,dc=!1,xs=0,Ve=0,$s=0,ja=0,uc=0,Tt=0,ar=0,un=null,bt=null,hc=!1,Li=0,Tf=0,Ui=1/0,zi=null,Bs=null,Ze=0,Hs=null,rr=null,ps=0,fc=0,mc=null,Af=null,hn=0,gc=null;function At(){return(Ce&2)!==0&&ve!==0?ve&-ve:H.T!==null?jc():Fd()}function kf(){if(Tt===0)if((ve&536870912)===0||we){var e=Vn;Vn<<=1,(Vn&3932160)===0&&(Vn=262144),Tt=e}else Tt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Tt}function vt(e,s,a){(e===ze&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(nr(e,0),Ps(e,ve,Tt,!1)),Rr(e,a),((Ce&2)===0||e!==ze)&&(e===ze&&((Ce&2)===0&&(ja|=a),Ve===4&&Ps(e,ve,Tt,!1)),Xt(e))}function Rf(e,s,a){if((Ce&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||kr(e,s),u=l?fp(e,s):pc(e,s,!0),f=l;do{if(u===0){sr&&!l&&Ps(e,s,0,!1);break}else{if(a=e.current.alternate,f&&!up(a)){u=pc(e,s,!1),f=!1;continue}if(u===2){if(f=s,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var N=e;u=un;var L=N.current.memoizedState.isDehydrated;if(L&&(nr(N,y).flags|=256),y=pc(N,y,!1),y!==2){if(dc&&!L){N.errorRecoveryDisabledLanes|=f,ja|=f,u=4;break e}f=bt,bt=u,f!==null&&(bt===null?bt=f:bt.push.apply(bt,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){nr(e,0),Ps(e,s,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ps(l,s,Tt,!qs);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(u=Li+300-jt(),10<u)){if(Ps(l,s,Tt,!qs),In(l,0,!0)!==0)break e;ps=s,l.timeoutHandle=cm(Df.bind(null,l,a,bt,zi,hc,s,Tt,ja,ar,qs,f,"Throttled",-0,0),u);break e}Df(l,a,bt,zi,hc,s,Tt,ja,ar,qs,f,null,-0,0)}}break}while(!0);Xt(e)}function Df(e,s,a,l,u,f,y,N,L,$,F,Y,B,V){if(e.timeoutHandle=-1,Y=s.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ss},_f(s,f,Y);var re=(f&62914560)===f?Li-jt():(f&4194048)===f?Tf-jt():0;if(re=Jp(Y,re),re!==null){ps=f,e.cancelPendingCommit=re(Hf.bind(null,e,s,f,a,l,u,y,N,L,F,Y,null,B,V)),Ps(e,f,y,!$);return}}Hf(e,s,f,a,l,u,y,N,L)}function up(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!St(f(),u))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ps(e,s,a,l){s&=~uc,s&=~ja,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var u=s;0<u;){var f=31-wt(u),y=1<<f;l[f]=-1,u&=~y}a!==0&&Pd(e,a,s)}function Mi(){return(Ce&6)===0?(fn(0),!1):!0}function xc(){if(pe!==null){if(Oe===0)var e=pe.return;else e=pe,is=ha=null,Ro(e),Ja=null,Kr=0,e=pe;for(;e!==null;)df(e.alternate,e),e=e.return;pe=null}}function nr(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,kp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ps=0,xc(),ze=e,pe=a=rs(e.current,null),ve=s,Oe=0,Ot=null,qs=!1,sr=kr(e,s),dc=!1,ar=Tt=uc=ja=$s=Ve=0,bt=un=null,hc=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var u=31-wt(l),f=1<<u;s|=e[u],l&=~f}return xs=s,ri(),a}function Lf(e,s){fe=null,H.H=sn,s===Ka||s===hi?(s=Ju(),Oe=3):s===vo?(s=Ju(),Oe=4):Oe=s===Ko?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ot=s,pe===null&&(Ve=1,Ci(e,Lt(s,e.current)))}function Uf(){var e=Ct.current;return e===null?!0:(ve&4194048)===ve?qt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===qt:!1}function zf(){var e=H.H;return H.H=sn,e===null?sn:e}function Mf(){var e=H.A;return H.A=cp,e}function qi(){Ve=4,qs||(ve&4194048)!==ve&&Ct.current!==null||(sr=!0),($s&134217727)===0&&(ja&134217727)===0||ze===null||Ps(ze,ve,Tt,!1)}function pc(e,s,a){var l=Ce;Ce|=2;var u=zf(),f=Mf();(ze!==e||ve!==s)&&(zi=null,nr(e,s)),s=!1;var y=Ve;e:do try{if(Oe!==0&&pe!==null){var N=pe,L=Ot;switch(Oe){case 8:xc(),y=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(s=!0);var $=Oe;if(Oe=0,Ot=null,ir(e,N,L,$),a&&sr){y=0;break e}break;default:$=Oe,Oe=0,Ot=null,ir(e,N,L,$)}}hp(),y=Ve;break}catch(F){Lf(e,F)}while(!0);return s&&e.shellSuspendCounter++,is=ha=null,Ce=l,H.H=u,H.A=f,pe===null&&(ze=null,ve=0,ri()),y}function hp(){for(;pe!==null;)qf(pe)}function fp(e,s){var a=Ce;Ce|=2;var l=zf(),u=Mf();ze!==e||ve!==s?(zi=null,Ui=jt()+500,nr(e,s)):sr=kr(e,s);e:do try{if(Oe!==0&&pe!==null){s=pe;var f=Ot;t:switch(Oe){case 1:Oe=0,Ot=null,ir(e,s,f,1);break;case 2:case 9:if(Yu(f)){Oe=0,Ot=null,$f(s);break}s=function(){Oe!==2&&Oe!==9||ze!==e||(Oe=7),Xt(e)},f.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Yu(f)?(Oe=0,Ot=null,$f(s)):(Oe=0,Ot=null,ir(e,s,f,7));break;case 5:var y=null;switch(pe.tag){case 26:y=pe.memoizedState;case 5:case 27:var N=pe;if(y?Sm(y):N.stateNode.complete){Oe=0,Ot=null;var L=N.sibling;if(L!==null)pe=L;else{var $=N.return;$!==null?(pe=$,$i($)):pe=null}break t}}Oe=0,Ot=null,ir(e,s,f,5);break;case 6:Oe=0,Ot=null,ir(e,s,f,6);break;case 8:xc(),Ve=6;break e;default:throw Error(i(462))}}mp();break}catch(F){Lf(e,F)}while(!0);return is=ha=null,H.H=l,H.A=u,Ce=a,pe!==null?0:(ze=null,ve=0,ri(),Ve)}function mp(){for(;pe!==null&&!Mx();)qf(pe)}function qf(e){var s=of(e.alternate,e,xs);e.memoizedProps=e.pendingProps,s===null?$i(e):pe=s}function $f(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=tf(a,s,s.pendingProps,s.type,void 0,ve);break;case 11:s=tf(a,s,s.pendingProps,s.type.render,s.ref,ve);break;case 5:Ro(s);default:df(a,s),s=pe=zu(s,xs),s=of(a,s,xs)}e.memoizedProps=e.pendingProps,s===null?$i(e):pe=s}function ir(e,s,a,l){is=ha=null,Ro(s),Ja=null,Kr=0;var u=s.return;try{if(sp(e,u,s,a,ve)){Ve=1,Ci(e,Lt(a,e.current)),pe=null;return}}catch(f){if(u!==null)throw pe=u,f;Ve=1,Ci(e,Lt(a,e.current)),pe=null;return}s.flags&32768?(we||l===1?e=!0:sr||(ve&536870912)!==0?e=!1:(qs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ct.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bf(s,e)):$i(s)}function $i(e){var s=e;do{if((s.flags&32768)!==0){Bf(s,qs);return}e=s.return;var a=np(s.alternate,s,xs);if(a!==null){pe=a;return}if(s=s.sibling,s!==null){pe=s;return}pe=s=e}while(s!==null);Ve===0&&(Ve=5)}function Bf(e,s){do{var a=ip(e.alternate,e);if(a!==null){a.flags&=32767,pe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){pe=e;return}pe=e=a}while(e!==null);Ve=6,pe=null}function Hf(e,s,a,l,u,f,y,N,L){e.cancelPendingCommit=null;do Bi();while(Ze!==0);if((Ce&6)!==0)throw Error(i(327));if(s!==null){if(s===e.current)throw Error(i(177));if(f=s.lanes|s.childLanes,f|=ro,Yx(e,a,f,y,N,L),e===ze&&(pe=ze=null,ve=0),rr=s,Hs=e,ps=a,fc=f,mc=u,Af=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yp(Pn,function(){return If(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,u=J.p,J.p=2,y=Ce,Ce|=4;try{lp(e,s,a)}finally{Ce=y,J.p=u,H.T=l}}Ze=1,Pf(),Gf(),Vf()}}function Pf(){if(Ze===1){Ze=0;var e=Hs,s=rr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=J.p;J.p=2;var u=Ce;Ce|=4;try{Nf(s,e);var f=Tc,y=Eu(e.containerInfo),N=f.focusedElem,L=f.selectionRange;if(y!==N&&N&&N.ownerDocument&&Cu(N.ownerDocument.documentElement,N)){if(L!==null&&Wl(N)){var $=L.start,F=L.end;if(F===void 0&&(F=$),"selectionStart"in N)N.selectionStart=$,N.selectionEnd=Math.min(F,N.value.length);else{var Y=N.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var V=B.getSelection(),re=N.textContent.length,le=Math.min(L.start,re),De=L.end===void 0?le:Math.min(L.end,re);!V.extend&&le>De&&(y=De,De=le,le=y);var M=_u(N,le),U=_u(N,De);if(M&&U&&(V.rangeCount!==1||V.anchorNode!==M.node||V.anchorOffset!==M.offset||V.focusNode!==U.node||V.focusOffset!==U.offset)){var q=Y.createRange();q.setStart(M.node,M.offset),V.removeAllRanges(),le>De?(V.addRange(q),V.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),V.addRange(q))}}}}for(Y=[],V=N;V=V.parentNode;)V.nodeType===1&&Y.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Y.length;N++){var I=Y[N];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Zi=!!Oc,Tc=Oc=null}finally{Ce=u,J.p=l,H.T=a}}e.current=s,Ze=2}}function Gf(){if(Ze===2){Ze=0;var e=Hs,s=rr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=J.p;J.p=2;var u=Ce;Ce|=4;try{pf(e,s.alternate,s)}finally{Ce=u,J.p=l,H.T=a}}Ze=3}}function Vf(){if(Ze===4||Ze===3){Ze=0,qx();var e=Hs,s=rr,a=ps,l=Af;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ze=5:(Ze=0,rr=Hs=null,Ff(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Bs=null),Ll(a),s=s.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ar,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=H.T,u=J.p,J.p=2,H.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var N=l[y];f(N.value,{componentStack:N.stack})}}finally{H.T=s,J.p=u}}(ps&3)!==0&&Bi(),Xt(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===gc?hn++:(hn=0,gc=e):hn=0,fn(0)}}function Ff(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Ir(s)))}function Bi(){return Pf(),Gf(),Vf(),If()}function If(){if(Ze!==5)return!1;var e=Hs,s=fc;fc=0;var a=Ll(ps),l=H.T,u=J.p;try{J.p=32>a?32:a,H.T=null,a=mc,mc=null;var f=Hs,y=ps;if(Ze=0,rr=Hs=null,ps=0,(Ce&6)!==0)throw Error(i(331));var N=Ce;if(Ce|=4,Ef(f.current),Sf(f,f.current,y,a),Ce=N,fn(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ar,f)}catch{}return!0}finally{J.p=u,H.T=l,Ff(e,s)}}function Yf(e,s,a){s=Lt(a,s),s=Yo(e.stateNode,s,2),e=Ls(e,s,2),e!==null&&(Rr(e,2),Xt(e))}function Te(e,s,a){if(e.tag===3)Yf(e,e,a);else for(;s!==null;){if(s.tag===3){Yf(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){e=Lt(a,e),a=Yh(2),l=Ls(s,a,2),l!==null&&(Kh(a,l,s,e),Rr(l,2),Xt(l));break}}s=s.return}}function yc(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new dp;var u=new Set;l.set(s,u)}else u=l.get(s),u===void 0&&(u=new Set,l.set(s,u));u.has(a)||(dc=!0,u.add(a),e=gp.bind(null,e,s,a),s.then(e,e))}function gp(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(ve&a)===a&&(Ve===4||Ve===3&&(ve&62914560)===ve&&300>jt()-Li?(Ce&2)===0&&nr(e,0):uc|=a,ar===ve&&(ar=0)),Xt(e)}function Kf(e,s){s===0&&(s=Hd()),e=ca(e,s),e!==null&&(Rr(e,s),Xt(e))}function xp(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Kf(e,a)}function pp(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Kf(e,a)}function yp(e,s){return Al(e,s)}var Hi=null,lr=null,bc=!1,Pi=!1,vc=!1,Gs=0;function Xt(e){e!==lr&&e.next===null&&(lr===null?Hi=lr=e:lr=lr.next=e),Pi=!0,bc||(bc=!0,vp())}function fn(e,s){if(!vc&&Pi){vc=!0;do for(var a=!1,l=Hi;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var y=l.suspendedLanes,N=l.pingedLanes;f=(1<<31-wt(42|e)+1)-1,f&=u&~(y&~N),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zf(l,f))}else f=ve,f=In(l,l===ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||kr(l,f)||(a=!0,Zf(l,f));l=l.next}while(a);vc=!1}}function bp(){Jf()}function Jf(){Pi=bc=!1;var e=0;Gs!==0&&Ap()&&(e=Gs);for(var s=jt(),a=null,l=Hi;l!==null;){var u=l.next,f=Qf(l,s);f===0?(l.next=null,a===null?Hi=u:a.next=u,u===null&&(lr=a)):(a=l,(e!==0||(f&3)!==0)&&(Pi=!0)),l=u}Ze!==0&&Ze!==5||fn(e),Gs!==0&&(Gs=0)}function Qf(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-wt(f),N=1<<y,L=u[y];L===-1?((N&a)===0||(N&l)!==0)&&(u[y]=Ix(N,s)):L<=s&&(e.expiredLanes|=N),f&=~N}if(s=ze,a=ve,a=In(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&kl(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||kr(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&kl(l),Ll(a)){case 2:case 8:a=$d;break;case 32:a=Pn;break;case 268435456:a=Bd;break;default:a=Pn}return l=Xf.bind(null,e),a=Al(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&kl(l),e.callbackPriority=2,e.callbackNode=null,2}function Xf(e,s){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Bi()&&e.callbackNode!==a)return null;var l=ve;return l=In(e,e===ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Rf(e,l,s),Qf(e,jt()),e.callbackNode!=null&&e.callbackNode===a?Xf.bind(null,e):null)}function Zf(e,s){if(Bi())return null;Rf(e,s,!0)}function vp(){Rp(function(){(Ce&6)!==0?Al(qd,bp):Jf()})}function jc(){if(Gs===0){var e=Ia;e===0&&(e=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),Gs=e}return Gs}function Wf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qn(""+e)}function em(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function jp(e,s,a,l,u){if(s==="submit"&&a&&a.stateNode===u){var f=Wf((u[mt]||null).action),y=l.submitter;y&&(s=(s=y[mt]||null)?Wf(s.formAction):y.getAttribute("formAction"),s!==null&&(f=s,y=null));var N=new ei("action","action",null,l,u);e.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var L=y?em(u,y):new FormData(u);Ho(a,{pending:!0,data:L,method:u.method,action:f},null,L)}}else typeof f=="function"&&(N.preventDefault(),L=y?em(u,y):new FormData(u),Ho(a,{pending:!0,data:L,method:u.method,action:f},f,L))},currentTarget:u}]})}}for(var Nc=0;Nc<ao.length;Nc++){var wc=ao[Nc],Np=wc.toLowerCase(),wp=wc[0].toUpperCase()+wc.slice(1);Gt(Np,"on"+wp)}Gt(Au,"onAnimationEnd"),Gt(ku,"onAnimationIteration"),Gt(Ru,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt($0,"onTransitionRun"),Gt(B0,"onTransitionStart"),Gt(H0,"onTransitionCancel"),Gt(Du,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),na("onBeforeInput",["compositionend","keypress","textInput","paste"]),na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mn));function tm(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var y=l.length-1;0<=y;y--){var N=l[y],L=N.instance,$=N.currentTarget;if(N=N.listener,L!==f&&u.isPropagationStopped())break e;f=N,u.currentTarget=$;try{f(u)}catch(F){ai(F)}u.currentTarget=null,f=L}else for(y=0;y<l.length;y++){if(N=l[y],L=N.instance,$=N.currentTarget,N=N.listener,L!==f&&u.isPropagationStopped())break e;f=N,u.currentTarget=$;try{f(u)}catch(F){ai(F)}u.currentTarget=null,f=L}}}}function ye(e,s){var a=s[Ul];a===void 0&&(a=s[Ul]=new Set);var l=e+"__bubble";a.has(l)||(sm(s,e,2,!1),a.add(l))}function Sc(e,s,a){var l=0;s&&(l|=4),sm(a,e,l,s)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Gi]){e[Gi]=!0,Kd.forEach(function(a){a!=="selectionchange"&&(Sp.has(a)||Sc(a,!1,e),Sc(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Gi]||(s[Gi]=!0,Sc("selectionchange",!1,s))}}function sm(e,s,a,l){switch(km(s)){case 2:var u=Zp;break;case 8:u=Wp;break;default:u=Bc}a=u.bind(null,s,a,e),u=void 0,!Vl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(s,a,{capture:!0,passive:u}):e.addEventListener(s,a,!0):u!==void 0?e.addEventListener(s,a,{passive:u}):e.addEventListener(s,a,!1)}function Cc(e,s,a,l,u){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var N=l.stateNode.containerInfo;if(N===u)break;if(y===4)for(y=l.return;y!==null;){var L=y.tag;if((L===3||L===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;N!==null;){if(y=Ta(N),y===null)return;if(L=y.tag,L===5||L===6||L===26||L===27){l=f=y;continue e}N=N.parentNode}}l=l.return}iu(function(){var $=f,F=Pl(a),Y=[];e:{var B=Lu.get(e);if(B!==void 0){var V=ei,re=e;switch(e){case"keypress":if(Zn(a)===0)break e;case"keydown":case"keyup":V=p0;break;case"focusin":re="focus",V=Kl;break;case"focusout":re="blur",V=Kl;break;case"beforeblur":case"afterblur":V=Kl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=n0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=v0;break;case Au:case ku:case Ru:V=o0;break;case Du:V=N0;break;case"scroll":case"scrollend":V=a0;break;case"wheel":V=S0;break;case"copy":case"cut":case"paste":V=d0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=uu;break;case"toggle":case"beforetoggle":V=C0}var le=(s&4)!==0,De=!le&&(e==="scroll"||e==="scrollend"),M=le?B!==null?B+"Capture":null:B;le=[];for(var U=$,q;U!==null;){var I=U;if(q=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||q===null||M===null||(I=Ur(U,M),I!=null&&le.push(gn(U,I,q))),De)break;U=U.return}0<le.length&&(B=new V(B,re,null,a,F),Y.push({event:B,listeners:le}))}}if((s&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",B&&a!==Hl&&(re=a.relatedTarget||a.fromElement)&&(Ta(re)||re[Oa]))break e;if((V||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,V?(re=a.relatedTarget||a.toElement,V=$,re=re?Ta(re):null,re!==null&&(De=d(re),le=re.tag,re!==De||le!==5&&le!==27&&le!==6)&&(re=null)):(V=null,re=$),V!==re)){if(le=cu,I="onMouseLeave",M="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(le=uu,I="onPointerLeave",M="onPointerEnter",U="pointer"),De=V==null?B:Lr(V),q=re==null?B:Lr(re),B=new le(I,U+"leave",V,a,F),B.target=De,B.relatedTarget=q,I=null,Ta(F)===$&&(le=new le(M,U+"enter",re,a,F),le.target=q,le.relatedTarget=De,I=le),De=I,V&&re)t:{for(le=_p,M=V,U=re,q=0,I=M;I;I=le(I))q++;I=0;for(var ie=U;ie;ie=le(ie))I++;for(;0<q-I;)M=le(M),q--;for(;0<I-q;)U=le(U),I--;for(;q--;){if(M===U||U!==null&&M===U.alternate){le=M;break t}M=le(M),U=le(U)}le=null}else le=null;V!==null&&am(Y,B,V,le,!1),re!==null&&De!==null&&am(Y,De,re,le,!0)}}e:{if(B=$?Lr($):window,V=B.nodeName&&B.nodeName.toLowerCase(),V==="select"||V==="input"&&B.type==="file")var Se=bu;else if(pu(B))if(vu)Se=z0;else{Se=L0;var ne=D0}else V=B.nodeName,!V||V.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?$&&Bl($.elementType)&&(Se=bu):Se=U0;if(Se&&(Se=Se(e,$))){yu(Y,Se,a,F);break e}ne&&ne(e,B,$),e==="focusout"&&$&&B.type==="number"&&$.memoizedProps.value!=null&&$l(B,"number",B.value)}switch(ne=$?Lr($):window,e){case"focusin":(pu(ne)||ne.contentEditable==="true")&&(qa=ne,eo=$,Gr=null);break;case"focusout":Gr=eo=qa=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,Ou(Y,a,F);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":Ou(Y,a,F)}var ge;if(Ql)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ma?gu(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(hu&&a.locale!=="ko"&&(Ma||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ma&&(ge=lu()):(Es=F,Fl="value"in Es?Es.value:Es.textContent,Ma=!0)),ne=Vi($,je),0<ne.length&&(je=new du(je,e,null,a,F),Y.push({event:je,listeners:ne}),ge?je.data=ge:(ge=xu(a),ge!==null&&(je.data=ge)))),(ge=O0?T0(e,a):A0(e,a))&&(je=Vi($,"onBeforeInput"),0<je.length&&(ne=new du("onBeforeInput","beforeinput",null,a,F),Y.push({event:ne,listeners:je}),ne.data=ge)),jp(Y,e,$,a,F)}tm(Y,s)})}function gn(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Vi(e,s){for(var a=s+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ur(e,a),u!=null&&l.unshift(gn(e,u,f)),u=Ur(e,s),u!=null&&l.push(gn(e,u,f))),e.tag===3)return l;e=e.return}return[]}function _p(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function am(e,s,a,l,u){for(var f=s._reactName,y=[];a!==null&&a!==l;){var N=a,L=N.alternate,$=N.stateNode;if(N=N.tag,L!==null&&L===l)break;N!==5&&N!==26&&N!==27||$===null||(L=$,u?($=Ur(a,f),$!=null&&y.unshift(gn(a,$,L))):u||($=Ur(a,f),$!=null&&y.push(gn(a,$,L)))),a=a.return}y.length!==0&&e.push({event:s,listeners:y})}var Cp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function rm(e){return(typeof e=="string"?e:""+e).replace(Cp,`
`).replace(Ep,"")}function nm(e,s){return s=rm(s),rm(e)===s}function Re(e,s,a,l,u,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||La(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&La(e,""+l);break;case"className":Kn(e,"class",l);break;case"tabIndex":Kn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,l);break;case"style":ru(e,l,f);break;case"data":if(s!=="object"){Kn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&Re(e,s,"name",u.name,u,null),Re(e,s,"formEncType",u.formEncType,u,null),Re(e,s,"formMethod",u.formMethod,u,null),Re(e,s,"formTarget",u.formTarget,u,null)):(Re(e,s,"encType",u.encType,u,null),Re(e,s,"method",u.method,u,null),Re(e,s,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ss);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Qn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Yn(e,"popover",l);break;case"xlinkActuate":ts(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ts(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ts(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ts(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ts(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ts(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ts(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ts(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ts(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=t0.get(a)||a,Yn(e,a,l))}}function Ec(e,s,a,l,u,f){switch(a){case"style":ru(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?La(e,l):(typeof l=="number"||typeof l=="bigint")&&La(e,""+l);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),s=a.slice(2,u?a.length-7:void 0),f=e[mt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(s,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Yn(e,a,l)}}}function ct(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Re(e,s,f,y,a,null)}}u&&Re(e,s,"srcSet",a.srcSet,a,null),l&&Re(e,s,"src",a.src,a,null);return;case"input":ye("invalid",e);var N=f=y=u=null,L=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":u=F;break;case"type":y=F;break;case"checked":L=F;break;case"defaultChecked":$=F;break;case"value":f=F;break;case"defaultValue":N=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,s));break;default:Re(e,s,l,F,a,null)}}eu(e,f,N,L,$,y,u,!1);return;case"select":ye("invalid",e),l=y=f=null;for(u in a)if(a.hasOwnProperty(u)&&(N=a[u],N!=null))switch(u){case"value":f=N;break;case"defaultValue":y=N;break;case"multiple":l=N;default:Re(e,s,u,N,a,null)}s=f,a=y,e.multiple=!!l,s!=null?Da(e,!!l,s,!1):a!=null&&Da(e,!!l,a,!0);return;case"textarea":ye("invalid",e),f=u=l=null;for(y in a)if(a.hasOwnProperty(y)&&(N=a[y],N!=null))switch(y){case"value":l=N;break;case"defaultValue":u=N;break;case"children":f=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Re(e,s,y,N,a,null)}su(e,l,u,f);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Re(e,s,L,l,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(l=0;l<mn.length;l++)ye(mn[l],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Re(e,s,$,l,a,null)}return;default:if(Bl(s)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Ec(e,s,F,l,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null&&Re(e,s,N,l,a,null))}function Op(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,N=null,L=null,$=null,F=null;for(V in a){var Y=a[V];if(a.hasOwnProperty(V)&&Y!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":L=Y;default:l.hasOwnProperty(V)||Re(e,s,V,null,l,Y)}}for(var B in l){var V=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(V!=null||Y!=null))switch(B){case"type":f=V;break;case"name":u=V;break;case"checked":$=V;break;case"defaultChecked":F=V;break;case"value":y=V;break;case"defaultValue":N=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:V!==Y&&Re(e,s,B,V,l,Y)}}ql(e,y,N,L,$,F,f,u);return;case"select":V=y=N=B=null;for(f in a)if(L=a[f],a.hasOwnProperty(f)&&L!=null)switch(f){case"value":break;case"multiple":V=L;default:l.hasOwnProperty(f)||Re(e,s,f,null,l,L)}for(u in l)if(f=l[u],L=a[u],l.hasOwnProperty(u)&&(f!=null||L!=null))switch(u){case"value":B=f;break;case"defaultValue":N=f;break;case"multiple":y=f;default:f!==L&&Re(e,s,u,f,l,L)}s=N,a=y,l=V,B!=null?Da(e,!!a,B,!1):!!l!=!!a&&(s!=null?Da(e,!!a,s,!0):Da(e,!!a,a?[]:"",!1));return;case"textarea":V=B=null;for(N in a)if(u=a[N],a.hasOwnProperty(N)&&u!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Re(e,s,N,null,l,u)}for(y in l)if(u=l[y],f=a[y],l.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":B=u;break;case"defaultValue":V=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&Re(e,s,y,u,l,f)}tu(e,B,V);return;case"option":for(var re in a)if(B=a[re],a.hasOwnProperty(re)&&B!=null&&!l.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Re(e,s,re,null,l,B)}for(L in l)if(B=l[L],V=a[L],l.hasOwnProperty(L)&&B!==V&&(B!=null||V!=null))switch(L){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Re(e,s,L,B,l,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)B=a[le],a.hasOwnProperty(le)&&B!=null&&!l.hasOwnProperty(le)&&Re(e,s,le,null,l,B);for($ in l)if(B=l[$],V=a[$],l.hasOwnProperty($)&&B!==V&&(B!=null||V!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,s));break;default:Re(e,s,$,B,l,V)}return;default:if(Bl(s)){for(var De in a)B=a[De],a.hasOwnProperty(De)&&B!==void 0&&!l.hasOwnProperty(De)&&Ec(e,s,De,void 0,l,B);for(F in l)B=l[F],V=a[F],!l.hasOwnProperty(F)||B===V||B===void 0&&V===void 0||Ec(e,s,F,B,l,V);return}}for(var M in a)B=a[M],a.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Re(e,s,M,null,l,B);for(Y in l)B=l[Y],V=a[Y],!l.hasOwnProperty(Y)||B===V||B==null&&V==null||Re(e,s,Y,B,l,V)}function im(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],f=u.transferSize,y=u.initiatorType,N=u.duration;if(f&&N&&im(y)){for(y=0,N=u.responseEnd,l+=1;l<a.length;l++){var L=a[l],$=L.startTime;if($>N)break;var F=L.transferSize,Y=L.initiatorType;F&&im(Y)&&(L=L.responseEnd,y+=F*(L<N?1:(N-$)/(L-$)))}if(--l,s+=8*(f+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oc=null,Tc=null;function Fi(e){return e.nodeType===9?e:e.ownerDocument}function lm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Ac(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kc=null;function Ap(){var e=window.event;return e&&e.type==="popstate"?e===kc?!1:(kc=e,!0):(kc=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,kp=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,Rp=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(e){return dm.resolve(null).then(e).catch(Dp)}:cm;function Dp(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function um(e,s){var a=s,l=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(u),ur(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,xn(a);for(var f=a.firstChild;f;){var y=f.nextSibling,N=f.nodeName;f[Dr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&xn(e.ownerDocument.body);a=u}while(a);ur(s)}function hm(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Rc(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rc(a),zl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lp(e,s,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Dr])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function Up(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$t(e.nextSibling),e===null))return null;return e}function fm(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=$t(e.nextSibling),e===null))return null;return e}function Dc(e){return e.data==="$?"||e.data==="$~"}function Lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zp(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function $t(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Uc=null;function mm(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return $t(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function gm(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function xm(e,s,a){switch(s=Fi(a),e){case"html":if(e=s.documentElement,!e)throw Error(i(452));return e;case"head":if(e=s.head,!e)throw Error(i(453));return e;case"body":if(e=s.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function xn(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);zl(e)}var Bt=new Map,pm=new Set;function Ii(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=J.d;J.d={f:Mp,r:qp,D:$p,C:Bp,L:Hp,m:Pp,X:Vp,S:Gp,M:Fp};function Mp(){var e=ys.f(),s=Mi();return e||s}function qp(e){var s=Aa(e);s!==null&&s.tag===5&&s.type==="form"?Dh(s):ys.r(e)}var or=typeof document>"u"?null:document;function ym(e,s,a){var l=or;if(l&&typeof s=="string"&&s){var u=Rt(s);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),pm.has(u)||(pm.add(u),e={rel:e,crossOrigin:a,href:s},l.querySelector(u)===null&&(s=l.createElement("link"),ct(s,"link",e),st(s),l.head.appendChild(s)))}}function $p(e){ys.D(e),ym("dns-prefetch",e,null)}function Bp(e,s){ys.C(e,s),ym("preconnect",e,s)}function Hp(e,s,a){ys.L(e,s,a);var l=or;if(l&&e&&s){var u='link[rel="preload"][as="'+Rt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Rt(a.imageSizes)+'"]')):u+='[href="'+Rt(e)+'"]';var f=u;switch(s){case"style":f=cr(e);break;case"script":f=dr(e)}Bt.has(f)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Bt.set(f,e),l.querySelector(u)!==null||s==="style"&&l.querySelector(pn(f))||s==="script"&&l.querySelector(yn(f))||(s=l.createElement("link"),ct(s,"link",e),st(s),l.head.appendChild(s)))}}function Pp(e,s){ys.m(e,s);var a=or;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",u='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(e)}if(!Bt.has(f)&&(e=b({rel:"modulepreload",href:e},s),Bt.set(f,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yn(f)))return}l=a.createElement("link"),ct(l,"link",e),st(l),a.head.appendChild(l)}}}function Gp(e,s,a){ys.S(e,s,a);var l=or;if(l&&e){var u=ka(l).hoistableStyles,f=cr(e);s=s||"default";var y=u.get(f);if(!y){var N={loading:0,preload:null};if(y=l.querySelector(pn(f)))N.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Bt.get(f))&&zc(e,a);var L=y=l.createElement("link");st(L),ct(L,"link",e),L._p=new Promise(function($,F){L.onload=$,L.onerror=F}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Yi(y,s,l)}y={type:"stylesheet",instance:y,count:1,state:N},u.set(f,y)}}}function Vp(e,s){ys.X(e,s);var a=or;if(a&&e){var l=ka(a).hoistableScripts,u=dr(e),f=l.get(u);f||(f=a.querySelector(yn(u)),f||(e=b({src:e,async:!0},s),(s=Bt.get(u))&&Mc(e,s),f=a.createElement("script"),st(f),ct(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Fp(e,s){ys.M(e,s);var a=or;if(a&&e){var l=ka(a).hoistableScripts,u=dr(e),f=l.get(u);f||(f=a.querySelector(yn(u)),f||(e=b({src:e,async:!0,type:"module"},s),(s=Bt.get(u))&&Mc(e,s),f=a.createElement("script"),st(f),ct(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function bm(e,s,a,l){var u=(u=te.current)?Ii(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=cr(a.href),a=ka(u).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=cr(a.href);var f=ka(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(pn(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Bt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bt.set(e,a),f||Ip(u,e,a,y.state))),s&&l===null)throw Error(i(528,""));return y}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dr(a),a=ka(u).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function cr(e){return'href="'+Rt(e)+'"'}function pn(e){return'link[rel="stylesheet"]['+e+"]"}function vm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ip(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ct(s,"link",a),st(s),e.head.appendChild(s))}function dr(e){return'[src="'+Rt(e)+'"]'}function yn(e){return"script[async]"+e}function jm(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(l)return s.instance=l,st(l),l;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),st(l),ct(l,"style",u),Yi(l,a.precedence,e),s.instance=l;case"stylesheet":u=cr(a.href);var f=e.querySelector(pn(u));if(f)return s.state.loading|=4,s.instance=f,st(f),f;l=vm(a),(u=Bt.get(u))&&zc(l,u),f=(e.ownerDocument||e).createElement("link"),st(f);var y=f;return y._p=new Promise(function(N,L){y.onload=N,y.onerror=L}),ct(f,"link",l),s.state.loading|=4,Yi(f,a.precedence,e),s.instance=f;case"script":return f=dr(a.src),(u=e.querySelector(yn(f)))?(s.instance=u,st(u),u):(l=a,(u=Bt.get(f))&&(l=b({},a),Mc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),st(u),ct(u,"link",l),e.head.appendChild(u),s.instance=u);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Yi(l,a.precedence,e));return s.instance}function Yi(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,y=0;y<l.length;y++){var N=l[y];if(N.dataset.precedence===s)f=N;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function zc(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Mc(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Ki=null;function Nm(e,s,a){if(Ki===null){var l=new Map,u=Ki=new Map;u.set(a,l)}else u=Ki,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Dr]||f[nt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(s)||"";y=e+y;var N=l.get(y);N?N.push(f):l.set(y,[f])}}return l}function wm(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Yp(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Sm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kp(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=cr(l.href),f=s.querySelector(pn(u));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Ji.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=f,st(f);return}f=s.ownerDocument||s,l=vm(l),(u=Bt.get(u))&&zc(l,u),f=f.createElement("link"),st(f);var y=f;y._p=new Promise(function(N,L){y.onload=N,y.onerror=L}),ct(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ji.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var qc=0;function Jp(e,s){return e.stylesheets&&e.count===0&&Xi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Xi(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+s);0<e.imgBytes&&qc===0&&(qc=62500*Tp());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xi(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>qc?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qi=null;function Xi(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qi=new Map,s.forEach(Qp,e),Qi=null,Ji.call(e))}function Qp(e,s){if(!(s.state.loading&4)){var a=Qi.get(e);if(a)var l=a.get(null);else{a=new Map,Qi.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}u=s.instance,y=u.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,u),a.set(y,u),this.count++,l=Ji.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),s.state.loading|=4}}var bn={$$typeof:C,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Xp(e,s,a,l,u,f,y,N,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.hiddenUpdates=Rl(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function _m(e,s,a,l,u,f,y,N,L,$,F,Y){return e=new Xp(e,s,a,y,L,$,F,Y,N),s=1,f===!0&&(s|=24),f=_t(3,null,null,s),e.current=f,f.stateNode=e,s=po(),s.refCount++,e.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},jo(f),e}function Cm(e){return e?(e=Ha,e):Ha}function Em(e,s,a,l,u,f){u=Cm(u),l.context===null?l.context=u:l.pendingContext=u,l=Ds(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ls(e,l,s),a!==null&&(vt(a,e,s),Qr(a,e,s))}function Om(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function $c(e,s){Om(e,s),(e=e.alternate)&&Om(e,s)}function Tm(e){if(e.tag===13||e.tag===31){var s=ca(e,67108864);s!==null&&vt(s,e,67108864),$c(e,67108864)}}function Am(e){if(e.tag===13||e.tag===31){var s=At();s=Dl(s);var a=ca(e,s);a!==null&&vt(a,e,s),$c(e,s)}}var Zi=!0;function Zp(e,s,a,l){var u=H.T;H.T=null;var f=J.p;try{J.p=2,Bc(e,s,a,l)}finally{J.p=f,H.T=u}}function Wp(e,s,a,l){var u=H.T;H.T=null;var f=J.p;try{J.p=8,Bc(e,s,a,l)}finally{J.p=f,H.T=u}}function Bc(e,s,a,l){if(Zi){var u=Hc(l);if(u===null)Cc(e,s,l,Wi,a),Rm(e,l);else if(ty(u,e,s,a,l))l.stopPropagation();else if(Rm(e,l),s&4&&-1<ey.indexOf(e)){for(;u!==null;){var f=Aa(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ra(f.pendingLanes);if(y!==0){var N=f;for(N.pendingLanes|=2,N.entangledLanes|=2;y;){var L=1<<31-wt(y);N.entanglements[1]|=L,y&=~L}Xt(f),(Ce&6)===0&&(Ui=jt()+500,fn(0))}}break;case 31:case 13:N=ca(f,2),N!==null&&vt(N,f,2),Mi(),$c(f,2)}if(f=Hc(l),f===null&&Cc(e,s,l,Wi,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else Cc(e,s,l,null,a)}}function Hc(e){return e=Pl(e),Pc(e)}var Wi=null;function Pc(e){if(Wi=null,e=Ta(e),e!==null){var s=d(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=h(s),e!==null)return e;e=null}else if(a===31){if(e=m(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Wi=e,null}function km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($x()){case qd:return 2;case $d:return 8;case Pn:case Bx:return 32;case Bd:return 268435456;default:return 32}default:return 32}}var Gc=!1,Fs=null,Is=null,Ys=null,vn=new Map,jn=new Map,Ks=[],ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rm(e,s){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":vn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(s.pointerId)}}function Nn(e,s,a,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},s!==null&&(s=Aa(s),s!==null&&Tm(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,u!==null&&s.indexOf(u)===-1&&s.push(u),e)}function ty(e,s,a,l,u){switch(s){case"focusin":return Fs=Nn(Fs,e,s,a,l,u),!0;case"dragenter":return Is=Nn(Is,e,s,a,l,u),!0;case"mouseover":return Ys=Nn(Ys,e,s,a,l,u),!0;case"pointerover":var f=u.pointerId;return vn.set(f,Nn(vn.get(f)||null,e,s,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,jn.set(f,Nn(jn.get(f)||null,e,s,a,l,u)),!0}return!1}function Dm(e){var s=Ta(e.target);if(s!==null){var a=d(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){e.blockedOn=s,Id(e.priority,function(){Am(a)});return}}else if(s===31){if(s=m(a),s!==null){e.blockedOn=s,Id(e.priority,function(){Am(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Hc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Hl=l,a.target.dispatchEvent(l),Hl=null}else return s=Aa(a),s!==null&&Tm(s),e.blockedOn=a,!1;s.shift()}return!0}function Lm(e,s,a){el(e)&&a.delete(s)}function sy(){Gc=!1,Fs!==null&&el(Fs)&&(Fs=null),Is!==null&&el(Is)&&(Is=null),Ys!==null&&el(Ys)&&(Ys=null),vn.forEach(Lm),jn.forEach(Lm)}function tl(e,s){e.blockedOn===s&&(e.blockedOn=null,Gc||(Gc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,sy)))}var sl=null;function Um(e){sl!==e&&(sl=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){sl===e&&(sl=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],u=e[s+2];if(typeof l!="function"){if(Pc(l||a)===null)continue;break}var f=Aa(a);f!==null&&(e.splice(s,3),s-=3,Ho(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function ur(e){function s(L){return tl(L,e)}Fs!==null&&tl(Fs,e),Is!==null&&tl(Is,e),Ys!==null&&tl(Ys,e),vn.forEach(s),jn.forEach(s);for(var a=0;a<Ks.length;a++){var l=Ks[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)Dm(a),a.blockedOn===null&&Ks.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],y=u[mt]||null;if(typeof f=="function")y||Um(a);else if(y){var N=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[mt]||null)N=y.formAction;else if(Pc(u)!==null)continue}else N=y.action;typeof N=="function"?a[l+1]=N:(a.splice(l,3),l-=3),Um(a)}}}function zm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function s(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),u!==null&&(u(),u=null)}}}function Vc(e){this._internalRoot=e}al.prototype.render=Vc.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=At();Em(a,l,e,s,null,null)},al.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Em(e.current,2,null,e,null,null),Mi(),s[Oa]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var s=Fd();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ks.length&&s!==0&&s<Ks[a].priority;a++);Ks.splice(a,0,e),a===0&&Dm(e)}};var Mm=r.version;if(Mm!=="19.2.0")throw Error(i(527,Mm,"19.2.0"));J.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(s),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var ay={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Ar=rl.inject(ay),Nt=rl}catch{}}return _n.createRoot=function(e,s){if(!c(e))throw Error(i(299));var a=!1,l="",u=Gh,f=Vh,y=Fh;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=_m(e,1,!1,null,null,a,l,null,u,f,y,zm),e[Oa]=s.current,_c(e),new Vc(s)},_n.hydrateRoot=function(e,s,a){if(!c(e))throw Error(i(299));var l=!1,u="",f=Gh,y=Vh,N=Fh,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),s=_m(e,1,!0,s,a??null,l,u,L,f,y,N,zm),s.context=Cm(null),a=s.current,l=At(),l=Dl(l),u=Ds(l),u.callback=null,Ls(a,u,l),a=l,s.current.lanes=a,Rr(s,a),Xt(s),e[Oa]=s.current,_c(e),new al(s)},_n.version="19.2.0",_n}var fg;function rb(){if(fg)return Kc.exports;fg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Kc.exports=ab(),Kc.exports}var nb=rb();var mg="popstate";function ib(o={}){function r(i,c){let{pathname:d,search:h,hash:m}=i.location;return dd("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(i,c){return typeof c=="string"?c:Un(c)}return ob(r,n,null,o)}function tt(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function Pt(o,r){if(!o){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function lb(){return Math.random().toString(36).substring(2,10)}function gg(o,r){return{usr:o.state,key:o.key,idx:r}}function dd(o,r,n=null,i){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof r=="string"?Mn(r):r,state:n,key:r&&r.key||i||lb()}}function Un({pathname:o="/",search:r="",hash:n=""}){return r&&r!=="?"&&(o+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(o+=n.charAt(0)==="#"?n:"#"+n),o}function Mn(o){let r={};if(o){let n=o.indexOf("#");n>=0&&(r.hash=o.substring(n),o=o.substring(0,n));let i=o.indexOf("?");i>=0&&(r.search=o.substring(i),o=o.substring(0,i)),o&&(r.pathname=o)}return r}function ob(o,r,n,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,h=c.history,m="POP",g=null,x=p();x==null&&(x=0,h.replaceState({...h.state,idx:x},""));function p(){return(h.state||{idx:null}).idx}function b(){m="POP";let v=p(),T=v==null?null:v-x;x=v,g&&g({action:m,location:O.location,delta:T})}function _(v,T){m="PUSH";let A=dd(O.location,v,T);x=p()+1;let C=gg(A,x),E=O.createHref(A);try{h.pushState(C,"",E)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;c.location.assign(E)}d&&g&&g({action:m,location:O.location,delta:1})}function j(v,T){m="REPLACE";let A=dd(O.location,v,T);x=p();let C=gg(A,x),E=O.createHref(A);h.replaceState(C,"",E),d&&g&&g({action:m,location:O.location,delta:0})}function S(v){return cb(v)}let O={get action(){return m},get location(){return o(c,h)},listen(v){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(mg,b),g=v,()=>{c.removeEventListener(mg,b),g=null}},createHref(v){return r(c,v)},createURL:S,encodeLocation(v){let T=S(v);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:j,go(v){return h.go(v)}};return O}function cb(o,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let i=typeof o=="string"?o:Un(o);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Wg(o,r,n="/"){return db(o,r,n,!1)}function db(o,r,n,i){let c=typeof r=="string"?Mn(r):r,d=Ns(c.pathname||"/",n);if(d==null)return null;let h=ex(o);ub(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let x=Nb(d);m=vb(h[g],x,i)}return m}function ex(o,r=[],n=[],i="",c=!1){let d=(h,m,g=c,x)=>{let p={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&g)return;tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let b=js([i,p.relativePath]),_=n.concat(p);h.children&&h.children.length>0&&(tt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ex(h.children,r,_,b,g)),!(h.path==null&&!h.index)&&r.push({path:b,score:yb(b,h.index),routesMeta:_})};return o.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))d(h,m);else for(let g of tx(h.path))d(h,m,!0,g)}),r}function tx(o){let r=o.split("/");if(r.length===0)return[];let[n,...i]=r,c=n.endsWith("?"),d=n.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let h=tx(i.join("/")),m=[];return m.push(...h.map(g=>g===""?d:[d,g].join("/"))),c&&m.push(...h),m.map(g=>o.startsWith("/")&&g===""?"/":g)}function ub(o){o.sort((r,n)=>r.score!==n.score?n.score-r.score:bb(r.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var hb=/^:[\w-]+$/,fb=3,mb=2,gb=1,xb=10,pb=-2,xg=o=>o==="*";function yb(o,r){let n=o.split("/"),i=n.length;return n.some(xg)&&(i+=pb),r&&(i+=mb),n.filter(c=>!xg(c)).reduce((c,d)=>c+(hb.test(d)?fb:d===""?gb:xb),i)}function bb(o,r){return o.length===r.length&&o.slice(0,-1).every((i,c)=>i===r[c])?o[o.length-1]-r[r.length-1]:0}function vb(o,r,n=!1){let{routesMeta:i}=o,c={},d="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],x=m===i.length-1,p=d==="/"?r:r.slice(d.length)||"/",b=yl({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},p),_=g.route;if(!b&&x&&n&&!i[i.length-1].route.index&&(b=yl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},p)),!b)return null;Object.assign(c,b.params),h.push({params:c,pathname:js([d,b.pathname]),pathnameBase:Eb(js([d,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(d=js([d,b.pathnameBase]))}return h}function yl(o,r){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[n,i]=jb(o.path,o.caseSensitive,o.end),c=r.match(n);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:i.reduce((x,{paramName:p,isOptional:b},_)=>{if(p==="*"){let S=m[_]||"";h=d.slice(0,d.length-S.length).replace(/(.)\/+$/,"$1")}const j=m[_];return b&&!j?x[p]=void 0:x[p]=(j||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:h,pattern:o}}function jb(o,r=!1,n=!0){Pt(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let i=[],c="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(i.push({paramName:"*"}),c+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":o!==""&&o!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),i]}function Nb(o){try{return o.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Pt(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),o}}function Ns(o,r){if(r==="/")return o;if(!o.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,i=o.charAt(n);return i&&i!=="/"?null:o.slice(n)||"/"}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sb=o=>wb.test(o);function _b(o,r="/"){let{pathname:n,search:i="",hash:c=""}=typeof o=="string"?Mn(o):o,d;if(n)if(Sb(n))d=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Pt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?d=pg(n.substring(1),"/"):d=pg(n,r)}else d=r;return{pathname:d,search:Ob(i),hash:Tb(c)}}function pg(o,r){let n=r.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Zc(o,r,n,i){return`Cannot include a '${o}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(o){return o.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function sx(o){let r=Cb(o);return r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase)}function ax(o,r,n,i=!1){let c;typeof o=="string"?c=Mn(o):(c={...o},tt(!c.pathname||!c.pathname.includes("?"),Zc("?","pathname","search",c)),tt(!c.pathname||!c.pathname.includes("#"),Zc("#","pathname","hash",c)),tt(!c.search||!c.search.includes("#"),Zc("#","search","hash",c)));let d=o===""||c.pathname==="",h=d?"/":c.pathname,m;if(h==null)m=n;else{let b=r.length-1;if(!i&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),b-=1;c.pathname=_.join("/")}m=b>=0?r[b]:"/"}let g=_b(c,m),x=h&&h!=="/"&&h.endsWith("/"),p=(d||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(x||p)&&(g.pathname+="/"),g}var js=o=>o.join("/").replace(/\/\/+/g,"/"),Eb=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Ob=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Tb=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Ab(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rx=["POST","PUT","PATCH","DELETE"];new Set(rx);var kb=["GET",...rx];new Set(kb);var Or=w.createContext(null);Or.displayName="DataRouter";var Nl=w.createContext(null);Nl.displayName="DataRouterState";w.createContext(!1);var nx=w.createContext({isTransitioning:!1});nx.displayName="ViewTransition";var Rb=w.createContext(new Map);Rb.displayName="Fetchers";var Db=w.createContext(null);Db.displayName="Await";var es=w.createContext(null);es.displayName="Navigation";var wl=w.createContext(null);wl.displayName="Location";var ws=w.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var Sd=w.createContext(null);Sd.displayName="RouteError";function Lb(o,{relative:r}={}){tt(qn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=w.useContext(es),{hash:c,pathname:d,search:h}=$n(o,{relative:r}),m=d;return n!=="/"&&(m=d==="/"?n:js([n,d])),i.createHref({pathname:m,search:h,hash:c})}function qn(){return w.useContext(wl)!=null}function Ss(){return tt(qn(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(wl).location}var ix="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lx(o){w.useContext(es).static||w.useLayoutEffect(o)}function Fe(){let{isDataRoute:o}=w.useContext(ws);return o?Yb():Ub()}function Ub(){tt(qn(),"useNavigate() may be used only in the context of a <Router> component.");let o=w.useContext(Or),{basename:r,navigator:n}=w.useContext(es),{matches:i}=w.useContext(ws),{pathname:c}=Ss(),d=JSON.stringify(sx(i)),h=w.useRef(!1);return lx(()=>{h.current=!0}),w.useCallback((g,x={})=>{if(Pt(h.current,ix),!h.current)return;if(typeof g=="number"){n.go(g);return}let p=ax(g,JSON.parse(d),c,x.relative==="path");o==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:js([r,p.pathname])),(x.replace?n.replace:n.push)(p,x.state,x)},[r,n,d,c,o])}w.createContext(null);function $n(o,{relative:r}={}){let{matches:n}=w.useContext(ws),{pathname:i}=Ss(),c=JSON.stringify(sx(n));return w.useMemo(()=>ax(o,JSON.parse(c),i,r==="path"),[o,c,i,r])}function zb(o,r){return ox(o)}function ox(o,r,n,i,c){tt(qn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=w.useContext(es),{matches:h}=w.useContext(ws),m=h[h.length-1],g=m?m.params:{},x=m?m.pathname:"/",p=m?m.pathnameBase:"/",b=m&&m.route;{let A=b&&b.path||"";cx(x,!b||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let _=Ss(),j;j=_;let S=j.pathname||"/",O=S;if(p!=="/"){let A=p.replace(/^\//,"").split("/");O="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=Wg(o,{pathname:O});return Pt(b||v!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Pt(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Hb(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},g,A.params),pathname:js([p,d.encodeLocation?d.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:js([p,d.encodeLocation?d.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),h,n,i,c)}function Mb(){let o=Ib(),r=Ab(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),n=o instanceof Error?o.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",o),h=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:d},"ErrorBoundary")," or"," ",w.createElement("code",{style:d},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),n?w.createElement("pre",{style:c},n):null,h)}var qb=w.createElement(Mb,null),$b=class extends w.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,r){return r.location!==o.location||r.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:r.error,location:r.location,revalidation:o.revalidation||r.revalidation}}componentDidCatch(o,r){this.props.onError?this.props.onError(o,r):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?w.createElement(ws.Provider,{value:this.props.routeContext},w.createElement(Sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bb({routeContext:o,match:r,children:n}){let i=w.useContext(Or);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(ws.Provider,{value:o},n)}function Hb(o,r=[],n=null,i=null,c=null){if(o==null){if(!n)return null;if(n.errors)o=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)o=n.matches;else return null}let d=o,h=n?.errors;if(h!=null){let p=d.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<d.length;p++){let b=d[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=p),b.route.id){let{loaderData:_,errors:j}=n,S=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||S){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}let x=n&&i?(p,b)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return d.reduceRight((p,b,_)=>{let j,S=!1,O=null,v=null;n&&(j=h&&b.route.id?h[b.route.id]:void 0,O=b.route.errorElement||qb,m&&(g<0&&_===0?(cx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,v=null):g===_&&(S=!0,v=b.route.hydrateFallbackElement||null)));let T=r.concat(d.slice(0,_+1)),A=()=>{let C;return j?C=O:S?C=v:b.route.Component?C=w.createElement(b.route.Component,null):b.route.element?C=b.route.element:C=p,w.createElement(Bb,{match:b,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:C})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?w.createElement($b,{location:n.location,revalidation:n.revalidation,component:O,error:j,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:x}):A()},null)}function _d(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(o){let r=w.useContext(Or);return tt(r,_d(o)),r}function Gb(o){let r=w.useContext(Nl);return tt(r,_d(o)),r}function Vb(o){let r=w.useContext(ws);return tt(r,_d(o)),r}function Cd(o){let r=Vb(o),n=r.matches[r.matches.length-1];return tt(n.route.id,`${o} can only be used on routes that contain a unique "id"`),n.route.id}function Fb(){return Cd("useRouteId")}function Ib(){let o=w.useContext(Sd),r=Gb("useRouteError"),n=Cd("useRouteError");return o!==void 0?o:r.errors?.[n]}function Yb(){let{router:o}=Pb("useNavigate"),r=Cd("useNavigate"),n=w.useRef(!1);return lx(()=>{n.current=!0}),w.useCallback(async(c,d={})=>{Pt(n.current,ix),n.current&&(typeof c=="number"?o.navigate(c):await o.navigate(c,{fromRouteId:r,...d}))},[o,r])}var yg={};function cx(o,r,n){!r&&!yg[o]&&(yg[o]=!0,Pt(!1,n))}w.memo(Kb);function Kb({routes:o,future:r,state:n,unstable_onError:i}){return ox(o,void 0,n,i,r)}function Jb({basename:o="/",children:r=null,location:n,navigationType:i="POP",navigator:c,static:d=!1}){tt(!qn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=o.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:h,navigator:c,static:d,future:{}}),[h,c,d]);typeof n=="string"&&(n=Mn(n));let{pathname:g="/",search:x="",hash:p="",state:b=null,key:_="default"}=n,j=w.useMemo(()=>{let S=Ns(g,h);return S==null?null:{location:{pathname:S,search:x,hash:p,state:b,key:_},navigationType:i}},[h,g,x,p,b,_,i]);return Pt(j!=null,`<Router basename="${h}"> is not able to match the URL "${g}${x}${p}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:w.createElement(es.Provider,{value:m},w.createElement(wl.Provider,{children:r,value:j}))}var hl="get",fl="application/x-www-form-urlencoded";function Sl(o){return o!=null&&typeof o.tagName=="string"}function Qb(o){return Sl(o)&&o.tagName.toLowerCase()==="button"}function Xb(o){return Sl(o)&&o.tagName.toLowerCase()==="form"}function Zb(o){return Sl(o)&&o.tagName.toLowerCase()==="input"}function Wb(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function ev(o,r){return o.button===0&&(!r||r==="_self")&&!Wb(o)}function ud(o=""){return new URLSearchParams(typeof o=="string"||Array.isArray(o)||o instanceof URLSearchParams?o:Object.keys(o).reduce((r,n)=>{let i=o[n];return r.concat(Array.isArray(i)?i.map(c=>[n,c]):[[n,i]])},[]))}function tv(o,r){let n=ud(o);return r&&r.forEach((i,c)=>{n.has(c)||r.getAll(c).forEach(d=>{n.append(c,d)})}),n}var il=null;function sv(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var av=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wc(o){return o!=null&&!av.has(o)?(Pt(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fl}"`),null):o}function rv(o,r){let n,i,c,d,h;if(Xb(o)){let m=o.getAttribute("action");i=m?Ns(m,r):null,n=o.getAttribute("method")||hl,c=Wc(o.getAttribute("enctype"))||fl,d=new FormData(o)}else if(Qb(o)||Zb(o)&&(o.type==="submit"||o.type==="image")){let m=o.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=o.getAttribute("formaction")||m.getAttribute("action");if(i=g?Ns(g,r):null,n=o.getAttribute("formmethod")||m.getAttribute("method")||hl,c=Wc(o.getAttribute("formenctype"))||Wc(m.getAttribute("enctype"))||fl,d=new FormData(m,o),!sv()){let{name:x,type:p,value:b}=o;if(p==="image"){let _=x?`${x}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else x&&d.append(x,b)}}else{if(Sl(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hl,i=null,c=fl,h=o}return d&&c==="text/plain"&&(h=d,d=void 0),{action:i,method:n.toLowerCase(),encType:c,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ed(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function nv(o,r,n){let i=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return i.pathname==="/"?i.pathname=`_root.${n}`:r&&Ns(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function iv(o,r){if(o.id in r)return r[o.id];try{let n=await import(o.module);return r[o.id]=n,n}catch(n){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lv(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function ov(o,r,n){let i=await Promise.all(o.map(async c=>{let d=r.routes[c.route.id];if(d){let h=await iv(d,n);return h.links?h.links():[]}return[]}));return hv(i.flat(1).filter(lv).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function bg(o,r,n,i,c,d){let h=(g,x)=>n[x]?g.route.id!==n[x].route.id:!0,m=(g,x)=>n[x].pathname!==g.pathname||n[x].route.path?.endsWith("*")&&n[x].params["*"]!==g.params["*"];return d==="assets"?r.filter((g,x)=>h(g,x)||m(g,x)):d==="data"?r.filter((g,x)=>{let p=i.routes[g.route.id];if(!p||!p.hasLoader)return!1;if(h(g,x)||m(g,x))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function cv(o,r,{includeHydrateFallback:n}={}){return dv(o.map(i=>{let c=r.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function dv(o){return[...new Set(o)]}function uv(o){let r={},n=Object.keys(o).sort();for(let i of n)r[i]=o[i];return r}function hv(o,r){let n=new Set;return new Set(r),o.reduce((i,c)=>{let d=JSON.stringify(uv(c));return n.has(d)||(n.add(d),i.push({key:d,link:c})),i},[])}function dx(){let o=w.useContext(Or);return Ed(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function fv(){let o=w.useContext(Nl);return Ed(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Od=w.createContext(void 0);Od.displayName="FrameworkContext";function ux(){let o=w.useContext(Od);return Ed(o,"You must render this element inside a <HydratedRouter> element"),o}function mv(o,r){let n=w.useContext(Od),[i,c]=w.useState(!1),[d,h]=w.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:x,onMouseLeave:p,onTouchStart:b}=r,_=w.useRef(null);w.useEffect(()=>{if(o==="render"&&h(!0),o==="viewport"){let O=T=>{T.forEach(A=>{h(A.isIntersecting)})},v=new IntersectionObserver(O,{threshold:.5});return _.current&&v.observe(_.current),()=>{v.disconnect()}}},[o]),w.useEffect(()=>{if(i){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[i]);let j=()=>{c(!0)},S=()=>{c(!1),h(!1)};return n?o!=="intent"?[d,_,{}]:[d,_,{onFocus:Cn(m,j),onBlur:Cn(g,S),onMouseEnter:Cn(x,j),onMouseLeave:Cn(p,S),onTouchStart:Cn(b,j)}]:[!1,_,{}]}function Cn(o,r){return n=>{o&&o(n),n.defaultPrevented||r(n)}}function gv({page:o,...r}){let{router:n}=dx(),i=w.useMemo(()=>Wg(n.routes,o,n.basename),[n.routes,o,n.basename]);return i?w.createElement(pv,{page:o,matches:i,...r}):null}function xv(o){let{manifest:r,routeModules:n}=ux(),[i,c]=w.useState([]);return w.useEffect(()=>{let d=!1;return ov(o,r,n).then(h=>{d||c(h)}),()=>{d=!0}},[o,r,n]),i}function pv({page:o,matches:r,...n}){let i=Ss(),{manifest:c,routeModules:d}=ux(),{basename:h}=dx(),{loaderData:m,matches:g}=fv(),x=w.useMemo(()=>bg(o,r,g,c,i,"data"),[o,r,g,c,i]),p=w.useMemo(()=>bg(o,r,g,c,i,"assets"),[o,r,g,c,i]),b=w.useMemo(()=>{if(o===i.pathname+i.search+i.hash)return[];let S=new Set,O=!1;if(r.forEach(T=>{let A=c.routes[T.route.id];!A||!A.hasLoader||(!x.some(C=>C.route.id===T.route.id)&&T.route.id in m&&d[T.route.id]?.shouldRevalidate||A.hasClientLoader?O=!0:S.add(T.route.id))}),S.size===0)return[];let v=nv(o,h,"data");return O&&S.size>0&&v.searchParams.set("_routes",r.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[v.pathname+v.search]},[h,m,i,c,x,r,o,d]),_=w.useMemo(()=>cv(p,c),[p,c]),j=xv(p);return w.createElement(w.Fragment,null,b.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),j.map(({key:S,link:O})=>w.createElement("link",{key:S,nonce:n.nonce,...O})))}function yv(...o){return r=>{o.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hx&&(window.__reactRouterVersion="7.9.6")}catch{}function bv({basename:o,children:r,window:n}){let i=w.useRef();i.current==null&&(i.current=ib({window:n,v5Compat:!0}));let c=i.current,[d,h]=w.useState({action:c.action,location:c.location}),m=w.useCallback(g=>{w.startTransition(()=>h(g))},[h]);return w.useLayoutEffect(()=>c.listen(m),[c,m]),w.createElement(Jb,{basename:o,children:r,location:d.location,navigationType:d.action,navigator:c})}var fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mx=w.forwardRef(function({onClick:r,discover:n="render",prefetch:i="none",relative:c,reloadDocument:d,replace:h,state:m,target:g,to:x,preventScrollReset:p,viewTransition:b,..._},j){let{basename:S}=w.useContext(es),O=typeof x=="string"&&fx.test(x),v,T=!1;if(typeof x=="string"&&O&&(v=x,hx))try{let X=new URL(window.location.href),se=x.startsWith("//")?new URL(X.protocol+x):new URL(x),Ne=Ns(se.pathname,S);se.origin===X.origin&&Ne!=null?x=Ne+se.search+se.hash:T=!0}catch{Pt(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Lb(x,{relative:c}),[C,E,z]=mv(i,_),D=wv(x,{replace:h,state:m,target:g,preventScrollReset:p,relative:c,viewTransition:b});function k(X){r&&r(X),X.defaultPrevented||D(X)}let K=w.createElement("a",{..._,...z,href:v||A,onClick:T||d?r:k,ref:yv(j,E),target:g,"data-discover":!O&&n==="render"?"true":void 0});return C&&!O?w.createElement(w.Fragment,null,K,w.createElement(gv,{page:A})):K});mx.displayName="Link";var vv=w.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:i="",end:c=!1,style:d,to:h,viewTransition:m,children:g,...x},p){let b=$n(h,{relative:x.relative}),_=Ss(),j=w.useContext(Nl),{navigator:S,basename:O}=w.useContext(es),v=j!=null&&Ov(b)&&m===!0,T=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,A=_.pathname,C=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(A=A.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&O&&(C=Ns(C,O)||C);const E=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=A===T||!c&&A.startsWith(T)&&A.charAt(E)==="/",D=C!=null&&(C===T||!c&&C.startsWith(T)&&C.charAt(T.length)==="/"),k={isActive:z,isPending:D,isTransitioning:v},K=z?r:void 0,X;typeof i=="function"?X=i(k):X=[i,z?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let se=typeof d=="function"?d(k):d;return w.createElement(mx,{...x,"aria-current":K,className:X,ref:p,style:se,to:h,viewTransition:m},typeof g=="function"?g(k):g)});vv.displayName="NavLink";var jv=w.forwardRef(({discover:o="render",fetcherKey:r,navigate:n,reloadDocument:i,replace:c,state:d,method:h=hl,action:m,onSubmit:g,relative:x,preventScrollReset:p,viewTransition:b,..._},j)=>{let S=Cv(),O=Ev(m,{relative:x}),v=h.toLowerCase()==="get"?"get":"post",T=typeof m=="string"&&fx.test(m),A=C=>{if(g&&g(C),C.defaultPrevented)return;C.preventDefault();let E=C.nativeEvent.submitter,z=E?.getAttribute("formmethod")||h;S(E||C.currentTarget,{fetcherKey:r,method:z,navigate:n,replace:c,state:d,relative:x,preventScrollReset:p,viewTransition:b})};return w.createElement("form",{ref:j,method:v,action:O,onSubmit:i?g:A,..._,"data-discover":!T&&o==="render"?"true":void 0})});jv.displayName="Form";function Nv(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gx(o){let r=w.useContext(Or);return tt(r,Nv(o)),r}function wv(o,{target:r,replace:n,state:i,preventScrollReset:c,relative:d,viewTransition:h}={}){let m=Fe(),g=Ss(),x=$n(o,{relative:d});return w.useCallback(p=>{if(ev(p,r)){p.preventDefault();let b=n!==void 0?n:Un(g)===Un(x);m(o,{replace:b,state:i,preventScrollReset:c,relative:d,viewTransition:h})}},[g,m,x,n,i,r,o,c,d,h])}function Td(o){Pt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=w.useRef(ud(o)),n=w.useRef(!1),i=Ss(),c=w.useMemo(()=>tv(i.search,n.current?null:r.current),[i.search]),d=Fe(),h=w.useCallback((m,g)=>{const x=ud(typeof m=="function"?m(new URLSearchParams(c)):m);n.current=!0,d("?"+x,g)},[d,c]);return[c,h]}var Sv=0,_v=()=>`__${String(++Sv)}__`;function Cv(){let{router:o}=gx("useSubmit"),{basename:r}=w.useContext(es),n=Fb();return w.useCallback(async(i,c={})=>{let{action:d,method:h,encType:m,formData:g,body:x}=rv(i,r);if(c.navigate===!1){let p=c.fetcherKey||_v();await o.fetch(p,n,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await o.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,r,n])}function Ev(o,{relative:r}={}){let{basename:n}=w.useContext(es),i=w.useContext(ws);tt(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...$n(o||".",{relative:r})},h=Ss();if(o==null){d.search=h.search;let m=new URLSearchParams(d.search),g=m.getAll("index");if(g.some(p=>p==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let p=m.toString();d.search=p?`?${p}`:""}}return(!o||o===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:js([n,d.pathname])),Un(d)}function Ov(o,{relative:r}={}){let n=w.useContext(nx);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gx("useViewTransitionState"),c=$n(o,{relative:r});if(!n.isTransitioning)return!1;let d=Ns(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=Ns(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yl(c.pathname,h)!=null||yl(c.pathname,d)!=null}function Tv(){return t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[t.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),t.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),t.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const Av="modulepreload",kv=function(o){return"/"+o},vg={},Bn=function(r,n,i){let c=Promise.resolve();if(n&&n.length>0){let x=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var h=x;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");c=x(n.map(p=>{if(p=kv(p),p in vg)return;vg[p]=!0;const b=p.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":Av,b||(j.as="script"),j.crossOrigin="",j.href=p,g&&j.setAttribute("nonce",g),document.head.appendChild(j),b)return new Promise((S,O)=>{j.addEventListener("load",S),j.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return c.then(m=>{for(const g of m||[])g.status==="rejected"&&d(g.reason);return r().catch(d)})},Rv=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...n)=>Bn(async()=>{const{default:i}=await Promise.resolve().then(()=>Tr);return{default:i}},[]).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)};class Ad extends Error{constructor(r,n="FunctionsError",i){super(r),this.name=n,this.context=i}}class Dv extends Ad{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class jg extends Ad{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Ng extends Ad{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var hd;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(hd||(hd={}));var Lv=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};class Uv{constructor(r,{headers:n={},customFetch:i,region:c=hd.Any}={}){this.url=r,this.headers=n,this.region=c,this.fetch=Rv(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,n={}){var i;return Lv(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=n;let m={},{region:g}=n;g||(g=this.region);const x=new URL(`${this.url}/${r}`);g&&g!=="any"&&(m["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let p;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=h):typeof h=="string"?(m["Content-Type"]="text/plain",p=h):typeof FormData<"u"&&h instanceof FormData?p=h:(m["Content-Type"]="application/json",p=JSON.stringify(h)));const b=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:p}).catch(O=>{throw new Dv(O)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new jg(b);if(!b.ok)throw new Ng(b);let j=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield b.json():j==="application/octet-stream"?S=yield b.blob():j==="text/event-stream"?S=b:j==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof Ng||c instanceof jg?c.context:void 0}}})}}var rt={},gr={},xr={},pr={},yr={},br={},zv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Er=zv();const Mv=Er.fetch,xx=Er.fetch.bind(Er),px=Er.Headers,qv=Er.Request,$v=Er.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:px,Request:qv,Response:$v,default:xx,fetch:Mv},Symbol.toStringTag,{value:"Module"})),Bv=iy(Tr);var ll={},wg;function yx(){if(wg)return ll;wg=1,Object.defineProperty(ll,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ll.default=o,ll}var Sg;function bx(){if(Sg)return br;Sg=1;var o=br&&br.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(br,"__esModule",{value:!0});const r=o(Bv),n=o(yx());class i{constructor(d){var h,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var p,b,_,j;let S=null,O=null,v=null,T=x.status,A=x.statusText;if(x.ok){if(this.method!=="HEAD"){const D=await x.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?O=D:O=JSON.parse(D))}const E=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),z=(_=x.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");E&&z&&z.length>1&&(v=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(S={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,v=null,T=406,A="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const E=await x.text();try{S=JSON.parse(E),Array.isArray(S)&&x.status===404&&(O=[],S=null,T=200,A="OK")}catch{x.status===404&&E===""?(T=204,A="No Content"):S={message:E}}if(S&&this.isMaybeSingle&&(!((j=S?.details)===null||j===void 0)&&j.includes("0 rows"))&&(S=null,T=200,A="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:O,count:v,status:T,statusText:A}});return this.shouldThrowOnError||(g=g.catch(x=>{var p,b,_;return{error:{message:`${(p=x?.name)!==null&&p!==void 0?p:"FetchError"}: ${x?.message}`,details:`${(b=x?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(_=x?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,h)}returns(){return this}overrideTypes(){return this}}return br.default=i,br}var _g;function vx(){if(_g)return yr;_g=1;var o=yr&&yr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yr,"__esModule",{value:!0});const r=o(bx());class n extends r.default{select(c){let d=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const x=g?`${g}.order`:"order",p=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${p?`${p},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,x=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(x,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:x="text"}={}){var p;const b=[c?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${x}; for="${_}"; options=${b};`),x==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return yr.default=n,yr}var Cg;function kd(){if(Cg)return pr;Cg=1;var o=pr&&pr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pr,"__esModule",{value:!0});const r=o(vx());class n extends r.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const x=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${g}fts${x}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return pr.default=n,pr}var Eg;function jx(){if(Eg)return xr;Eg=1;var o=xr&&xr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xr,"__esModule",{value:!0});const r=o(kd());class n{constructor(c,{headers:d={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(c,{head:d=!1,count:h}={}){const m=d?"HEAD":"GET";let g=!1;const x=(c??"*").split("").map(p=>/\s/.test(p)&&!g?"":(p==='"'&&(g=!g),p)).join("");return this.url.searchParams.set("select",x),h&&this.headers.append("Prefer",`count=${h}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const x=c.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(x.length>0){const p=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){var x;const p="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const b=c.reduce((_,j)=>_.concat(Object.keys(j)),[]);if(b.length>0){const _=[...new Set(b)].map(j=>`"${j}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}update(c,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return xr.default=n,xr}var Og;function Hv(){if(Og)return gr;Og=1;var o=gr&&gr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(gr,"__esModule",{value:!0});const r=o(jx()),n=o(kd());class i{constructor(d,{headers:h={},schema:m,fetch:g}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=g}from(d){const h=new URL(`${this.url}/${d}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:g=!1,count:x}={}){var p;let b;const _=new URL(`${this.url}/rpc/${d}`);let j;m||g?(b=m?"HEAD":"GET",Object.entries(h).filter(([O,v])=>v!==void 0).map(([O,v])=>[O,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([O,v])=>{_.searchParams.append(O,v)})):(b="POST",j=h);const S=new Headers(this.headers);return x&&S.set("Prefer",`count=${x}`),new n.default({method:b,url:_,headers:S,schema:this.schemaName,body:j,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return gr.default=i,gr}var Tg;function Pv(){if(Tg)return rt;Tg=1;var o=rt&&rt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(rt,"__esModule",{value:!0}),rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const r=o(Hv());rt.PostgrestClient=r.default;const n=o(jx());rt.PostgrestQueryBuilder=n.default;const i=o(kd());rt.PostgrestFilterBuilder=i.default;const c=o(vx());rt.PostgrestTransformBuilder=c.default;const d=o(bx());rt.PostgrestBuilder=d.default;const h=o(yx());return rt.PostgrestError=h.default,rt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},rt}var Gv=Pv();const Vv=ny(Gv),{PostgrestClient:Fv,PostgrestQueryBuilder:kw,PostgrestFilterBuilder:Rw,PostgrestTransformBuilder:Dw,PostgrestBuilder:Lw,PostgrestError:Uw}=Vv;class Iv{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const i=this.getWebSocketConstructor();return new i(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Yv="2.15.5",Kv=`realtime-js/${Yv}`,Jv="1.0.0",fd=1e4,Qv=1e3,Xv=100;var An;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(An||(An={}));var We;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(We||(We={}));var Yt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Yt||(Yt={}));var md;(function(o){o.websocket="websocket"})(md||(md={}));var _a;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(_a||(_a={}));class Zv{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),i=new TextDecoder;return this._decodeBroadcast(r,n,i)}_decodeBroadcast(r,n,i){const c=n.getUint8(1),d=n.getUint8(2);let h=this.HEADER_LENGTH+2;const m=i.decode(r.slice(h,h+c));h=h+c;const g=i.decode(r.slice(h,h+d));h=h+d;const x=JSON.parse(i.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:g,payload:x}}}class Nx{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(qe||(qe={}));const Ag=(o,r,n={})=>{var i;const c=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(r).reduce((d,h)=>(d[h]=Wv(h,o,r,c),d),{})},Wv=(o,r,n,i)=>{const c=r.find(m=>m.name===o),d=c?.type,h=n[o];return d&&!i.includes(d)?wx(d,h):gd(h)},wx=(o,r)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return aj(r,n)}switch(o){case qe.bool:return ej(r);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return tj(r);case qe.json:case qe.jsonb:return sj(r);case qe.timestamp:return rj(r);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return gd(r);default:return gd(r)}},gd=o=>o,ej=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},tj=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},sj=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(r){return console.log(`JSON parse error: ${r}`),o}return o},aj=(o,r)=>{if(typeof o!="string")return o;const n=o.length-1,i=o[n];if(o[0]==="{"&&i==="}"){let d;const h=o.slice(1,n);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>wx(r,m))}return o},rj=o=>typeof o=="string"?o.replace(" ","T"):o,Sx=o=>{let r=o;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class ed{constructor(r,n,i={},c=fd){this.channel=r,this.event=n,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var i;return this._hasReceived(r)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var kg;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(kg||(kg={}));class kn{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kn.syncState(this.state,c,d,h),this.pendingDiffs.forEach(g=>{this.state=kn.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=kn.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,i,c){const d=this.cloneDeep(r),h=this.transformState(n),m={},g={};return this.map(d,(x,p)=>{h[x]||(g[x]=p)}),this.map(h,(x,p)=>{const b=d[x];if(b){const _=p.map(v=>v.presence_ref),j=b.map(v=>v.presence_ref),S=p.filter(v=>j.indexOf(v.presence_ref)<0),O=b.filter(v=>_.indexOf(v.presence_ref)<0);S.length>0&&(m[x]=S),O.length>0&&(g[x]=O)}else m[x]=p}),this.syncDiff(d,{joins:m,leaves:g},i,c)}static syncDiff(r,n,i,c){const{joins:d,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var x;const p=(x=r[m])!==null&&x!==void 0?x:[];if(r[m]=this.cloneDeep(g),p.length>0){const b=r[m].map(j=>j.presence_ref),_=p.filter(j=>b.indexOf(j.presence_ref)<0);r[m].unshift(..._)}i(m,p,g)}),this.map(h,(m,g)=>{let x=r[m];if(!x)return;const p=g.map(b=>b.presence_ref);x=x.filter(b=>p.indexOf(b.presence_ref)<0),r[m]=x,c(m,x,g),x.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(i=>n(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,i)=>{const c=r[i];return"metas"in c?n[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[i]=c,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rg;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Rg||(Rg={}));var Rn;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Rn||(Rn={}));var vs;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(vs||(vs={}));class Rd{constructor(r,n={config:{}},i){this.topic=r,this.params=n,this.socket=i,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ed(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Nx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new kn(this),this.broadcastEndpointURL=Sx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,n=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,x=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(j=>j.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[Rn.PRESENCE]&&this.bindings[Rn.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},_={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:p}),postgres_changes:x,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>r?.(vs.CHANNEL_ERROR,j)),this._onClose(()=>r?.(vs.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var S;if(this.socket.setAuth(),j===void 0){r?.(vs.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,v=(S=O?.length)!==null&&S!==void 0?S:0,T=[];for(let A=0;A<v;A++){const C=O[A],{filter:{event:E,schema:z,table:D,filter:k}}=C,K=j&&j[A];if(K&&K.event===E&&K.schema===z&&K.table===D&&K.filter===k)T.push(Object.assign(Object.assign({},C),{id:K.id}));else{this.unsubscribe(),this.state=We.errored,r?.(vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,r&&r(vs.SUBSCRIBED);return}}).receive("error",j=>{this.state=We.errored,r?.(vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{r?.(vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,i){return this.state===We.joined&&r===Rn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,i)}async send(r,n={}){var i,c;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:h}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,g;const x=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=We.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new ed(this,Yt.leave,{},r),i.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(r,n,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(d),h}_push(r,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ed(this,r,n,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Xv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,i){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,i){var c,d;const h=r.toLocaleLowerCase(),{close:m,error:g,leave:x,join:p}=Yt;if(i&&[m,g,x,p].indexOf(h)>=0&&i!==this._joinRef())return;let _=this._onMessage(h,n,i);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var S,O,v;return((S=j.filter)===null||S===void 0?void 0:S.event)==="*"||((v=(O=j.filter)===null||O===void 0?void 0:O.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===h}).map(j=>j.callback(_,i)):(d=this.bindings[h])===null||d===void 0||d.filter(j=>{var S,O,v,T,A,C;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const E=j.id,z=(S=j.filter)===null||S===void 0?void 0:S.event;return E&&((O=n.ids)===null||O===void 0?void 0:O.includes(E))&&(z==="*"||z?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(A=(T=j?.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return E==="*"||E===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:O,table:v,commit_timestamp:T,type:A,errors:C}=S;_=Object.assign(Object.assign({},{schema:O,table:v,commit_timestamp:T,eventType:A,new:{},old:{},errors:C}),this._getPayloadRecords(S))}j.callback(_,i)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,i){const c=r.toLocaleLowerCase(),d={type:c,filter:n,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(r,n){const i=r.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&Rd.isEqual(c.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const i in r)if(r[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Yt.close,{},r)}_onError(r){this._on(Yt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Ag(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Ag(r.columns,r.old_record)),n}}const td=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nj=[1e3,2e3,5e3,1e4],ij=1e4,lj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oj{constructor(r,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fd,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=td,this.ref=0,this.reconnectTimer=null,this.logger=td,this.conn=null,this.sendBuffer=[],this.serializer=new Zv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>Bn(async()=>{const{default:m}=await Promise.resolve().then(()=>Tr);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${md.websocket}`,this.httpEndpoint=Sx(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Iv.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jv}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,i){this.logger(r,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return _a.Connecting;case An.open:return _a.Open;case An.closing:return _a.Closing;default:return _a.Closed}}isConnected(){return this.connectionState()===_a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const i=`realtime:${r}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new Rd(`realtime:${r}`,n,this);return this.channels.push(d),d}}push(r){const{topic:n,event:i,payload:c,ref:d}=r,h=()=>{this.encode(r,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${n} ${i} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Qv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:h}=n,m=h?`(${h})`:"",g=d.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),d),this.channels.filter(x=>x._isMember(i)).forEach(x=>x._trigger(c,d,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Yt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const i=r.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${r}${i}${c}`}_workerObjectUrl(r){let n;if(r)n=r;else{const i=new Blob([lj],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const c={access_token:n,version:Kv};n&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(Yt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(i=>{try{i(n)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(i){this.log("error",`error triggering ${r} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Nx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,i,c,d,h,m,g,x,p;if(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=r?.timeout)!==null&&i!==void 0?i:fd,this.heartbeatIntervalMs=(c=r?.heartbeatIntervalMs)!==null&&c!==void 0?c:ol.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r?.heartbeatCallback)!==null&&m!==void 0?m:td,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(b=>nj[b-1]||ij),this.encode=(x=r?.encode)!==null&&x!==void 0?x:((b,_)=>_(JSON.stringify(b))),this.decode=(p=r?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Dd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function et(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class cj extends Dd{constructor(r,n,i){super(r),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xd extends Dd{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var dj=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};const _x=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...n)=>Bn(async()=>{const{default:i}=await Promise.resolve().then(()=>Tr);return{default:i}},void 0).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)},uj=()=>dj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bn(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),pd=o=>{if(Array.isArray(o))return o.map(n=>pd(n));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([n,i])=>{const c=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[c]=pd(i)}),r},hj=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var Ca=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};const sd=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),fj=(o,r,n)=>Ca(void 0,void 0,void 0,function*(){const i=yield uj();o instanceof i&&!n?.noResolveJson?o.json().then(c=>{const d=o.status||500,h=c?.statusCode||d+"";r(new cj(sd(c),d,h))}).catch(c=>{r(new xd(sd(c),c))}):r(new xd(sd(o),o))}),mj=(o,r,n,i)=>{const c={method:o,headers:r?.headers||{}};return o==="GET"||!i?c:(hj(i)?(c.headers=Object.assign({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(i)):c.body=i,r?.duplex&&(c.duplex=r.duplex),Object.assign(Object.assign({},c),n))};function Hn(o,r,n,i,c,d){return Ca(this,void 0,void 0,function*(){return new Promise((h,m)=>{o(n,mj(r,i,c,d)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>fj(g,m,i))})})}function bl(o,r,n,i){return Ca(this,void 0,void 0,function*(){return Hn(o,"GET",r,n,i)})}function Zt(o,r,n,i,c){return Ca(this,void 0,void 0,function*(){return Hn(o,"POST",r,i,c,n)})}function yd(o,r,n,i,c){return Ca(this,void 0,void 0,function*(){return Hn(o,"PUT",r,i,c,n)})}function gj(o,r,n,i){return Ca(this,void 0,void 0,function*(){return Hn(o,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Cx(o,r,n,i,c){return Ca(this,void 0,void 0,function*(){return Hn(o,"DELETE",r,i,c,n)})}var ft=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};const xj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pj{constructor(r,n={},i,c){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=i,this.fetch=_x(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,i,c){return ft(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Dg),c);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const x=this._removeEmptyFolders(n),p=this._getFinalPath(x),b=yield(r=="PUT"?yd:Zt)(this.fetch,`${this.url}/object/${p}`,d,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:x,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(et(d))return{data:null,error:d};throw d}})}upload(r,n,i){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,i)})}uploadToSignedUrl(r,n,i,c){return ft(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",n);try{let g;const x=Object.assign({upsert:Dg.upsert},c),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",x.cacheControl)):(g=i,p["cache-control"]=`max-age=${x.cacheControl}`,p["content-type"]=x.contentType);const b=yield yd(this.fetch,m.toString(),g,{headers:p});return{data:{path:d,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(et(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,n){return ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const c=Object.assign({},this.headers);n?.upsert&&(c["x-upsert"]="true");const d=yield Zt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new Dd("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}update(r,n,i){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,i)})}move(r,n,i){return ft(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}copy(r,n,i){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUrl(r,n,i){return ft(this,void 0,void 0,function*(){try{let c=this._getFinalPath(r),d=yield Zt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUrls(r,n,i){return ft(this,void 0,void 0,function*(){try{const c=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}download(r,n){return ft(this,void 0,void 0,function*(){const c=typeof n?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(n?.transform||{}),h=d?`?${d}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield bl(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(et(m))return{data:null,error:m};throw m}})}info(r){return ft(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const i=yield bl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}exists(r){return ft(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield gj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i)&&i instanceof xd){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,n){const i=this._getFinalPath(r),c=[],d=n?.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&c.push(d);const m=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&c.push(g);let x=c.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${x}`)}}}remove(r){return ft(this,void 0,void 0,function*(){try{return{data:yield Cx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}list(r,n,i){return ft(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},xj),n),{prefix:r||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}listV2(r,n){return ft(this,void 0,void 0,function*(){try{const i=Object.assign({},r);return{data:yield Zt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const yj="2.12.1",bj={"X-Client-Info":`storage-js/${yj}`};var vr=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};class vj{constructor(r,n={},i,c){this.shouldThrowOnError=!1;const d=new URL(r);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},bj),n),this.fetch=_x(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vr(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getBucket(r){return vr(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}createBucket(r,n={public:!1}){return vr(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}updateBucket(r,n){return vr(this,void 0,void 0,function*(){try{return{data:yield yd(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}emptyBucket(r){return vr(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(r){return vr(this,void 0,void 0,function*(){try{return{data:yield Cx(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}class jj extends vj{constructor(r,n={},i,c){super(r,n,i,c)}from(r){return new pj(this.url,this.headers,r,this.fetch)}}const Nj="2.57.4";let On="";typeof Deno<"u"?On="deno":typeof document<"u"?On="web":typeof navigator<"u"&&navigator.product==="ReactNative"?On="react-native":On="node";const wj={"X-Client-Info":`supabase-js-${On}/${Nj}`},Sj={headers:wj},_j={schema:"public"},Cj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ej={};var Oj=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};const Tj=o=>{let r;return o?r=o:typeof fetch>"u"?r=xx:r=fetch,(...n)=>r(...n)},Aj=()=>typeof Headers>"u"?px:Headers,kj=(o,r,n)=>{const i=Tj(n),c=Aj();return(d,h)=>Oj(void 0,void 0,void 0,function*(){var m;const g=(m=yield r())!==null&&m!==void 0?m:o;let x=new c(h?.headers);return x.has("apikey")||x.set("apikey",o),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),i(d,Object.assign(Object.assign({},h),{headers:x}))})};var Rj=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};function Dj(o){return o.endsWith("/")?o:o+"/"}function Lj(o,r){var n,i;const{db:c,auth:d,realtime:h,global:m}=o,{db:g,auth:x,realtime:p,global:b}=r,_={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},x),d),realtime:Object.assign(Object.assign({},p),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(n=b?.headers)!==null&&n!==void 0?n:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Rj(this,void 0,void 0,function*(){return""})};return o.accessToken?_.accessToken=o.accessToken:delete _.accessToken,_}function Uj(o){const r=o?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dj(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ex="2.71.1",_r=30*1e3,bd=3,ad=bd*_r,zj="http://localhost:9999",Mj="supabase.auth.token",qj={"X-Client-Info":`gotrue-js/${Ex}`},vd="X-Supabase-Api-Version",Ox={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$j=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bj=600*1e3;class Ld extends Error{constructor(r,n,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function me(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class Hj extends Ld{constructor(r,n,i){super(r,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Pj(o){return me(o)&&o.name==="AuthApiError"}class Tx extends Ld{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class ta extends Ld{constructor(r,n,i,c){super(r,i,c),this.name=n,this.status=i}}class Xs extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gj(o){return me(o)&&o.name==="AuthSessionMissingError"}class cl extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dl extends ta{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ul extends ta{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vj(o){return me(o)&&o.name==="AuthImplicitGrantRedirectError"}class Lg extends ta{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jd extends ta{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function rd(o){return me(o)&&o.name==="AuthRetryableFetchError"}class Ug extends ta{constructor(r,n,i){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Nd extends ta{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zg=` 	
\r=`.split(""),Fj=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<zg.length;r+=1)o[zg[r].charCodeAt(0)]=-2;for(let r=0;r<vl.length;r+=1)o[vl[r].charCodeAt(0)]=r;return o})();function Mg(o,r,n){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(vl[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(vl[i]),r.queuedBits-=6}}function Ax(o,r,n){const i=Fj[o];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function qg(o){const r=[],n=h=>{r.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{Kj(h,i,n)};for(let h=0;h<o.length;h+=1)Ax(o.charCodeAt(h),c,d);return r.join("")}function Ij(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Yj(o,r){for(let n=0;n<o.length;n+=1){let i=o.charCodeAt(n);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(o.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}Ij(i,r)}}function Kj(o,r,n){if(r.utf8seq===0){if(o<=127){n(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Jj(o){const r=[],n={queue:0,queuedBits:0},i=c=>{r.push(c)};for(let c=0;c<o.length;c+=1)Ax(o.charCodeAt(c),n,i);return new Uint8Array(r)}function Qj(o){const r=[];return Yj(o,n=>r.push(n)),new Uint8Array(r)}function Xj(o){const r=[],n={queue:0,queuedBits:0},i=c=>{r.push(c)};return o.forEach(c=>Mg(c,n,i)),Mg(null,n,i),r.join("")}function Zj(o){return Math.round(Date.now()/1e3)+o}function Wj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const r=Math.random()*16|0;return(o=="x"?r:r&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},kx=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function eN(o){const r={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,d)=>{r[d]=c})}catch{}return n.searchParams.forEach((i,c)=>{r[c]=i}),r}const Rx=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...n)=>Bn(async()=>{const{default:i}=await Promise.resolve().then(()=>Tr);return{default:i}},void 0).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)},tN=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Cr=async(o,r,n)=>{await o.setItem(r,JSON.stringify(n))},wa=async(o,r)=>{const n=await o.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qs=async(o,r)=>{await o.removeItem(r)};class _l{constructor(){this.promise=new _l.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}_l.promiseConstructor=Promise;function nd(o){const r=o.split(".");if(r.length!==3)throw new Nd("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!$j.test(r[i]))throw new Nd("JWT not in base64url format");return{header:JSON.parse(qg(r[0])),payload:JSON.parse(qg(r[1])),signature:Jj(r[2]),raw:{header:r[0],payload:r[1]}}}async function sN(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function aN(o,r){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await o(d);if(!r(d,null,h)){i(h);return}}catch(h){if(!r(d,h)){c(h);return}}})()})}function rN(o){return("0"+o.toString(16)).substr(-2)}function nN(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let c="";for(let d=0;d<56;d++)c+=n.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(r),Array.from(r,rN).join("")}async function iN(o){const n=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function lN(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await iN(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(o,r,n=!1){const i=nN();let c=i;n&&(c+="/PASSWORD_RECOVERY"),await Cr(o,`${r}-code-verifier`,c);const d=await lN(i);return[d,i===d?"plain":"s256"]}const oN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cN(o){const r=o.headers.get(vd);if(!r||!r.match(oN))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function dN(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function uN(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(o){if(!hN.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function id(){const o={};return new Proxy(o,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $g(o){return JSON.parse(JSON.stringify(o))}var fN=function(o,r){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(o);c<i.length;c++)r.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(o,i[c])&&(n[i[c]]=o[i[c]]);return n};const Sa=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),mN=[502,503,504];async function Bg(o){var r;if(!tN(o))throw new jd(Sa(o),0);if(mN.includes(o.status))throw new jd(Sa(o),o.status);let n;try{n=await o.json()}catch(d){throw new Tx(Sa(d),d)}let i;const c=cN(o);if(c&&c.getTime()>=Ox["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Ug(Sa(n),o.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new Xs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Ug(Sa(n),o.status,n.weak_password.reasons);throw new Hj(Sa(n),o.status||500,i)}const gN=(o,r,n,i)=>{const c={method:o,headers:r?.headers||{}};return o==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),n))};async function be(o,r,n,i){var c;const d=Object.assign({},i?.headers);d[vd]||(d[vd]=Ox["2024-01-01"].name),i?.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const h=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(h.redirect_to=i.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await xN(o,r,n+m,{headers:d,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function xN(o,r,n,i,c,d){const h=gN(r,i,c,d);let m;try{m=await o(n,Object.assign({},h))}catch(g){throw console.error(g),new jd(Sa(g),0)}if(m.ok||await Bg(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await Bg(g)}}function bs(o){var r;let n=null;vN(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=Zj(o.expires_in)));const i=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:n,user:i},error:null}}function Hg(o){const r=bs(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(r.data.weak_password=o.weak_password),r}function Zs(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function pN(o){return{data:o,error:null}}function yN(o){const{action_link:r,email_otp:n,hashed_token:i,redirect_to:c,verification_type:d}=o,h=fN(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:i,redirect_to:c,verification_type:d},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function bN(o){return o}function vN(o){return o.access_token&&o.refresh_token&&o.expires_in}const ld=["global","local","others"];var jN=function(o,r){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(o);c<i.length;c++)r.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(o,i[c])&&(n[i[c]]=o[i[c]]);return n};class NN{constructor({url:r="",headers:n={},fetch:i}){this.url=r,this.headers=n,this.fetch=Rx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,n=ld[0]){if(ld.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zs})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:n}=r,i=jN(r,["options"]),c=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:yN,redirectTo:n?.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Zs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,i,c,d,h,m,g;try{const x={nextPage:null,lastPage:0,total:0},p=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:bN});if(p.error)throw p.error;const b=await p.json(),_=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(g=(m=p.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(S=>{const O=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(S.split(";")[1].split("=")[1]);x[`${v}Page`]=O}),x.total=parseInt(_)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(me(x))return{data:{users:[]},error:x};throw x}}async getUserById(r){Nr(r);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Zs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Nr(r);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Zs})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,n=!1){Nr(r);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zs})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){Nr(r.userId);try{const{data:n,error:i}=await be(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:i}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Nr(r.userId),Nr(r.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}function Pg(o={}){return{getItem:r=>o[r]||null,setItem:(r,n)=>{o[r]=n},removeItem:r=>{delete o[r]}}}function wN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wr={debug:!!(globalThis&&kx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dx extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class SN extends Dx{}async function _N(o,r,n){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,c.name);try{return await n()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,c.name)}}else{if(r===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new SN(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(wr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}wN();const CN={url:zj,storageKey:Mj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gg(o,r,n){return await n()}const Sr={};class zn{constructor(r){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zn.nextInstanceID,zn.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},CN),r);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new NN({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Rx(c.fetch),this.lock=c.lock||Gg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:It()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=_N:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:kx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,n;return(n=(r=Sr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Sr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ex}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=eN(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),It()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(n,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Vj(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?{error:n}:{error:new Tx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,i,c;try{const d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=r?.options)===null||c===void 0?void 0:c.captchaToken}},xform:bs}),{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(d){if(me(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var n,i,c;try{let d;if("email"in r){const{email:p,password:b,options:_}=r;let j=null,S=null;this.flowType==="pkce"&&([j,S]=await jr(this.storage,this.storageKey)),d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:p,password:b,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:j,code_challenge_method:S},xform:bs})}else if("phone"in r){const{phone:p,password:b,options:_}=r;d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(c=_?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:bs})}else throw new dl("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(d){if(me(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let n;if("email"in r){const{email:d,password:h,options:m}=r;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Hg})}else if("phone"in r){const{phone:d,password:h,options:m}=r;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Hg})}else throw new dl("You must provide either an email or phone number and a password");const{data:i,error:c}=n;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new cl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,i,c,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;if(n==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(r){var n,i,c,d,h,m,g,x,p,b,_,j;let S,O;if("message"in r)S=r.message,O=r.signature;else{const{chain:v,wallet:T,statement:A,options:C}=r;let E;if(It())if(typeof T=="object")E=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))E=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=T}const z=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const D=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),A?{statement:A}:null));let k;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")k=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)k=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)S=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),O=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${z.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(c=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=C?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((g=C?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((x=C?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((b=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...C.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const D=await E.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=D}}try{const{data:v,error:T}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Xj(O)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:bs});if(T)throw T;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new cl}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:T})}catch(v){if(me(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(r){const n=await wa(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(n??"").split("/");try{const{data:d,error:h}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:bs});if(await Qs(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new cl}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(me(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:n,provider:i,token:c,access_token:d,nonce:h}=r,m=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:bs}),{data:g,error:x}=m;return x?{data:{user:null,session:null},error:x}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new cl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:x})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,i,c,d,h;try{if("email"in r){const{email:m,options:g}=r;let x=null,p=null;this.flowType==="pkce"&&([x,p]=await jr(this.storage,this.storageKey));const{error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:p},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in r){const{phone:m,options:g}=r,{data:x,error:p}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:x?.message_id},error:p}}throw new dl("You must provide either an email or phone number.")}catch(m){if(me(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var n,i;try{let c,d;"options"in r&&(c=(n=r.options)===null||n===void 0?void 0:n.redirectTo,d=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:m}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:bs});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,x=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(c){if(me(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(r){var n,i,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await jr(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=r?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:pN})}catch(d){if(me(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)throw i;if(!n)throw new Xs;const{error:c}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:c}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:i,type:c,options:d}=r,{error:h}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:i,type:c,options:d}=r,{data:h,error:m}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new dl("You must provide either an email or phone number and a type")}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.userStorage){const h=await wa(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=id()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,x,p)=>(!h&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,x,p))})}return{data:{session:r},error:null}}const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Zs}):await this._useSession(async n=>{var i,c,d;const{data:h,error:m}=n;if(m)throw m;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xs}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Zs})})}catch(n){if(me(n))return Gj(n)&&(await this._removeSession(),await Qs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Xs;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&r.email!=null&&([m,g]=await jr(this.storage,this.storageKey));const{data:x,error:p}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:Zs});if(p)throw p;return h.user=x.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Xs;const n=Date.now()/1e3;let i=n,c=!0,d=null;const{payload:h}=nd(r.access_token);if(h.exp&&(i=h.exp,c=i<=n),c){const{session:m,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(r.access_token);if(g)throw g;d={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(n){if(me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var i;if(!r){const{data:h,error:m}=n;if(m)throw m;r=(i=h.session)!==null&&i!==void 0?i:void 0}if(!r?.refresh_token)throw new Xs;const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!It())throw new ul("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ul(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Lg("No code detected.");const{data:A,error:C}=await this._exchangeCodeForSession(r.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:g,token_type:x}=r;if(!d||!m||!h||!x)throw new ul("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(m);let _=p+b;g&&(_=parseInt(g));const j=_-p;j*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const S=_-b;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,p);const{data:O,error:v}=await this._getUser(d);if(v)throw v;const T={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:b,expires_at:_,refresh_token:h,token_type:x,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:r.type},error:null}}catch(i){if(me(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await wa(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:c,error:d}=n;if(d)return{error:d};const h=(i=c.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(Pj(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Qs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=Wj(),i={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async n=>{var i,c;try{const{data:{session:d},error:h}=n;if(h)throw h;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,n={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await jr(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(me(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async linkIdentity(r){var n;try{const{data:i,error:c}=await this._useSession(async d=>{var h,m,g,x,p;const{data:b,error:_}=d;if(_)throw _;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",j,{headers:this.headers,jwt:(p=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return It()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:r.provider,url:i?.url},error:null}}catch(i){if(me(i))return{data:{provider:r.provider,url:null},error:i};throw i}}async unlinkIdentity(r){try{return await this._useSession(async n=>{var i,c;const{data:d,error:h}=n;if(h)throw h;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await aN(async c=>(c>0&&await sN(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:bs})),(c,d)=>{const h=200*Math.pow(2,c);return d&&rd(d)&&Date.now()+h-i<_r})}catch(i){if(this._debug(n,"error",i),me(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",i),It()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await wa(this.storage,this.storageKey);if(c&&this.userStorage){let h=await wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Cr(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h?.user)!==null&&r!==void 0?r:id()}else if(c&&!c.user&&!c.user){const h=await wa(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await Qs(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,c)):c.user=id()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ad;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${ad}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),rd(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(r){var n,i;if(!r)throw new Xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new _l;const{data:d,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!d.session)throw new Xs;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={session:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),me(d)){const h={session:null,error:d};return rd(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,n,i=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:n});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const d=$g(c);await Cr(this.storage,this.storageKey,d)}else{const c=$g(n);await Cr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Qs(this.storage,this.storageKey),await Qs(this.storage,this.storageKey+"-code-verifier"),await Qs(this.storage,this.storageKey+"-user"),this.userStorage&&await Qs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&It()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-r)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${_r}ms, refresh threshold is ${bd} ticks`),c<=bd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Dx)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,i){const c=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,h]=await jr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(i?.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;return d?{data:null,error:d}:await be(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var i,c;const{data:d,error:h}=n;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:x}=await be(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d?.session)===null||i===void 0?void 0:i.access_token});return x?{data:null,error:x}:(r.factorType==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;if(d)return{data:null,error:d};const{data:h,error:m}=await be(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;return d?{data:null,error:d}:await be(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:i}=await this._challenge({factorId:r.factorId});return i?{data:null,error:i}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=r?.factors||[],c=i.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=i.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:i,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,i;const{data:{session:c},error:d}=r;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=nd(c.access_token);let m=null;h.aal&&(m=h.aal);let g=m;((i=(n=c.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const p=h.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(r,n={keys:[]}){let i=n.keys.find(m=>m.kid===r);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===r),i&&this.jwks_cached_at+Bj>c)return i;const{data:d,error:h}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===r),!i)?null:i}async getClaims(r,n={}){try{let i=r;if(!i){const{data:j,error:S}=await this.getSession();if(S||!j.session)return{data:null,error:S};i=j.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:g}}=nd(i);n?.allowExpired||dN(d.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!x){const{error:j}=await this.getUser(i);if(j)throw j;return{data:{claims:d,header:c,signature:h},error:null}}const p=uN(c.alg),b=await crypto.subtle.importKey("jwk",x,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,h,Qj(`${m}.${g}`)))throw new Nd("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}}zn.nextInstanceID=0;const EN=zn;class ON extends EN{constructor(r){super(r)}}var TN=function(o,r,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(b){h(b)}}function g(p){try{x(i.throw(p))}catch(b){h(b)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(o,r||[])).next())})};class AN{constructor(r,n,i){var c,d,h;this.supabaseUrl=r,this.supabaseKey=n;const m=Uj(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,x={db:_j,realtime:Ej,auth:Object.assign(Object.assign({},Cj),{storageKey:g}),global:Sj},p=Lj(i??{},x);this.storageKey=(c=p.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=p.global.headers)!==null&&d!==void 0?d:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=p.auth)!==null&&h!==void 0?h:{},this.headers,p.global.fetch),this.fetch=kj(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Fv(new URL("rest/v1",m).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new jj(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Uv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,n;return TN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:d,storageKey:h,flowType:m,lock:g,debug:x},p,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ON({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:h,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:d,flowType:m,lock:g,debug:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new oj(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kN=(o,r,n)=>new AN(o,r,n);function RN(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const r=o.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}RN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DN="https://aypxbyzmaolnnlzjclev.supabase.co",LN="sb_publishable_osKLmTl4_-mmcabr-wvCxQ_lNgmpD7S",W=kN(DN,LN);function Le(){const o=Fe(),r=Ss(),[n,i]=w.useState(!1),[c,d]=w.useState(null),[h,m]=w.useState(!1),[g,x]=w.useState(0),[p,b]=w.useState(""),[_,j]=w.useState(!1),S=()=>{j(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async C=>{const{latitude:E,longitude:z}=C.coords;try{const k=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${E}&lon=${z}&accept-language=fr`)).json(),K=k.address?.city||k.address?.town||k.address?.village||"Localisation inconnue";b(K),localStorage.setItem("userLocation",K),localStorage.setItem("userCoordinates",JSON.stringify({latitude:E,longitude:z}))}catch(D){console.error("Erreur lors de la rcupration de l'adresse:",D),b("Localisation inconnue")}finally{j(!1)}},C=>{console.error("Erreur de golocalisation:",C),b("Localisation dsactive"),j(!1)}):(b("Golocalisation non supporte"),j(!1))},O=()=>{try{const C=localStorage.getItem("cart");if(C){const E=JSON.parse(C);if(typeof E=="object"&&E!==null){const z=Object.values(E).reduce((D,k)=>D+(typeof k=="number"?k:0),0);x(z)}else x(0)}else x(0)}catch(C){console.error("Erreur lors de la mise  jour du compteur du panier:",C),x(0)}},v=async()=>{if(!c){o("/auth");return}try{const{data:C}=await W.from("restaurants").select("*").eq("owner_id",c.id).eq("status","approved").single();if(C){o("/restaurant-dashboard"),m(!1);return}const{data:E}=await W.from("admins").select("*").eq("email",c.email).single();if(E){o("/admin"),m(!1);return}o("/profile"),m(!1)}catch(C){console.error("     :",C),o("/profile"),m(!1)}};w.useEffect(()=>{(async()=>{const{data:{session:K}}=await W.auth.getSession();d(K?.user||null)})();const{data:{subscription:E}}=W.auth.onAuthStateChange((K,X)=>{d(X?.user||null)});O();const z=()=>{O()};window.addEventListener("cartUpdated",z),window.addEventListener("storage",z);const D=setInterval(O,1e3),k=localStorage.getItem("userLocation");return k&&b(k),()=>{E.unsubscribe(),window.removeEventListener("cartUpdated",z),window.removeEventListener("storage",z),clearInterval(D)}},[]);const T=async()=>{await W.auth.signOut(),m(!1),o("/")},A=C=>r.pathname===C;return t.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center",children:t.jsxs("button",{onClick:()=>o("/"),className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-white text-lg"})}),t.jsx("span",{className:"text-xl font-bold text-gray-800",style:{fontFamily:'"Pacifico", serif'},children:"logo"})]})}),t.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[t.jsx("button",{onClick:()=>o("/"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/")?"text-orange-500":""}`,children:"Accueil"}),t.jsx("button",{onClick:()=>o("/restaurants"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/restaurants")?"text-orange-500":""}`,children:"Restaurants"}),t.jsx("button",{onClick:()=>o("/offers"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/offers")?"text-orange-500":""}`,children:"Offres"}),t.jsx("button",{onClick:()=>o("/track-order"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/track-order")?"text-orange-500":""}`,children:"Suivre commande"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:S,disabled:_,className:"hidden md:flex items-center gap-2 px-3 py-2 text-gray-700 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors cursor-pointer whitespace-nowrap",title:"Obtenir ma localisation",children:[t.jsx("i",{className:`ri-map-pin-line text-lg ${_?"animate-pulse":""}`}),t.jsx("span",{className:"text-sm font-medium max-w-[120px] truncate",children:_?"Chargement...":p||"Ma localisation"})]}),t.jsxs("button",{onClick:()=>o("/cart"),className:"relative p-2 text-gray-700 hover:text-orange-500 cursor-pointer",children:[t.jsx("i",{className:"ri-shopping-cart-line text-xl"}),g>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:g>99?"99+":g})]}),c?t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>m(!h),className:"flex items-center gap-2 p-2 text-gray-700 hover:text-orange-500 cursor-pointer",children:[t.jsx("i",{className:"ri-user-line text-xl"}),t.jsx("span",{className:"hidden md:block font-medium",children:"Mon compte"}),t.jsx("i",{className:"ri-arrow-down-s-line text-sm"})]}),h&&t.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("button",{onClick:v,className:"w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-user-line text-lg"}),"Profil"]}),t.jsxs("button",{onClick:()=>{o("/orders"),m(!1)},className:"w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-file-list-line text-lg"}),"Mes commandes"]}),t.jsxs("button",{onClick:()=>{o("/favorites"),m(!1)},className:"w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-heart-line text-lg"}),"Favoris"]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{onClick:T,className:"w-full text-right px-4 py-2 text-red-600 hover:bg-red-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-logout-box-line text-lg"}),"Dconnexion"]})]})]}):t.jsx("button",{onClick:()=>o("/auth"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Se connecter"}),t.jsx("button",{onClick:()=>i(!n),className:"md:hidden p-2 text-gray-700 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:`ri-${n?"close":"menu"}-line text-xl`})})]})]}),n&&t.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:t.jsxs("div",{className:"flex flex-col space-y-4",children:[t.jsxs("button",{onClick:()=>{S(),i(!1)},disabled:_,className:"flex items-center gap-3 text-gray-700 hover:text-orange-500 font-medium cursor-pointer",children:[t.jsx("i",{className:`ri-map-pin-line text-lg ${_?"animate-pulse":""}`}),t.jsx("span",{className:"truncate",children:_?"Chargement...":p||"Ma localisation"})]}),t.jsx("button",{onClick:()=>{o("/"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/")?"text-orange-500":""}`,children:"Accueil"}),t.jsx("button",{onClick:()=>{o("/restaurants"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/restaurants")?"text-orange-500":""}`,children:"Restaurants"}),t.jsx("button",{onClick:()=>{o("/offers"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/offers")?"text-orange-500":""}`,children:"Offres"}),t.jsx("button",{onClick:()=>{o("/track-order"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${A("/track-order")?"text-orange-500":""}`,children:"Suivre commande"}),c&&t.jsxs(t.Fragment,{children:[t.jsx("hr",{className:"border-gray-200"}),t.jsxs("button",{onClick:()=>{v(),i(!1)},className:"text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-user-line text-lg"}),"Profil"]}),t.jsxs("button",{onClick:()=>{o("/orders"),i(!1)},className:"text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-file-list-line text-lg"}),"Mes commandes"]}),t.jsxs("button",{onClick:()=>{o("/favorites"),i(!1)},className:"text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-heart-line text-lg"}),"Favoris"]}),t.jsxs("button",{onClick:()=>{T(),i(!1)},className:"text-right text-red-600 hover:text-red-700 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-logout-box-line text-lg"}),"Dconnexion"]})]})]})})]})})}function Ue(){return t.jsx("footer",{className:"bg-gray-900 text-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"col-span-1 md:col-span-2",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",style:{fontFamily:'"Pacifico", serif'},children:"Eat to Eat"}),t.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"La plateforme de livraison de nourriture leader qui vous connecte aux meilleurs restaurants de votre rgion. Nous offrons un service de livraison rapide et fiable pour des repas dlicieux."}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-facebook-fill text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-twitter-fill text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-instagram-fill text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-linkedin-fill text-xl"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Liens rapides"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:" propos"})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Comment a marche"})}),t.jsx("li",{children:t.jsx("a",{href:"/restaurant-signup",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Rejoindre comme restaurant"})}),t.jsx("li",{children:t.jsx("a",{href:"/driver-signup",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Rejoindre comme livreur"})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Aide et support"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contactez-nous"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-phone-line text-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"+33 1 23 45 67 89"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-mail-line text-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"info@eat-to-eat.fr"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"Paris, France"})]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[t.jsx("p",{className:"text-gray-300 text-sm",children:" 2024 Eat to Eat. Tous droits rservs."}),t.jsxs("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:[t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 text-sm cursor-pointer",children:"Politique de confidentialit"}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 text-sm cursor-pointer",children:"Conditions d'utilisation"}),t.jsx("a",{href:"https://readdy.ai/?origin=logo",className:"text-gray-300 hover:text-orange-500 text-sm cursor-pointer",children:"Powered by Readdy"})]})]})]})})}function UN(){const o=Fe();return t.jsx("div",{className:"relative min-h-screen bg-cover bg-center bg-no-repeat flex items-center",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://readdy.ai/api/search-image?query=Modern%20food%20delivery%20service%20with%20fresh%20ingredients%2C%20professional%20kitchen%20background%2C%20warm%20lighting%2C%20appetizing%20dishes%2C%20clean%20and%20inviting%20restaurant%20atmosphere%2C%20high%20quality%20food%20photography&width=1920&height=1080&seq=hero-bg-001&orientation=landscape')"},children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:"Livraison rapide et dlicieuse"}),t.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Dcouvrez les meilleurs restaurants de votre ville et faites-vous livrer vos plats prfrs en quelques minutes"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[t.jsx("button",{onClick:()=>o("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-full text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:"Commander maintenant"}),t.jsx("button",{onClick:()=>o("/restaurant-signup"),className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-gray-900 px-8 py-4 rounded-full text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:"Rejoindre comme restaurant"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-xl text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold text-lg",children:"Livraison rapide"}),t.jsx("div",{className:"text-gray-200",children:"En 30 minutes"})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-xl text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold text-lg",children:"Restaurants de qualit"}),t.jsx("div",{className:"text-gray-200",children:"Slectionns avec soin"})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-shield-check-line text-xl text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold text-lg",children:"Paiement scuris"}),t.jsx("div",{className:"text-gray-200",children:"100% protg"})]})]})]})]})})})}function zN({userLocation:o,isLoading:r,onLocationChange:n}){const[i,c]=w.useState(""),[d,h]=w.useState(!1),[m,g]=w.useState(!1),x=()=>{if(navigator.geolocation){const j={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(S=>{const{latitude:O,longitude:v,accuracy:T}=S.coords;console.log(`Localisation dtermine: ${O}, ${v} - prcision: ${T} mtres`),n({lat:S.coords.latitude,lng:S.coords.longitude})},S=>{console.error("Error getting location:",S);let O="Impossible d'obtenir votre localisation actuelle";switch(S.code){case S.PERMISSION_DENIED:O="Permission d'accs  la localisation refuse. Veuillez autoriser l'accs  la localisation dans les paramtres du navigateur";break;case S.POSITION_UNAVAILABLE:O="Localisation actuellement indisponible. Assurez-vous que le GPS est activ";break;case S.TIMEOUT:O="Dlai de localisation expir. Veuillez ressayer";break}alert(O)},j)}else alert("Votre navigateur ne prend pas en charge la golocalisation")},p=async j=>{try{g(!0);const O=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j)}&countrycodes=fr&limit=5&addressdetails=1&accept-language=fr,en&extratags=1&namedetails=1`)).json();if(O&&O.length>0){const E=O[0];return{lat:parseFloat(E.lat),lng:parseFloat(E.lon)}}const T=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j+", France")}&limit=3&addressdetails=1`)).json();if(T&&T.length>0){const E=T[0];return{lat:parseFloat(E.lat),lng:parseFloat(E.lon)}}const C=await(await fetch(`https://api.bigdatacloud.net/data/forward-geocode-client?query=${encodeURIComponent(j+", France")}&localityLanguage=fr`)).json();if(C&&C.results&&C.results.length>0){const E=C.results[0];return{lat:E.latitude,lng:E.longitude}}throw new Error("Localisation non trouve")}catch(S){throw console.error("Geocoding error:",S),S}finally{g(!1)}},b=async()=>{if(i.trim())try{const j=await p(i.trim());n(j),h(!1),c("")}catch{alert("Localisation saisie non trouve. Veuillez vrifier l'exactitude de l'adresse ou essayer une adresse plus dtaille.")}},_=j=>{j.key==="Enter"&&b()};return t.jsx("div",{className:"flex-1 max-w-md",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg bg-white",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500 text-xl"}),t.jsx("div",{className:"flex-1",children:r?t.jsx("span",{className:"text-gray-500",children:"Localisation en cours avec haute prcision..."}):o?t.jsx("span",{className:"text-gray-700",children:"Votre localisation actuelle dtermine avec prcision"}):t.jsx("span",{className:"text-gray-500",children:"Localisation non dtermine"})}),t.jsx("button",{onClick:x,className:"text-orange-500 hover:text-orange-600 cursor-pointer",disabled:r,title:"Localiser avec haute prcision",children:t.jsx("i",{className:`ri-crosshair-line text-xl ${r?"animate-pulse":""}`})})]}),d?t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("input",{type:"text",value:i,onChange:j=>c(j.target.value),onKeyPress:_,placeholder:"Ex: Paris, Lyon, Marseille, Toulouse, Nice...",className:"flex-1 p-2 border border-gray-300 rounded text-sm",disabled:m}),t.jsx("button",{onClick:b,disabled:m||!i.trim(),className:"bg-orange-500 text-white px-4 py-2 rounded text-sm hover:bg-orange-600 whitespace-nowrap cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsx("i",{className:"ri-loader-4-line animate-spin"}):"Confirmer"}),t.jsx("button",{onClick:()=>{h(!1),c("")},className:"text-gray-500 hover:text-gray-700 px-2 cursor-pointer",children:t.jsx("i",{className:"ri-close-line"})})]}):t.jsx("button",{onClick:()=>h(!0),className:"mt-2 text-sm text-orange-500 hover:text-orange-600 cursor-pointer",children:"Ou saisir votre localisation manuellement"})]})})}function MN({userLocation:o}){const[r,n]=w.useState([]),[i,c]=w.useState([]),[d,h]=w.useState(!0),[m,g]=w.useState(""),[x,p]=w.useState([]);Fe(),w.useEffect(()=>{S(),b()},[o]),w.useEffect(()=>{if(m.trim()==="")c(r.slice(0,8));else{const v=r.filter(T=>T.name.toLowerCase().includes(m.toLowerCase())||T.description.toLowerCase().includes(m.toLowerCase())||T.restaurant.name.toLowerCase().includes(m.toLowerCase()));c(v)}},[m,r]);const b=()=>{try{const v=localStorage.getItem("favorites");v&&p(JSON.parse(v))}catch(v){console.error("Error loading favorites:",v)}},_=v=>x.some(T=>T.id===v&&T.type==="product"),j=(v,T)=>{T.stopPropagation();const A={id:v.id,type:"product",name:v.name,description:v.description,image:v.image_url,rating:v.restaurant.rating,price:v.price,addedAt:new Date().toISOString()};let C;_(v.id)?C=x.filter(E=>!(E.id===v.id&&E.type==="product")):C=[...x,A],p(C),localStorage.setItem("favorites",JSON.stringify(C))},S=async()=>{try{h(!0);const{data:v,error:T}=await W.from("products").select("*").eq("is_available",!0);if(T)throw T;const{data:A,error:C}=await W.from("restaurants").select("*");if(C)throw C;const z=(v||[]).map(D=>{const k=A?.find(X=>X.id===D.restaurant_id);if(!k)return null;const K=o?O(o.lat,o.lng,k.latitude,k.longitude):0;return{...D,restaurant:k,distance:K}}).filter(Boolean).sort((D,k)=>o?D.distance-k.distance:k.restaurant.rating-D.restaurant.rating);n(z),c(z.slice(0,8))}catch(v){console.error("Error fetching products:",v)}finally{h(!1)}},O=(v,T,A,C)=>{const z=(A-v)*Math.PI/180,D=(C-T)*Math.PI/180,k=Math.sin(z/2)*Math.sin(z/2)+Math.cos(v*Math.PI/180)*Math.cos(A*Math.PI/180)*Math.sin(D/2)*Math.sin(D/2);return 6371*(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)))};return d?t.jsx("section",{className:"py-12 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Produits prs de chez vous"}),t.jsx("p",{className:"text-gray-600",children:"Dcouvrez les plats les plus dlicieux des restaurants proches"})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((v,T)=>t.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse",children:[t.jsx("div",{className:"w-full h-48 bg-gray-200"}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2 w-2/3"})]})]},T))})]})}):t.jsx("section",{className:"py-12 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-8 gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Produits prs de chez vous"}),t.jsx("p",{className:"text-gray-600",children:"Dcouvrez les plats les plus dlicieux des restaurants proches"})]}),t.jsx("div",{className:"w-full lg:w-96",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:m,onChange:v=>g(v.target.value),placeholder:"Rechercher un produit ou restaurant...",className:"w-full p-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"}),t.jsx("i",{className:"ri-search-line absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})})]}),i.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),t.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun rsultat"}),t.jsx("p",{className:"text-gray-500",children:"Nous n'avons trouv aucun produit correspondant  votre recherche"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(v=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>window.REACT_APP_NAVIGATE(`/product?id=${v.id}`),children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("img",{src:v.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation%20with%20garnish%2C%20restaurant%20quality%20meal&width=400&height=300&seq=product-${v.id}&orientation=landscape`,alt:v.name,className:"w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"}),t.jsx("button",{onClick:T=>j(v,T),className:"absolute top-3 left-3 w-10 h-10 bg-white hover:bg-gray-50 rounded-full flex items-center justify-center shadow-lg transition-all cursor-pointer z-10",children:t.jsx("i",{className:`${_(v.id)?"ri-heart-fill text-red-500":"ri-heart-line text-gray-600"} text-xl`})}),o&&t.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1",children:[t.jsx("i",{className:"ri-map-pin-line text-teal-600"}),v.distance.toFixed(1)," km"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-1 group-hover:text-teal-600 transition-colors",children:v.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:v.description}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("i",{className:"ri-store-2-line text-gray-400 text-sm"}),t.jsx("span",{className:"text-xs text-gray-500",children:v.restaurant.name})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-lg font-bold text-teal-600",children:[v.price," DH"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-400 text-sm"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.restaurant.rating})]})]})]})]},v.id))})]})})}const qN=new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD",minimumFractionDigits:2,maximumFractionDigits:2});function Ws(o){return qN.format(o)}function $N({userLocation:o}){const[r,n]=w.useState([]),[i,c]=w.useState(!0),[d,h]=w.useState([]),m=Fe();w.useEffect(()=>{b(),g()},[o]);const g=()=>{try{const S=localStorage.getItem("favorites");S&&h(JSON.parse(S))}catch(S){console.error("Error loading favorites:",S)}},x=S=>d.some(O=>O.id===S&&O.type==="restaurant"),p=(S,O)=>{O.stopPropagation();const v={id:S.id,type:"restaurant",name:S.name,description:S.cuisine_type,image:S.image_url,rating:S.rating,deliveryTime:S.delivery_time,deliveryFee:S.delivery_fee,addedAt:new Date().toISOString()};let T;x(S.id)?T=d.filter(A=>!(A.id===S.id&&A.type==="restaurant")):T=[...d,v],h(T),localStorage.setItem("favorites",JSON.stringify(T))},b=async()=>{try{c(!0);const{data:S,error:O}=await W.from("restaurants").select("*").eq("is_open",!0);if(O)throw O;const T=(S||[]).map(A=>{const C=o?_(o.lat,o.lng,A.latitude,A.longitude):0;return{...A,distance:C}}).sort((A,C)=>o?A.distance-C.distance:C.rating-A.rating);n(T.slice(0,8))}catch(S){console.error("Error fetching restaurants:",S)}finally{c(!1)}},_=(S,O,v,T)=>{const C=(v-S)*Math.PI/180,E=(T-O)*Math.PI/180,z=Math.sin(C/2)*Math.sin(C/2)+Math.cos(S*Math.PI/180)*Math.cos(v*Math.PI/180)*Math.sin(E/2)*Math.sin(E/2);return 6371*(2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)))},j=S=>{m(`/restaurant?id=${S}`)};return i?t.jsx("section",{className:"py-12 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Restaurants prs de chez vous"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((S,O)=>t.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse",children:[t.jsx("div",{className:"w-full h-48 bg-gray-200"}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2 w-2/3"})]})]},O))})]})}):t.jsx("section",{className:"py-12 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Restaurants prs de chez vous"}),t.jsx("p",{className:"text-gray-600",children:"Dcouvrez les meilleurs restaurants de votre rgion"})]}),t.jsx("button",{onClick:()=>m("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Voir tout"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(S=>t.jsxs("div",{onClick:()=>j(S.id),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden cursor-pointer group",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"}),t.jsx("button",{onClick:O=>p(S,O),className:"absolute top-3 left-3 w-10 h-10 bg-white hover:bg-gray-50 rounded-full flex items-center justify-center shadow-lg transition-all cursor-pointer z-10",children:t.jsx("i",{className:`${x(S.id)?"ri-heart-fill text-red-500":"ri-heart-line text-gray-600"} text-xl`})}),o&&t.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500"}),S.distance.toFixed(1)," km"]}),t.jsxs("div",{className:"absolute bottom-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-400"}),S.rating]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-1 group-hover:text-orange-500 transition-colors",children:S.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.cuisine_type}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-time-line text-orange-500"}),t.jsx("span",{children:S.delivery_time})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-e-bike-line text-orange-500"}),t.jsx("span",{children:S.delivery_fee===0?"Gratuit":Ws(S.delivery_fee)})]})]})]})]},S.id))})]})})}function BN(){const[o,r]=w.useState(null),[n,i]=w.useState(!0);return w.useEffect(()=>{if(navigator.geolocation){const c={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(d=>{const{latitude:h,longitude:m,accuracy:g}=d.coords;console.log(`Localisation dtermine sur la page d'accueil: ${h}, ${m} - prcision: ${g} mtres`),r({lat:h,lng:m}),i(!1)},d=>{console.error("Error getting location:",d),i(!1);let h="chec de la localisation";switch(d.code){case d.PERMISSION_DENIED:h="Permission d'accs  la localisation refuse. Veuillez autoriser l'accs  la localisation pour afficher les restaurants prs de chez vous.";break;case d.POSITION_UNAVAILABLE:h="Localisation actuellement indisponible. Assurez-vous que le GPS est activ.";break;case d.TIMEOUT:h="Dlai de localisation expir. Vous pouvez saisir votre localisation manuellement.";break}console.warn(h)},c)}else console.warn("Votre navigateur ne prend pas en charge la golocalisation"),i(!1)},[]),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx(UN,{}),t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:t.jsx(zN,{userLocation:o,isLoading:n,onLocationChange:r})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Produits prs de chez vous"}),t.jsx("i",{className:"ri-restaurant-2-line text-3xl text-teal-600"})]}),t.jsx(MN,{userLocation:o})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Restaurants prs de chez vous"}),t.jsx("i",{className:"ri-store-2-line text-3xl text-teal-600"})]}),t.jsx($N,{userLocation:o})]}),t.jsx(Ue,{})]})}function ea({rating:o,onRatingChange:r,readonly:n=!1,size:i="md",showCount:c=!1,count:d=0}){const[h,m]=w.useState(0),g={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},x={sm:"text-sm",md:"text-base",lg:"text-lg"},p=S=>{!n&&r&&r(S)},b=S=>{n||m(S)},_=()=>{n||m(0)},j=h||o;return t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex items-center",onMouseLeave:_,children:[1,2,3,4,5].map(S=>t.jsx("button",{type:"button",className:`${g[i]} flex items-center justify-center ${n?"cursor-default":"cursor-pointer hover:scale-110"} transition-transform`,onClick:()=>p(S),onMouseEnter:()=>b(S),disabled:n,children:t.jsx("i",{className:`ri-star-${S<=j?"fill":"line"} ${g[i]} ${S<=j?"text-yellow-400":"text-gray-300"}`})},S))}),c&&t.jsxs("span",{className:`text-gray-600 ${x[i]} mr-1`,children:["(",d,")"]}),t.jsx("span",{className:`text-gray-700 font-medium ${x[i]}`,children:o.toFixed(1)})]})}function Ud({isOpen:o,onClose:r,onSubmit:n,title:i,itemName:c,existingRating:d=0,existingComment:h=""}){const[m,g]=w.useState(d),[x,p]=w.useState(h),[b,_]=w.useState(!1);if(w.useEffect(()=>{o&&(g(d),p(h))},[o,d,h]),!o)return null;const j=async S=>{if(S.preventDefault(),m!==0){_(!0);try{await n(m,x),g(0),p("")}catch(O){console.error("   :",O)}finally{_(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i}),t.jsx("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx("i",{className:"ri-close-line w-6 h-6"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("p",{className:"text-gray-600 mb-4",children:["    ",c,""]}),t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx(ea,{rating:m,onRatingChange:g,size:"lg"})}),t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),t.jsx("textarea",{value:x,onChange:S=>p(S.target.value),placeholder:" ...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",rows:4,maxLength:500}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.length,"/500 "]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer",children:""}),t.jsx("button",{type:"submit",disabled:m===0||b,className:"flex-1 px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap cursor-pointer",children:b?" ...":" "})]})]})]})]})})}function HN(){const[o,r]=w.useState([]),[n,i]=w.useState(!0),[c,d]=w.useState([]),[h,m]=w.useState(!1),[g,x]=w.useState(null),[p,b]=w.useState({}),_=async()=>{try{i(!0);const{data:C,error:E}=await W.from("restaurants").select("*");E?console.error("   :",E):r(C||[])}catch(C){console.error("   :",C)}finally{i(!1)}};w.useEffect(()=>{_(),j()},[]);const j=()=>{try{const C=localStorage.getItem("favorites");C&&d(JSON.parse(C))}catch(C){console.error("Error loading favorites:",C)}},S=(C,E)=>c.some(z=>z.id===C&&z.type===E),O=(C,E="restaurant")=>{let z;S(C,E)?z=c.filter(D=>!(D.id===C&&D.type===E)):z=[...c,{id:C,type:E}],d(z),localStorage.setItem("favorites",JSON.stringify(z))},v=async()=>{if(o.length!==0)try{const{data:{session:C}}=await W.auth.getSession(),E={"Content-Type":"application/json"};C?.access_token&&(E.Authorization=`Bearer ${C.access_token}`);const D=(await Promise.all(o.map(async k=>{try{const K=await fetch(`https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings?restaurant_id=${k.id}`,{headers:E});if(!K.ok)return null;const X=await K.json();return[k.id,{rating:X.average_rating||0,count:X.total_count||0}]}catch(K){return console.error(`     ${k.id}:`,K),null}}))).reduce((k,K)=>(K&&(k[K[0]]=K[1]),k),{});b(D)}catch(C){console.error("   :",C)}},T=(C,E)=>{x({id:C,name:E}),m(!0)},A=async(C,E)=>{if(g)try{const{data:{session:z}}=await W.auth.getSession();if(!z){alert("    "),m(!1),x(null);return}const D=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings",{method:"POST",headers:{Authorization:`Bearer ${z.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({restaurant_id:g.id,rating:C,comment:E})});if(!D.ok){const X=(await D.json().catch(()=>({}))).error||"    ";throw console.error("  :",X),alert(X),new Error(X)}const k=await D.json();if(k.success)await v(),m(!1),x(null),alert("   !");else throw new Error(k.error||"  ")}catch(z){console.error("   :",z);const D=z.message||"    ";alert(D)}};return w.useEffect(()=>{o.length>0&&v()},[o]),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsxs("main",{className:"pt-20",children:[t.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-orange-500 to-red-500",children:[t.jsx("img",{src:"https://readdy.ai/api/search-image?query=Modern%20restaurant%20interior%20with%20warm%20lighting%2C%20elegant%20dining%20tables%2C%20contemporary%20design%2C%20professional%20food%20service%20atmosphere%2C%20clean%20and%20inviting%20space%20with%20orange%20and%20red%20color%20accents&width=1200&height=400&seq=restaurants-hero&orientation=landscape",alt:"",className:"w-full h-full object-cover object-top"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("h1",{className:"text-4xl font-bold mb-4",children:"  "}),t.jsx("p",{className:"text-xl",children:"      "})]})})]}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:n?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(C=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden animate-pulse",children:[t.jsx("div",{className:"h-48 bg-gray-200"}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]})]},C))}):o.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"    "})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(C=>{const E=p[C.id];return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:C.image||`https://readdy.ai/api/search-image?query=modern%20restaurant%20exterior%20with%20inviting%20entrance%2C%20professional%20photography%2C%20warm%20lighting%20and%20welcoming%20atmosphere%2C%20clean%20and%20elegant%20design&width=400&height=300&seq=restaurant-${C.id}&orientation=landscape`,alt:C.name,className:"w-full h-48 object-cover object-top"}),t.jsx("button",{onClick:()=>O(C.id,"restaurant"),className:"absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${S(C.id,"restaurant")?"fill text-red-500":"line text-gray-600"} w-4 h-4`})}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.status==="closed"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:C.status==="closed"?"":""})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-bold text-gray-900 flex-1",children:C.name}),t.jsx("button",{onClick:()=>T(C.id,C.name),className:"text-orange-500 hover:text-orange-600 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-star-line w-4 h-4"})})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:C.description||"    "}),E&&t.jsx("div",{className:"mb-3",children:t.jsx(ea,{rating:E.rating,readonly:!0,size:"sm",showCount:!0,count:E.count})}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-time-line w-4 h-4"}),t.jsx("span",{children:C.delivery_time||"30-45 "})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-truck-line w-4 h-4"}),t.jsxs("span",{children:[C.delivery_fee||15," ."]})]})]}),t.jsx("button",{onClick:()=>window.REACT_APP_NAVIGATE(`/restaurant?id=${C.id}`),className:"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:" "})]})]},C.id)})})})]}),t.jsx(Ue,{}),t.jsx(Ud,{isOpen:h,onClose:()=>{m(!1),x(null)},onSubmit:A,title:" ",itemName:g?.name||""})]})}function Lx({reviews:o,loading:r}){if(r)return t.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]})]}),t.jsx("div",{className:"h-16 bg-gray-200 rounded"})]},i))});if(o.length===0)return t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"ri-chat-3-line w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"   "}),t.jsx("p",{className:"text-sm text-gray-400",children:"     "})]});const n=i=>new Date(i).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"});return t.jsx("div",{className:"space-y-4",children:o.map(i=>t.jsx("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line w-5 h-5 text-orange-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:i.user_name||""}),t.jsx("p",{className:"text-sm text-gray-500",children:n(i.created_at)})]}),t.jsx(ea,{rating:i.rating,readonly:!0,size:"sm"})]}),i.comment&&t.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.comment})]})]})},i.id))})}function PN(){const[o]=Td(),r=o.get("id"),[n,i]=w.useState(null),[c,d]=w.useState([]),[h,m]=w.useState(!0),[g,x]=w.useState({}),[p,b]=w.useState([]),[_,j]=w.useState(!1),[S,O]=w.useState(null),[v,T]=w.useState([]),[A,C]=w.useState(0),[E,z]=w.useState(0),[D,k]=w.useState(!1),[K,X]=w.useState({}),se="https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings",Ne=async(P=!1)=>{const{data:{session:ee}}=await W.auth.getSession();if(P&&!ee?.access_token)throw new Error("AUTH_REQUIRED");const te={"Content-Type":"application/json"};return ee?.access_token&&(te.Authorization=`Bearer ${ee.access_token}`),{headers:te,session:ee}},Ee=async()=>{if(!r){m(!1);return}try{m(!0);const{data:P,error:ee}=await W.from("restaurants").select("*").eq("id",r).single();if(ee){console.error("    :",ee),i(null);return}i(P);const{data:te,error:ce}=await W.from("products").select("*").eq("restaurant_id",r);ce?console.error("   :",ce):d(te||[])}catch(P){console.error("   :",P)}finally{m(!1)}};w.useEffect(()=>{r&&(Ee(),Z(),ue())},[r]);const Z=()=>{try{const P=localStorage.getItem("favorites");P&&b(JSON.parse(P))}catch(P){console.error("Error loading favorites:",P)}},ue=()=>{try{const P=localStorage.getItem("cart");P&&x(JSON.parse(P))}catch(P){console.error("Error loading cart:",P)}},Ae=P=>{localStorage.setItem("cart",JSON.stringify(P)),window.dispatchEvent(new CustomEvent("cartUpdated"))},H=(P,ee)=>p.some(te=>te.id===P&&te.type===ee),J=(P,ee="restaurant")=>{let te;H(P,ee)?te=p.filter(ce=>!(ce.id===P&&ce.type===ee)):te=[...p,{id:P,type:ee}],b(te),localStorage.setItem("favorites",JSON.stringify(te))},ae=async()=>{if(r){k(!0);try{const{headers:P}=await Ne(),ee=new URLSearchParams;ee.append("restaurant_id",r);const te=await fetch(`${se}?${ee.toString()}`,{headers:P});if(!te.ok)throw new Error("  ");const ce=await te.json();T(ce.ratings||[]),C(ce.average_rating||0),z(ce.total_count||0)}catch(P){console.error("   :",P),T([]),C(0),z(0)}finally{k(!1)}}},oe=async P=>{try{const{headers:ee}=await Ne(),te=new URLSearchParams;te.append("product_id",P);const ce=await fetch(`${se}?${te.toString()}`,{headers:ee});if(!ce.ok)return;const Pe=await ce.json();X(Me=>({...Me,[P]:{average:Pe.average_rating||0,count:Pe.total_count||0}}))}catch(ee){console.error(`     ${P}:`,ee)}};w.useEffect(()=>{r&&n&&ae()},[r,n]),w.useEffect(()=>{c.length!==0&&c.forEach(P=>{oe(P.id)})},[c]);const xe=(P,ee,te)=>{O({type:P,id:ee,name:te}),j(!0)},R=async(P,ee)=>{if(S)try{const{headers:te}=await Ne(!0),ce={rating:P,comment:ee,...S.type==="restaurant"?{restaurant_id:S.id}:{product_id:S.id}},Pe=await fetch(se,{method:"POST",headers:te,body:JSON.stringify(ce)});if(!Pe.ok){const sa=(await Pe.json().catch(()=>({}))).error||"    ";throw console.error("  :",sa),new Error(sa)}const Me=await Pe.json();if(Me.success)S.type==="restaurant"?await ae():await oe(S.id),j(!1),O(null),alert("   !");else throw new Error(Me.error||"  ")}catch(te){if(te.message==="AUTH_REQUIRED")alert("    "),j(!1),O(null);else{const ce=te.message||"    ";throw console.error("   :",te),alert(ce),te}}},G=P=>{const ee={...g,[P.id]:(g[P.id]||0)+1};x(ee),Ae(ee)},Q=P=>{const ee={...g};ee[P]>1?ee[P]--:delete ee[P],x(ee),Ae(ee)};return h?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"   ..."})]})}),t.jsx(Ue,{})]}):n?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"pt-20",children:t.jsxs("div",{children:[t.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-orange-500 to-red-500",children:[t.jsx("img",{src:n.image||`https://readdy.ai/api/search-image?query=modern%20restaurant%20interior%20with%20warm%20lighting%20and%20elegant%20dining%20atmosphere%2C%20professional%20food%20photography%20style%2C%20clean%20and%20inviting%20ambiance&width=800&height=400&seq=restaurant-${n.id}&orientation=landscape`,alt:n.name,className:"w-full h-full object-cover object-top"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("button",{onClick:()=>J(n.id,"restaurant"),className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${H(n.id,"restaurant")?"fill text-red-500":"line text-gray-600"} w-5 h-5`})})})]}),t.jsx("div",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.name}),t.jsx("p",{className:"text-gray-600 mb-4",children:n.description||"    "}),t.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(ea,{rating:A,readonly:!0,showCount:!0,count:E})}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx("i",{className:"ri-time-line w-4 h-4"}),t.jsx("span",{children:n.delivery_time||"30-45 "})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx("i",{className:"ri-truck-line w-4 h-4"}),t.jsxs("span",{children:[n.delivery_fee||15," ."]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.status==="closed"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:n.status==="closed"?"":""})})]}),t.jsxs("button",{onClick:()=>xe("restaurant",n.id,n.name),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:[t.jsx("i",{className:"ri-star-line w-4 h-4 ml-2"})," "]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:""}),c.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"    "})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(P=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:P.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation%20with%20garnish%2C%20restaurant%20quality%20meal&width=400&height=300&seq=product-${P.id}&orientation=landscape`,alt:P.name,className:"w-full h-48 object-cover object-top"}),t.jsx("button",{onClick:()=>J(P.id,"product"),className:"absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${H(P.id,"product")?"fill text-red-500":"line text-gray-600"} w-4 h-4`})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:P.name}),t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:P.description||"  "}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[P.price," ."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[K[P.id]?.count?t.jsx(ea,{rating:K[P.id].average,readonly:!0,size:"sm",showCount:!0,count:K[P.id].count}):t.jsx("span",{className:"text-xs text-gray-400",children:"  "}),t.jsx("button",{onClick:()=>xe("product",P.id,P.name),className:"text-orange-500 hover:text-orange-600 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-star-line w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[g[P.id]>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Q(P.id),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-subtract-line w-4 h-4"})}),t.jsx("span",{className:"font-medium",children:g[P.id]})]}),t.jsx("button",{onClick:()=>G(P),className:"flex-1 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:g[P.id]>0?" ":" "})]})]})]},P.id))})]}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-600",children:A.toFixed(1)}),t.jsx(ea,{rating:A,readonly:!0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:" "}),t.jsxs("p",{className:"text-sm text-gray-500",children:[E," "]})]})]})})}),t.jsx(Lx,{reviews:v,loading:D})]})})]})}),t.jsx(Ue,{}),t.jsx(Ud,{isOpen:_,onClose:()=>{j(!1),O(null)},onSubmit:R,title:S?.type==="restaurant"?" ":" ",itemName:S?.name||""})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  "})]})}),t.jsx(Ue,{})]})}function GN(){const[o]=Td(),r=o.get("id"),[n,i]=w.useState(null),[c,d]=w.useState(null),[h,m]=w.useState(!0),[g,x]=w.useState({}),[p,b]=w.useState([]),[_,j]=w.useState(!1),[S,O]=w.useState([]),[v,T]=w.useState(0),[A,C]=w.useState(0),[E,z]=w.useState(!1),[D,k]=w.useState(1),K="https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings",X=async(R=!1)=>{const{data:{session:G}}=await W.auth.getSession();if(R&&!G?.access_token)throw new Error("AUTH_REQUIRED");const Q={"Content-Type":"application/json"};return G?.access_token&&(Q.Authorization=`Bearer ${G.access_token}`),{headers:Q,session:G}},se=async()=>{if(!r){m(!1);return}try{m(!0);const{data:R,error:G}=await W.from("products").select("*, restaurants(*)").eq("id",r).single();if(G){console.error("    :",G),i(null);return}i(R),d(R.restaurants)}catch(R){console.error("   :",R)}finally{m(!1)}};w.useEffect(()=>{r&&(se(),Ne(),Ee(),H(r))},[r]);const Ne=()=>{try{const R=localStorage.getItem("favorites");R&&b(JSON.parse(R))}catch(R){console.error("Error loading favorites:",R)}},Ee=()=>{try{const R=localStorage.getItem("cart");R&&x(JSON.parse(R))}catch(R){console.error("Error loading cart:",R)}},Z=R=>{localStorage.setItem("cart",JSON.stringify(R)),window.dispatchEvent(new CustomEvent("cartUpdated"))},ue=(R,G)=>p.some(Q=>Q.id===R&&Q.type===G),Ae=(R,G="product")=>{let Q;ue(R,G)?Q=p.filter(P=>!(P.id===R&&P.type===G)):Q=[...p,{id:R,type:G}],b(Q),localStorage.setItem("favorites",JSON.stringify(Q))},H=async R=>{z(!0);try{const{headers:G}=await X(),Q=new URLSearchParams;Q.append("product_id",R);const P=await fetch(`${K}?${Q.toString()}`,{headers:G});if(!P.ok)throw new Error("  ");const ee=await P.json(),te=typeof ee.average_rating=="number"?ee.average_rating:0;O(ee.ratings||[]),T(Number(te.toFixed(1))),C(ee.total_count||0)}catch(G){console.error("   :",G),O([]),T(0),C(0)}finally{z(!1)}},J=()=>{j(!0)},ae=async(R,G)=>{if(r)try{const{headers:Q}=await X(!0),P=await fetch(K,{method:"POST",headers:Q,body:JSON.stringify({product_id:r,rating:R,comment:G})});if(!P.ok){const ce=(await P.json().catch(()=>({}))).error||"    ";throw console.error("  :",ce),new Error(ce)}const ee=await P.json();if(ee.success)await H(r),j(!1),alert("   !");else throw new Error(ee.error||"  ")}catch(Q){if(Q.message==="AUTH_REQUIRED")alert("    "),j(!1);else{const P=Q.message||"    ";throw console.error("   :",Q),alert(P),Q}}},oe=()=>{if(!n)return;const R={...g,[n.id]:(g[n.id]||0)+D};x(R),Z(R),k(1)},xe=R=>{R>=1&&k(R)};return h?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"   ..."})]})}),t.jsx(Ue,{})]}):n?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"pt-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:n.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation%20with%20garnish%2C%20restaurant%20quality%20meal&width=600&height=600&seq=product-detail-${n.id}&orientation=squarish`,alt:n.name,className:"w-full h-96 lg:h-full object-cover object-top"}),t.jsx("button",{onClick:()=>Ae(n.id,"product"),className:"absolute top-4 right-4 w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${ue(n.id,"product")?"fill text-red-500":"line text-gray-600"} w-6 h-6`})})]}),t.jsxs("div",{className:"p-6 lg:p-8",children:[t.jsx("div",{className:"mb-4",children:t.jsx("button",{onClick:()=>window.REACT_APP_NAVIGATE(`/restaurant?id=${c?.id}`),className:"text-orange-500 hover:text-orange-600 text-sm font-medium cursor-pointer",children:c?.name})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.name}),t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(ea,{rating:v,readonly:!0,showCount:!0,count:A}),t.jsxs("button",{onClick:J,className:"text-orange-500 hover:text-orange-600 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-star-line w-4 h-4 ml-1"})," "]})]}),t.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:n.description||"     "}),t.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-8",children:[n.price," DH"]}),t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:":"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>xe(D-1),className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-subtract-line w-4 h-4"})}),t.jsx("span",{className:"text-xl font-medium w-12 text-center",children:D}),t.jsx("button",{onClick:()=>xe(D+1),className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-add-line w-4 h-4"})})]})]}),t.jsxs("button",{onClick:oe,className:"w-full bg-orange-500 text-white py-4 rounded-lg text-lg font-semibold hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:[t.jsx("i",{className:"ri-shopping-cart-line w-5 h-5 ml-2"}),"  (",D,"  ",n.price," = ",D*n.price," DH)"]}),g[n.id]>0&&t.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:t.jsxs("p",{className:"text-green-800 text-sm",children:[t.jsx("i",{className:"ri-check-line w-4 h-4 ml-1"})," ",g[n.id],"     "]})})]})]})}),t.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-600",children:v.toFixed(1)}),t.jsx(ea,{rating:v,readonly:!0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:" "}),t.jsxs("p",{className:"text-sm text-gray-500",children:[A," "]})]})]})})}),t.jsx(Lx,{reviews:S,loading:E})]})]})}),t.jsx(Ue,{}),t.jsx(Ud,{isOpen:_,onClose:()=>j(!1),onSubmit:ae,title:" ",itemName:n?.name||""})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-product-hunt-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  "})]})}),t.jsx(Ue,{})]})}const VN=[{id:1,title:"50% de rduction sur la premire commande",description:"Obtenez 50% de rduction sur votre premire commande de n'importe quel restaurant",discount:"50%",code:"FIRST50",validUntil:"2024-12-31",image:"https://readdy.ai/api/search-image?query=Food%20delivery%20discount%20offer%20banner%20with%2050%25%20off%20text%2C%20colorful%20design%2C%20appetizing%20food%20items%2C%20promotional%20style%2C%20modern%20graphics&width=400&height=200&seq=offer-1&orientation=landscape",minOrder:50,restaurants:"Tous les restaurants"},{id:2,title:`Livraison gratuite pour les commandes de plus de ${Ws(100)}`,description:`Profitez de la livraison gratuite pour une commande de ${Ws(100)} ou plus`,discount:"Livraison gratuite",code:"FREE100",validUntil:"2024-12-25",image:"https://readdy.ai/api/search-image?query=Free%20delivery%20promotion%20banner%20with%20delivery%20truck%20icon%2C%20green%20colors%2C%20food%20packages%2C%20promotional%20design%2C%20modern%20style&width=400&height=200&seq=offer-2&orientation=landscape",minOrder:100,restaurants:"Restaurants slectionns"},{id:3,title:"Offre spciale pizza",description:"Commandez une pizza et obtenez la deuxime gratuitement",discount:"1+1",code:"PIZZA2",validUntil:"2024-12-20",image:"https://readdy.ai/api/search-image?query=Pizza%20special%20offer%20banner%20with%20two%20pizzas%2C%20Italian%20style%2C%20cheese%20melting%2C%20promotional%20design%2C%20appetizing%20presentation&width=400&height=200&seq=offer-3&orientation=landscape",minOrder:0,restaurants:"Pizzerias"},{id:4,title:"30% de rduction sur les repas sains",description:"Rduction spciale sur tous les repas sains et salades",discount:"30%",code:"HEALTHY30",validUntil:"2024-12-28",image:"https://readdy.ai/api/search-image?query=Healthy%20food%20discount%20banner%20with%20fresh%20salads%2C%20vegetables%2C%20clean%20eating%20concept%2C%20green%20colors%2C%20promotional%20style&width=400&height=200&seq=offer-4&orientation=landscape",minOrder:40,restaurants:"Restaurants sains"},{id:5,title:"Offre week-end",description:"25% de rduction sur toutes les commandes le week-end",discount:"25%",code:"WEEKEND25",validUntil:"2024-12-22",image:"https://readdy.ai/api/search-image?query=Weekend%20special%20offer%20banner%20with%20family%20dining%2C%20various%20cuisines%2C%20festive%20colors%2C%20promotional%20design%2C%20appetizing%20food%20spread&width=400&height=200&seq=offer-5&orientation=landscape",minOrder:60,restaurants:"Tous les restaurants"},{id:6,title:"Offre spciale desserts",description:"40% de rduction sur tous les types de desserts et gteaux",discount:"40%",code:"SWEET40",validUntil:"2024-12-30",image:"https://readdy.ai/api/search-image?query=Desserts%20special%20offer%20banner%20with%20cakes%2C%20sweets%2C%20colorful%20pastries%2C%20promotional%20design%2C%20appetizing%20dessert%20display&width=400&height=200&seq=offer-6&orientation=landscape",minOrder:30,restaurants:"Ptisseries"}];function FN(){const o=r=>{navigator.clipboard.writeText(r)};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Offres spciales"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Dcouvrez les meilleures offres et rductions sur votre nourriture prfre"})]}),t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl p-8 text-white mb-12",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[t.jsxs("div",{className:"lg:w-1/2 mb-6 lg:mb-0",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Offre limite !"}),t.jsx("p",{className:"text-xl mb-6",children:"50% de rduction sur votre premire commande + livraison gratuite"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"bg-white text-orange-500 px-4 py-2 rounded-lg font-bold",children:"FIRST50"}),t.jsx("button",{onClick:()=>o("FIRST50"),className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:"Copier le code"})]})]}),t.jsxs("div",{className:"lg:w-1/2 text-center",children:[t.jsx("div",{className:"text-6xl font-bold mb-2",children:"50%"}),t.jsx("div",{className:"text-xl",children:"de rduction"})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:VN.map(r=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:r.image,alt:r.title,className:"w-full h-48 object-cover"}),t.jsx("div",{className:"absolute top-4 right-4 bg-orange-500 text-white px-3 py-1 rounded-full font-bold",children:r.discount})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:r.title}),t.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Minimum :"}),t.jsx("span",{className:"font-medium",children:r.minOrder>0?Ws(r.minOrder):"Aucun minimum"})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Restaurants :"}),t.jsx("span",{className:"font-medium",children:r.restaurants})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Valable jusqu\\'au :"}),t.jsx("span",{className:"font-medium",children:r.validUntil})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 bg-gray-100 rounded-lg p-3 text-center",children:t.jsx("span",{className:"font-mono font-bold text-gray-800",children:r.code})}),t.jsx("button",{onClick:()=>o(r.code),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:t.jsx("i",{className:"ri-file-copy-line"})})]})]})]},r.id))}),t.jsxs("div",{className:"bg-white rounded-xl p-8 mt-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Comment utiliser les offres"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-file-copy-line text-2xl text-orange-500"})}),t.jsx("h3",{className:"font-semibold mb-2",children:"Copiez le code"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Copiez le code de rduction de l'offre souhaite"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-shopping-cart-line text-2xl text-orange-500"})}),t.jsx("h3",{className:"font-semibold mb-2",children:"Commandez votre repas"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Choisissez votre restaurant prfr et ajoutez la nourriture au panier"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-discount-percent-line text-2xl text-orange-500"})}),t.jsx("h3",{className:"font-semibold mb-2",children:"Appliquez le code"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Collez le code lors du paiement et profitez de la rduction"})]})]})]})]}),t.jsx(Ue,{})]})}const Ht={confirmed:{title:"  ",description:"    ",icon:"ri-check-line",color:"text-blue-500",bgColor:"bg-blue-100"},preparing:{title:" ",description:"   ",icon:"ri-restaurant-line",color:"text-orange-500",bgColor:"bg-orange-100"},ready:{title:" ",description:"   ",icon:"ri-time-line",color:"text-purple-500",bgColor:"bg-purple-100"},on_way:{title:"  ",description:"    ",icon:"ri-truck-line",color:"text-green-500",bgColor:"bg-green-100"},delivered:{title:" ",description:"   ",icon:"ri-check-double-line",color:"text-green-600",bgColor:"bg-green-100"}};function IN(){const[o,r]=w.useState(""),[n,i]=w.useState(null),[c,d]=w.useState(!1),[h,m]=w.useState([]),[g,x]=w.useState(!1),[p,b]=w.useState(null),[_,j]=w.useState(!0),S=Fe();w.useEffect(()=>{O()},[]);const O=async()=>{try{j(!0);const{data:{user:D}}=await W.auth.getUser();b(D),D&&v(D.id)}catch(D){console.error("    :",D)}finally{j(!1)}},v=D=>{try{const k=localStorage.getItem("orders");if(k){const X=JSON.parse(k).filter(se=>se.user_id===D);X.sort((se,Ne)=>new Date(Ne.orderTime).getTime()-new Date(se.orderTime).getTime()),m(X)}else m([])}catch(k){console.error("   :",k),m([])}};w.useEffect(()=>{if(p){v(p.id),T();const D=setInterval(()=>{T(),v(p.id)},3e4);return()=>clearInterval(D)}},[p]);const T=()=>{if(p)try{const D=localStorage.getItem("orders"),k=JSON.parse(localStorage.getItem("clearedCartOrders")||"[]");if(D){const X=JSON.parse(D).filter(se=>se.user_id===p.id&&se.status==="preparing"&&!k.includes(se.id));if(X.length>0){const se=localStorage.getItem("cart");if(se)try{const Ne=JSON.parse(se);if(Array.isArray(Ne)&&Ne.length>0){localStorage.removeItem("cart"),window.dispatchEvent(new CustomEvent("cartUpdated"));const Ee=[...k,...X.map(Z=>Z.id)];localStorage.setItem("clearedCartOrders",JSON.stringify(Ee)),x(!0),setTimeout(()=>x(!1),5e3)}}catch(Ne){console.error("   :",Ne)}}}}catch(D){console.error("   :",D)}},A=async()=>{if(!o.trim()){alert("   ");return}if(!p){alert("   "),S("/auth");return}d(!0);try{await new Promise(K=>setTimeout(K,1e3));let D=null;const k=localStorage.getItem("orders");k&&(D=JSON.parse(k).find(X=>X.id===o.trim()&&X.user_id===p.id)),i(D||null),D||alert("    .      .")}catch(D){console.error("  :",D),alert("   .   .")}finally{d(!1)}},C=D=>{const k=["confirmed","preparing","ready","on_way","delivered"],K=k.indexOf(D);return K>=0?(K+1)/k.length*100:0},E=D=>{r(D.id),i(D),window.scrollTo({top:0,behavior:"smooth"})},z=D=>{D.key==="Enter"&&A()};return _?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[t.jsx("i",{className:"ri-loader-4-line text-6xl text-orange-500 mb-4 animate-spin"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" ..."}),t.jsx("p",{className:"text-gray-600",children:"   "})]})}),t.jsx(Ue,{})]}):p?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[g&&t.jsxs("div",{className:"bg-orange-100 border border-orange-300 text-orange-700 px-4 py-3 rounded-lg mb-6 flex items-center gap-3",children:[t.jsx("i",{className:"ri-information-line text-xl"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"   "}),t.jsx("p",{className:"text-sm",children:"       "})]})]}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"     "})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",value:o,onChange:D=>r(D.target.value),onKeyPress:z,placeholder:"   (: ORD-2024-001)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",disabled:c})}),t.jsx("button",{onClick:A,disabled:c,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center gap-2",children:c?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"})," ..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-search-line"})," "]})})]})}),n&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[" : ",n.id]}),t.jsx("p",{className:"text-gray-600",children:n.restaurant}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" : ",n.orderTime]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:Ws(n.total)}),t.jsx("div",{className:`text-xs px-3 py-1 rounded-full mt-2 ${Ht[n.status]?.bgColor} ${Ht[n.status]?.color}`,children:Ht[n.status]?.title||" "})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:" "}),t.jsxs("span",{className:"text-sm text-gray-500",children:[" : ",n.estimatedTime]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:"bg-orange-500 h-3 rounded-full transition-all duration-500",style:{width:`${C(n.status)}%`}})})]}),Ht[n.status]&&t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg mb-6",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${Ht[n.status].bgColor}`,children:t.jsx("i",{className:`${Ht[n.status].icon} text-xl ${Ht[n.status].color}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:Ht[n.status].title}),t.jsx("p",{className:"text-gray-600 text-sm",children:Ht[n.status].description})]})]}),(n.status==="on_way"||n.status==="ready")&&n.driver&&t.jsxs("div",{className:"border-t pt-6 mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:" "}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-xl text-gray-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:n.driver.name}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("i",{className:"ri-star-fill text-yellow-400"}),t.jsx("span",{children:n.driver.rating})]})]})]}),t.jsx("a",{href:`tel:${n.driver.phone}`,className:"bg-green-500 hover:bg-green-600 text-white p-3 rounded-full transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-phone-line text-lg"})})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:" "}),t.jsxs("div",{className:"space-y-3",children:[n.items.map((D,k)=>t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-gray-800 font-medium",children:D.name}),D.price&&t.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",Ws(D.price),")"]})]}),t.jsx("span",{className:"text-gray-600 font-medium",children:D.quantity?`${D.quantity}x`:"1x"})]},k)),t.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[t.jsx("span",{className:"font-bold text-gray-800",children:":"}),t.jsx("span",{className:"font-bold text-gray-800 text-lg",children:Ws(n.total)})]})]})]}),n.deliveryInfo&&t.jsxs("div",{className:"border-t pt-6 mt-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:" "}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600 text-sm",children:":"}),t.jsx("p",{className:"font-medium text-gray-800",children:n.deliveryInfo.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600 text-sm",children:":"}),t.jsx("p",{className:"font-medium text-gray-800",children:n.deliveryInfo.phone})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("span",{className:"text-gray-600 text-sm",children:":"}),t.jsxs("p",{className:"font-medium text-gray-800",children:[n.deliveryInfo.address,", ",n.deliveryInfo.city]})]})]})})]})]}),n===null&&o&&!c&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center mb-8",children:[t.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"    "}),t.jsx("p",{className:"text-gray-500 mb-4",children:"      "}),t.jsx("button",{onClick:()=>S("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:" "})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:" "}),h.length>0?t.jsx("div",{className:"space-y-4",children:h.slice(0,10).map(D=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:D.id}),t.jsx("p",{className:"text-gray-600 text-sm",children:D.restaurant}),t.jsx("p",{className:"text-gray-500 text-xs mt-1",children:D.orderTime})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-gray-800",children:Ws(D.total)}),t.jsx("div",{className:`text-xs px-2 py-1 rounded-full mt-1 ${Ht[D.status]?.bgColor} ${Ht[D.status]?.color}`,children:Ht[D.status]?.title||" "})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[D.items.length,"  - ",D.estimatedTime]}),t.jsxs("button",{onClick:()=>E(D),className:"text-orange-500 hover:text-orange-600 text-sm font-medium cursor-pointer flex items-center gap-1",children:[t.jsx("i",{className:"ri-eye-line"})," "]})]})]},D.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"ri-file-list-line text-6xl text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-500 mb-4",children:"    "}),t.jsx("button",{onClick:()=>S("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:"  "})]})]})]}),t.jsx(Ue,{})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[t.jsx("i",{className:"ri-lock-line text-6xl text-orange-500 mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600 mb-6",children:"     "}),t.jsx("button",{onClick:()=>S("/auth"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})}),t.jsx(Ue,{})]})}function YN(){const o=Fe(),[r,n]=w.useState([]),[i,c]=w.useState(!0),[d,h]=w.useState(""),[m,g]=w.useState(null);w.useEffect(()=>{x();const C=()=>{x()};return window.addEventListener("cartUpdated",C),()=>{window.removeEventListener("cartUpdated",C)}},[]);const x=async()=>{try{c(!0);const C=localStorage.getItem("cart");if(!C){n([]),c(!1);return}const E=JSON.parse(C),z=Object.keys(E);if(z.length===0){n([]),c(!1);return}const{data:D,error:k}=await W.from("products").select("*, restaurants(id, name)").in("id",z);if(k){console.error("   :",k),n([]),c(!1);return}const K=D.map(X=>({id:X.id,name:X.name,restaurant:X.restaurants?.name||"  ",restaurant_id:X.restaurant_id,price:X.price,quantity:E[X.id],image:X.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation&width=100&height=100&seq=cart-${X.id}&orientation=squarish`}));n(K),c(!1)}catch(C){console.error("   :",C),n([]),c(!1)}},p=(C,E)=>{try{const z=localStorage.getItem("cart");if(!z)return;const D=JSON.parse(z);E===0?(delete D[C],n(r.filter(k=>k.id!==C))):(D[C]=E,n(r.map(k=>k.id===C?{...k,quantity:E}:k))),localStorage.setItem("cart",JSON.stringify(D)),window.dispatchEvent(new CustomEvent("cartUpdated"))}catch(z){console.error("   :",z)}},b=C=>{try{const E=localStorage.getItem("cart");if(!E)return;const z=JSON.parse(E);delete z[C],localStorage.setItem("cart",JSON.stringify(z)),n(r.filter(D=>D.id!==C)),window.dispatchEvent(new CustomEvent("cartUpdated"))}catch(E){console.error("   :",E)}},_=()=>{d==="FIRST50"?g({code:"FIRST50",discount:50,type:"percentage"}):d==="FREE100"?g({code:"FREE100",discount:40,type:"fixed"}):d.trim()&&alert("   ")},j=()=>{g(null),h("")},S=()=>{if(r.length===0){alert(" ");return}m?localStorage.setItem("appliedPromo",JSON.stringify(m)):localStorage.removeItem("appliedPromo"),o("/checkout")},O=r.reduce((C,E)=>C+E.price*E.quantity,0),v=25,T=m?m.type==="percentage"?O*(m.discount/100):m.discount:0,A=O+v-T;return i?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-loader-4-line text-6xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}),t.jsx(Ue,{})]}):r.length===0?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-shopping-cart-line text-8xl text-gray-300 mb-6"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:" "}),t.jsx("p",{className:"text-gray-500 mb-8",children:"     "}),t.jsx("button",{onClick:()=>o("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})}),t.jsx(Ue,{})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pt-24",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:""}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:[" (",r.length,")"]}),t.jsx("div",{className:"space-y-6",children:r.map(C=>t.jsxs("div",{className:"flex gap-4 pb-6 border-b border-gray-200 last:border-b-0",children:[t.jsx("img",{src:C.image,alt:C.name,className:"w-20 h-20 object-cover object-top rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:C.name}),t.jsx("button",{onClick:()=>o(`/restaurant?id=${C.restaurant_id}`),className:"text-sm text-orange-500 hover:text-orange-600 cursor-pointer",children:C.restaurant})]}),t.jsx("button",{onClick:()=>b(C.id),className:"text-gray-400 hover:text-red-500 cursor-pointer",children:t.jsx("i",{className:"ri-close-line text-lg"})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>p(C.id,C.quantity-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 cursor-pointer",children:t.jsx("i",{className:"ri-subtract-line text-sm"})}),t.jsx("span",{className:"font-medium w-8 text-center",children:C.quantity}),t.jsx("button",{onClick:()=>p(C.id,C.quantity+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 cursor-pointer",children:t.jsx("i",{className:"ri-add-line text-sm"})})]}),t.jsxs("div",{className:"font-bold text-gray-800",children:[C.price*C.quantity," DH"]})]})]})]},C.id))})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:" "}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),m?t.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-check-line text-green-500"}),t.jsx("span",{className:"text-sm font-medium text-green-700",children:m.code})]}),t.jsx("button",{onClick:j,className:"text-green-500 hover:text-green-600 cursor-pointer",children:t.jsx("i",{className:"ri-close-line"})})]}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value.toUpperCase()),placeholder:"  ",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",onKeyPress:C=>C.key==="Enter"&&_()}),t.jsx("button",{onClick:_,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:""})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:": FIRST50  FREE100"})]}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[O.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[v.toFixed(2)," DH"]})]}),m&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:[" (",m.code,")"]}),t.jsxs("span",{children:["-",T.toFixed(2)," DH"]})]}),t.jsx("div",{className:"border-t pt-3",children:t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:""}),t.jsxs("span",{className:"text-orange-600",children:[A.toFixed(2)," DH"]})]})})]}),t.jsx("button",{onClick:S,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>o("/restaurants"),className:"text-orange-500 hover:text-orange-600 text-sm cursor-pointer",children:"   "})})]})})]})]}),t.jsx(Ue,{})]})}function Vg(){const[o,r]=w.useState(!0),[n,i]=w.useState({email:"",password:"",name:"",phone:""}),[c,d]=w.useState(!1),[h,m]=w.useState(""),[g,x]=w.useState("success"),[p,b]=w.useState(!1),_=Fe(),[j]=Td();w.useEffect(()=>{S(),j.get("mode")==="restaurant"&&(m("       "),x("success"))},[j]);const S=async()=>{const{data:{user:C}}=await W.auth.getUser();C&&await O(C)},O=async C=>{try{const{data:E,error:z}=await W.from("restaurants").select("*").eq("owner_id",C.id).eq("status","approved").single();if(E&&!z){_("/restaurant-dashboard");return}const{data:D,error:k}=await W.from("admins").select("*").eq("email",C.email).single();if(D&&!k){_("/admin");return}const{data:K}=await W.from("restaurants").select("*").eq("owner_id",C.id).eq("status","pending").single();if(K){_("/");return}_("/")}catch(E){console.error("    :",E),_("/")}},v=C=>{const{name:E,value:z}=C.target;i(D=>({...D,[E]:z}))},T=()=>{if(!n.email.trim())return m("   "),x("error"),!1;if(!n.email.includes("@"))return m("    "),x("error"),!1;if(!n.password.trim())return m("   "),x("error"),!1;if(!o){if(!n.name.trim())return m("  "),x("error"),!1;if(n.password.length<6)return m("     6   "),x("error"),!1}return!0},A=async C=>{if(C.preventDefault(),!!T()){d(!0),m("");try{if(o){const{data:E,error:z}=await W.auth.signInWithPassword({email:n.email.trim(),password:n.password});if(z){z.message.includes("Invalid login credentials")?m("      "):z.message.includes("Email not confirmed")?m("    "):z.message.includes("Too many requests")?m("  .   "):m("   : "+z.message),x("error");return}E.user&&(m("   !"),x("success"),setTimeout(async()=>{await O(E.user)},1e3))}else{const{data:E,error:z}=await W.auth.signUp({email:n.email.trim(),password:n.password,options:{data:{name:n.name.trim(),phone:n.phone.trim(),user_type:"customer"}}});if(z){z.message.includes("already registered")?m("    "):z.message.includes("Password should be at least")?m("     6   "):m("   : "+z.message),x("error");return}E.user&&(m("   !    "),x("success"),i({email:"",password:"",name:"",phone:""}),r(!0))}}catch(E){console.error("  :",E),m("   .    ."),x("error")}finally{d(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:t.jsx("i",{className:"ri-user-line text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o?" ":"  "}),t.jsx("p",{className:"text-gray-600",children:o?"    ":"    "})]}),h&&t.jsx("div",{className:`mb-6 p-4 rounded-xl border ${g==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:`ri-${g==="success"?"check-circle":"error-warning"}-line`}),t.jsx("span",{children:h})]})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("form",{onSubmit:A,className:"space-y-6",children:[!o&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:v,required:!o,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:v,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"your@email.com"})]}),!o&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"+966 50 123 4567"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:n.password,onChange:v,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:o?" ":"  (6   )"}),t.jsx("button",{type:"button",onClick:()=>b(!p),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:p?"ri-eye-off-line":"ri-eye-line"})})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:c?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:o?"  ...":"  ..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:`ri-${o?"login-box":"user-add"}-line`}),t.jsx("span",{children:o?" ":" "})]})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-gray-600",children:[o?"  ":"  ",t.jsx("button",{type:"button",onClick:()=>{r(!o),m(""),i({email:"",password:"",name:"",phone:""})},className:"mr-2 text-orange-600 hover:text-orange-700 font-semibold cursor-pointer",children:o?"  ":" "})]})}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-3",children:"    "}),t.jsx("button",{type:"button",onClick:()=>_("/restaurant-signup"),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-restaurant-line"}),t.jsx("span",{children:"  "})]})})]})})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 mb-2",children:[t.jsx("i",{className:"ri-information-line"}),t.jsx("span",{className:"font-semibold",children:" "})]}),t.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[t.jsx("li",{children:"        "}),t.jsx("li",{children:"      "}),t.jsx("li",{children:"    "})]})]})})]})}),t.jsx(Ue,{})]})}function KN(){const o=Fe(),[r,n]=w.useState([]),[i,c]=w.useState(!0),[d,h]=w.useState({name:"",phone:"",address:"",city:"",notes:""}),[m,g]=w.useState("cash"),[x,p]=w.useState(!1),[b,_]=w.useState({}),[j,S]=w.useState(null),[O,v]=w.useState(null);w.useEffect(()=>{T(),A(),C(),E()},[]);const T=async()=>{try{const{data:{user:Z}}=await W.auth.getUser();v(Z)}catch(Z){console.error("    :",Z)}},A=async()=>{try{c(!0);const Z=localStorage.getItem("cart");if(!Z){n([]),c(!1);return}const ue=JSON.parse(Z),Ae=Object.keys(ue);if(Ae.length===0){n([]),c(!1);return}const{data:H,error:J}=await W.from("products").select("*, restaurants(id, name)").in("id",Ae);if(J){console.error("   :",J),n([]),c(!1);return}const ae=H.map(oe=>({id:oe.id,name:oe.name,restaurant:oe.restaurants?.name||"  ",restaurant_id:oe.restaurant_id,price:oe.price,quantity:ue[oe.id],image:oe.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation&width=100&height=100&seq=cart-${oe.id}&orientation=squarish`}));n(ae),c(!1)}catch(Z){console.error("   :",Z),n([]),c(!1)}},C=()=>{try{const Z=localStorage.getItem("deliveryInfo");if(Z){const ue=JSON.parse(Z);h(ue)}}catch(Z){console.error("    :",Z)}},E=()=>{try{const Z=localStorage.getItem("appliedPromo");Z&&S(JSON.parse(Z))}catch(Z){console.error("   :",Z)}},z=()=>{const Z={};return d.name.trim()?d.name.trim().length<2&&(Z.name="      "):Z.name=" ",d.phone.trim()?/^[0-9+\-\s()]{10,15}$/.test(d.phone.trim())||(Z.phone="   "):Z.phone="  ",d.address.trim()?d.address.trim().length<10&&(Z.address="    "):Z.address=" ",d.city||(Z.city=" "),_(Z),Object.keys(Z).length===0},D=(Z,ue)=>{h(H=>({...H,[Z]:ue})),b[Z]&&_(H=>({...H,[Z]:""}));const Ae={...d,[Z]:ue};localStorage.setItem("deliveryInfo",JSON.stringify(Ae))},k=r.reduce((Z,ue)=>Z+ue.price*ue.quantity,0),K=25,X=j?j.type==="percentage"?k*(j.discount/100):j.discount:0,se=k+K-X,Ne=()=>"ORD-"+Date.now()+"-"+Math.random().toString(36).substr(2,9).toUpperCase(),Ee=async()=>{if(!z()){const Z=Object.keys(b)[0],ue=document.querySelector(`[name="${Z}"]`);ue&&ue.scrollIntoView({behavior:"smooth",block:"center"});return}if(r.length===0){alert(" .    .");return}if(!O){alert("    "),o("/auth");return}p(!0);try{const Z=Ne(),ue=new Date().toLocaleString("ar-MA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ae={id:Z,user_id:O.id,restaurant:r[0]?.restaurant||" ",items:r.map(J=>({id:J.id,name:J.name,price:J.price,quantity:J.quantity,image:J.image})),total:se,status:"confirmed",estimatedTime:"30-45 ",orderTime:ue,deliveryInfo:d,paymentMethod:m,subtotal:k,deliveryFee:K,discount:X,createdAt:new Date().toISOString(),estimatedDelivery:new Date(Date.now()+2700*1e3).toISOString()};await new Promise(J=>setTimeout(J,2e3));const H=JSON.parse(localStorage.getItem("orders")||"[]");H.push(Ae),localStorage.setItem("orders",JSON.stringify(H)),localStorage.setItem("currentOrder",JSON.stringify(Ae)),localStorage.removeItem("cart"),localStorage.removeItem("appliedPromo"),n([]),window.dispatchEvent(new CustomEvent("cartUpdated")),setTimeout(()=>{const J={...Ae,status:"preparing"},ae=JSON.parse(localStorage.getItem("orders")||"[]"),oe=ae.findIndex(xe=>xe.id===Z);oe!==-1&&(ae[oe]=J,localStorage.setItem("orders",JSON.stringify(ae)),localStorage.setItem("currentOrder",JSON.stringify(J)))},3e4),o("/track-order",{state:{orderId:Z}})}catch(Z){console.error("   :",Z),alert("    .    .")}finally{p(!1)}};return i?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8 pt-24",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-loader-4-line text-6xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"   ..."})]})}),t.jsx(Ue,{})]}):r.length===0?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8 pt-24",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-shopping-cart-line text-8xl text-gray-300 mb-6"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:" "}),t.jsx("p",{className:"text-gray-500 mb-8",children:"       "}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:()=>o("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),t.jsx("br",{}),t.jsx("button",{onClick:()=>o("/cart"),className:"text-orange-500 hover:text-orange-600 text-sm cursor-pointer",children:"  "})]})]})}),t.jsx(Ue,{})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pt-24",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("button",{onClick:()=>o("/cart"),className:"text-gray-600 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-arrow-right-line text-xl"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[t.jsx("i",{className:"ri-user-line text-orange-500 w-5 h-5 flex items-center justify-center"})," "]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",name:"name",value:d.name,onChange:Z=>D("name",Z.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm ${b.name?"border-red-500":"border-gray-300"}`,placeholder:"  ",required:!0}),b.name&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:Z=>D("phone",Z.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm ${b.phone?"border-red-500":"border-gray-300"}`,placeholder:"0612345678",required:!0}),b.phone&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.phone})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",name:"address",value:d.address,onChange:Z=>D("address",Z.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm ${b.address?"border-red-500":"border-gray-300"}`,placeholder:"     ",required:!0}),b.address&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.address})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),t.jsxs("select",{name:"city",value:d.city,onChange:Z=>D("city",Z.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm pr-8 ${b.city?"border-red-500":"border-gray-300"}`,required:!0,children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:" ",children:" "}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]}),b.city&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.city})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("textarea",{value:d.notes,onChange:Z=>D("notes",Z.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",rows:3,maxLength:500,placeholder:"    ()..."}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.notes.length,"/500 "]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[t.jsx("i",{className:"ri-bank-card-line text-orange-500 w-5 h-5 flex items-center justify-center"})," "]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${m==="cash"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>g("cash"),children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${m==="cash"?"border-orange-500":"border-gray-300"}`,children:m==="cash"&&t.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),t.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-gray-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-800",children:"   "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]})}),t.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${m==="card"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>g("card"),children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${m==="card"?"border-orange-500":"border-gray-300"}`,children:m==="card"&&t.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),t.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:t.jsx("i",{className:"ri-bank-card-line text-xl text-gray-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-800",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]})]})})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[t.jsx("i",{className:"ri-file-list-line text-orange-500 w-5 h-5 flex items-center justify-center"})," "]}),t.jsx("div",{className:"space-y-4 mb-6 max-h-64 overflow-y-auto",children:r.map(Z=>t.jsxs("div",{className:"flex gap-3 p-2 rounded-lg hover:bg-gray-50",children:[t.jsx("img",{src:Z.image,alt:Z.name,className:"w-12 h-12 object-cover object-top rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-800 text-sm",children:Z.name}),t.jsx("p",{className:"text-xs text-gray-600",children:Z.restaurant}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[": ",Z.quantity]}),t.jsxs("span",{className:"font-medium text-sm text-orange-600",children:[Z.price*Z.quantity," DH"]})]})]})]},Z.id))}),t.jsxs("div",{className:"space-y-3 mb-6 border-t pt-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[k.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[K.toFixed(2)," DH"]})]}),j&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:[" (",j.code,")"]}),t.jsxs("span",{children:["-",X.toFixed(2)," DH"]})]}),t.jsx("div",{className:"border-t pt-3",children:t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:" "}),t.jsxs("span",{className:"text-orange-600",children:[se.toFixed(2)," DH"]})]})})]}),t.jsx("button",{onClick:Ee,disabled:x,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"}),"  ..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-check-line w-5 h-5 flex items-center justify-center"}),"  (",se.toFixed(2)," DH)"]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>o("/cart"),className:"text-orange-500 hover:text-orange-600 text-sm cursor-pointer",children:"  "})}),t.jsx("div",{className:"mt-6 pt-4 border-t",children:t.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-time-line text-orange-500 w-4 h-4 flex items-center justify-center"}),t.jsx("span",{children:"  : 30-45 "})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-shield-check-line text-green-500 w-4 h-4 flex items-center justify-center"}),t.jsx("span",{children:"  "})]})]})})]})})]})]}),t.jsx(Ue,{})]})}function JN(){const[o,r]=w.useState(null),[n,i]=w.useState(null),[c,d]=w.useState({name:"",phone:""}),[h,m]=w.useState(!0),[g,x]=w.useState(!1),[p,b]=w.useState(""),[_,j]=w.useState("success"),S=Fe();w.useEffect(()=>{O()},[]);const O=async()=>{try{const{data:{user:D}}=await W.auth.getUser();if(!D){S("/auth");return}const{data:k}=await W.from("restaurants").select("*").eq("owner_id",D.id).eq("status","approved").single();if(k){S("/restaurant-dashboard");return}const{data:K}=await W.from("admins").select("*").eq("email",D.email).single();if(K){S("/admin");return}r(D),await v(D.id)}catch(D){console.error("    :",D),S("/auth")}},v=async D=>{try{const{data:k,error:K}=await W.from("users").select("*").eq("auth_id",D).single();if(K&&K.code==="PGRST116"){console.log("    ..."),await T(D);return}K?(console.error("    :",K),b("    "),j("error")):k&&(i(k),d({name:k.name,phone:k.phone}))}catch(k){console.error("  :",k),b("   "),j("error")}finally{m(!1)}},T=async D=>{try{const{data:{session:k}}=await W.auth.getSession();if(!k)throw new Error("   ");const K=k.user,{data:X,error:se}=await W.functions.invoke("create-user",{body:{auth_id:D,name:K.user_metadata?.name||K.email?.split("@")[0]||" ",email:K.email,phone:K.user_metadata?.phone||""}});if(se||!X?.success)throw new Error(X?.error||"    ");await v(D)}catch(k){console.error("    :",k),b("     "),j("error"),m(!1)}},A=D=>{const{name:k,value:K}=D.target;d(X=>({...X,[k]:K}))},C=()=>c.name.trim()?!0:(b("  "),j("error"),!1),E=async D=>{if(D.preventDefault(),!!C()){x(!0),b("");try{const{error:k}=await W.from("users").update({name:c.name.trim(),phone:c.phone.trim()}).eq("auth_id",o.id);if(k){console.error("    :",k),b("    "),j("error");return}b("    !"),j("success"),await v(o.id)}catch(k){console.error("  :",k),b("   "),j("error")}finally{x(!1)}}},z=async()=>{try{await W.auth.signOut(),S("/")}catch(D){console.error("   :",D)}};return h?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-md mx-auto",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:" ..."})]})})}),t.jsx(Ue,{})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:t.jsx("i",{className:"ri-user-line text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),p&&t.jsx("div",{className:`mb-6 p-4 rounded-xl border ${_==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:`ri-${_==="success"?"check-circle":"error-warning"}-line`}),t.jsx("span",{children:p})]})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("form",{onSubmit:E,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"email",value:o?.email||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50 text-gray-500 cursor-not-allowed"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"+966 50 123 4567"})]}),t.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:g?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:" ..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-save-line"}),t.jsx("span",{children:" "})]})})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsx("button",{type:"button",onClick:z,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-logout-box-line"}),t.jsx("span",{children:" "})]})})})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 mb-2",children:[t.jsx("i",{className:"ri-information-line"}),t.jsx("span",{className:"font-semibold",children:" "})]}),t.jsx("p",{className:"text-sm text-blue-600",children:"      .     ."})]})})]})}),t.jsx(Ue,{})]})}function QN(){const o=Fe(),[r,n]=w.useState(null),[i,c]=w.useState([]),[d,h]=w.useState(!0),[m,g]=w.useState("all");w.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:{user:j}}=await W.auth.getUser();if(!j){o("/auth");return}n(j),p(j.id)}catch(j){console.error("    :",j),o("/auth")}},p=j=>{try{const S=localStorage.getItem("orders");if(S){const v=JSON.parse(S).filter(T=>T.user_id===j);c(v.reverse())}}catch(S){console.error("   :",S)}finally{h(!1)}},b=j=>{const S={pending:{text:" ",color:"bg-yellow-100 text-yellow-700",icon:"ri-time-line"},confirmed:{text:" ",color:"bg-blue-100 text-blue-700",icon:"ri-check-line"},preparing:{text:" ",color:"bg-purple-100 text-purple-700",icon:"ri-restaurant-line"},on_the_way:{text:" ",color:"bg-orange-100 text-orange-700",icon:"ri-truck-line"},delivered:{text:" ",color:"bg-green-100 text-green-700",icon:"ri-check-double-line"},cancelled:{text:"",color:"bg-red-100 text-red-700",icon:"ri-close-line"}};return S[j]||S.pending},_=i.filter(j=>m==="all"?!0:m==="active"?!["delivered","cancelled"].includes(j.status):m==="completed"?["delivered","cancelled"].includes(j.status):!0);return d?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}),t.jsx(Ue,{})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Le,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-2 mb-6 inline-flex gap-2",children:[t.jsxs("button",{onClick:()=>g("all"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="all"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.length,")"]}),t.jsxs("button",{onClick:()=>g("active"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="active"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>!["delivered","cancelled"].includes(j.status)).length,")"]}),t.jsxs("button",{onClick:()=>g("completed"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="completed"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>["delivered","cancelled"].includes(j.status)).length,")"]})]}),_.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-shopping-bag-line text-8xl text-gray-300"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"  "}),t.jsxs("p",{className:"text-gray-500 mb-8",children:[m==="all"&&"    ",m==="active"&&"    ",m==="completed"&&"   "]}),t.jsx("button",{onClick:()=>o("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]}):t.jsx("div",{className:"space-y-4",children:_.map(j=>{const S=b(j.status);return t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[" #",j.id.split("-")[1]]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S.color} flex items-center gap-1`,children:[t.jsx("i",{className:`${S.icon}`}),S.text]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("i",{className:"ri-calendar-line ml-1"}),new Date(j.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[j.total," DH"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[j.items.length," "]})]})]}),t.jsx("div",{className:"border-t border-gray-100 pt-4 mb-4",children:t.jsxs("div",{className:"space-y-3",children:[j.items.slice(0,2).map((O,v)=>t.jsxs("div",{className:"flex gap-3",children:[t.jsx("img",{src:O.image,alt:O.name,className:"w-16 h-16 object-cover object-top rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-800",children:O.name}),t.jsx("p",{className:"text-sm text-gray-600",children:O.restaurant}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:[": ",O.quantity]}),t.jsxs("span",{className:"font-medium text-orange-600",children:[O.price*O.quantity," DH"]})]})]})]},v)),j.items.length>2&&t.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["+ ",j.items.length-2,"  "]})]})}),t.jsx("div",{className:"border-t border-gray-100 pt-4 mb-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-600 mb-1",children:[t.jsx("i",{className:"ri-map-pin-line ml-1 text-orange-500"}),t.jsx("strong",{children:":"})]}),t.jsxs("p",{className:"text-gray-700 mr-6",children:[j.deliveryInfo.address,", ",j.deliveryInfo.city]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-600 mb-1",children:[t.jsx("i",{className:"ri-phone-line ml-1 text-orange-500"}),t.jsx("strong",{children:":"})]}),t.jsx("p",{className:"text-gray-700 mr-6",children:j.deliveryInfo.phone})]})]})}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[t.jsxs("button",{onClick:()=>o("/track-order",{state:{orderId:j.id}}),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-map-pin-line"})," "]}),t.jsxs("button",{className:"px-6 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-file-list-line"}),""]})]})]})},j.id)})})]}),t.jsx(Ue,{})]})}function XN(){const o=Fe(),[r,n]=w.useState(null),[i,c]=w.useState([]),[d,h]=w.useState(!0),[m,g]=w.useState("all");w.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:{user:j}}=await W.auth.getUser();if(!j){o("/auth");return}n(j),p()}catch(j){console.error("    :",j),o("/auth")}},p=()=>{try{const j=localStorage.getItem("favorites");if(j){const S=JSON.parse(j);c(S)}}catch(j){console.error("   :",j)}finally{h(!1)}},b=j=>{const S=i.filter(O=>O.id!==j);c(S),localStorage.setItem("favorites",JSON.stringify(S))},_=i.filter(j=>m==="all"?!0:m==="restaurants"?j.type==="restaurant":m==="products"?j.type==="product":!0);return d?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Le,{}),t.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}),t.jsx(Ue,{})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Le,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-2 mb-6 inline-flex gap-2",children:[t.jsxs("button",{onClick:()=>g("all"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="all"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.length,")"]}),t.jsxs("button",{onClick:()=>g("restaurants"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="restaurants"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>j.type==="restaurant").length,")"]}),t.jsxs("button",{onClick:()=>g("products"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="products"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>j.type==="product").length,")"]})]}),_.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-heart-line text-8xl text-gray-300"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"  "}),t.jsxs("p",{className:"text-gray-500 mb-8",children:[m==="all"&&"      ",m==="restaurants"&&"    ",m==="products"&&"    "]}),t.jsx("button",{onClick:()=>o("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(j=>t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:j.image,alt:j.name,className:"w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"}),t.jsx("button",{onClick:()=>b(j.id),className:"absolute top-3 left-3 w-10 h-10 bg-white hover:bg-red-50 rounded-full flex items-center justify-center shadow-lg transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-heart-fill text-xl text-red-500"})}),j.type==="restaurant"&&t.jsx("div",{className:"absolute top-3 right-3 bg-white px-3 py-1 rounded-full shadow-lg",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500 text-sm"}),t.jsx("span",{className:"font-medium text-sm",children:j.rating})]})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1",children:j.name}),t.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${j.type==="restaurant"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:j.type==="restaurant"?"":""})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:j.description}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:j.type==="restaurant"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("i",{className:"ri-time-line text-orange-500"}),t.jsx("span",{children:j.deliveryTime})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("i",{className:"ri-e-bike-line text-orange-500"}),t.jsx("span",{children:j.deliveryFee===0?"":`${j.deliveryFee} DH`})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500 text-sm"}),t.jsx("span",{className:"font-medium text-sm",children:j.rating})]}),t.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[j.price," DH"]})]})}),t.jsxs("button",{onClick:()=>{j.type,o("/restaurant")},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:j.type==="restaurant"?"ri-restaurant-line":"ri-shopping-cart-line"}),t.jsx("span",{children:j.type==="restaurant"?" ":" "})]})]}),t.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[t.jsx("i",{className:"ri-calendar-line ml-1"}),"  ",new Date(j.addedAt).toLocaleDateString("ar-SA")]})})]},j.id))})]}),t.jsx(Ue,{})]})}function ZN(){const[o,r]=w.useState({restaurantName:"",ownerName:"",email:"",phone:"",password:"",confirmPassword:"",address:"",city:"",cuisineType:"",description:"",businessLicense:"",message:"",latitude:0,longitude:0}),[n,i]=w.useState(null),[c,d]=w.useState(null),[h,m]=w.useState(!1),[g,x]=w.useState(!1),[p,b]=w.useState(!1),[_,j]=w.useState(!1),S=Fe(),O=z=>{const{name:D,value:k}=z.target;r(K=>({...K,[D]:k}))},v=()=>{if(j(!0),navigator.geolocation){const z={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(async D=>{const{latitude:k,longitude:K}=D.coords;r(X=>({...X,latitude:k,longitude:K})),j(!1)},D=>{console.error("   :",D);let k="    ";switch(D.code){case D.PERMISSION_DENIED:k="    ";break;case D.POSITION_UNAVAILABLE:k="   ";break;case D.TIMEOUT:k="   ";break}alert(k),j(!1)},z)}else alert("    "),j(!1)},T=z=>{const D=z.target.files?.[0];if(D){if(!D.type.startsWith("image/")){alert("   ");return}if(D.size>5*1024*1024){alert("     5 ");return}i(D);const k=new FileReader;k.onloadend=()=>{d(k.result)},k.readAsDataURL(D)}},A=()=>{i(null),d(null)},C=()=>o.restaurantName.trim()?o.ownerName.trim()?o.email.trim()?o.email.includes("@")?o.phone.trim()?o.password.trim()?o.password.length<6?(alert("     6   "),!1):o.password!==o.confirmPassword?(alert("      "),!1):o.address.trim()?o.city.trim()?o.cuisineType?!0:(alert("   "),!1):(alert("  "),!1):(alert("  "),!1):(alert("   "),!1):(alert("   "),!1):(alert("    "),!1):(alert("   "),!1):(alert("   "),!1):(alert("   "),!1),E=async z=>{if(z.preventDefault(),!!C()){m(!0);try{const{data:D,error:k}=await W.auth.signUp({email:o.email.trim(),password:o.password,options:{data:{name:o.ownerName.trim(),phone:o.phone.trim(),user_type:"restaurant_owner"}}});if(k){k.message.includes("already registered")?alert("    "):alert("   : "+k.message);return}if(!D.user){alert("   ");return}let K="";if(n){const se=n.name.split(".").pop(),Ne=`${Date.now()}.${se}`,{data:Ee,error:Z}=await W.storage.from("restaurant-images").upload(Ne,n);if(Z)console.error("   :",Z);else{const{data:{publicUrl:ue}}=W.storage.from("restaurant-images").getPublicUrl(Ne);K=ue}}const{error:X}=await W.from("restaurants").insert({name:o.restaurantName.trim(),owner_name:o.ownerName.trim(),email:o.email.trim(),phone:o.phone.trim(),address:o.address.trim(),city:o.city.trim(),cuisine_type:o.cuisineType,description:o.description.trim()||null,business_license:o.businessLicense.trim()||null,message:o.message.trim()||null,latitude:o.latitude||0,longitude:o.longitude||0,image_url:K||null,status:"pending",owner_id:D.user.id,rating:0,delivery_time:"30-45 ",delivery_fee:15,is_open:!1});if(X){console.error("    :",X),alert("        .    .");return}alert("   !         ."),r({restaurantName:"",ownerName:"",email:"",phone:"",password:"",confirmPassword:"",address:"",city:"",cuisineType:"",description:"",businessLicense:"",message:"",latitude:0,longitude:0}),i(null),d(null),setTimeout(()=>{S("/auth")},2e3)}catch(D){console.error("  :",D),alert("   .    .")}finally{m(!1)}}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-orange-500 to-orange-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:t.jsx("i",{className:"ri-restaurant-line text-3xl text-white"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"   "}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"        "}),t.jsxs("div",{className:"mt-8 p-4 bg-orange-50 border border-orange-200 rounded-xl max-w-lg mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-700 mb-2",children:[t.jsx("i",{className:"ri-user-line text-lg"}),t.jsx("span",{className:"font-semibold",children:"   "})]}),t.jsx("p",{className:"text-sm text-orange-600 mb-3",children:"           "}),t.jsxs("button",{onClick:()=>S("/auth?mode=restaurant"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-login-box-line"}),t.jsx("span",{children:"   "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:" "}),t.jsxs("form",{className:"space-y-6",onSubmit:E,children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("div",{className:"flex flex-col items-center gap-4",children:c?t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("img",{src:c,alt:"  ",className:"w-full h-64 object-cover rounded-xl border-2 border-gray-200"}),t.jsx("button",{type:"button",onClick:A,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full flex items-center justify-center cursor-pointer",children:t.jsx("i",{className:"ri-close-line"})})]}):t.jsxs("label",{className:"w-full max-w-md h-64 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-orange-500 transition-colors",children:[t.jsx("i",{className:"ri-image-add-line text-5xl text-gray-400 mb-2"}),t.jsx("span",{className:"text-gray-600 font-medium",children:"  "}),t.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG  5 "}),t.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden"})]})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("button",{type:"button",onClick:v,disabled:_,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[t.jsx("i",{className:`ri-map-pin-line text-xl ${_?"animate-pulse":""}`}),t.jsx("span",{children:_?"  ...":"  "})]}),(o.latitude!==0||o.longitude!==0)&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[t.jsx("i",{className:"ri-check-circle-line"}),t.jsx("span",{className:"font-medium",children:"   "})]}),t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" : ",o.latitude.toFixed(6)," |  : ",o.longitude.toFixed(6)]})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"restaurantName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"restaurantName",name:"restaurantName",value:o.restaurantName,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:o.ownerName,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:o.phone,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"+966 50 123 4567"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:g?"text":"password",id:"password",name:"password",value:o.password,onChange:O,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"   (6   )"}),t.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:g?"ri-eye-off-line":"ri-eye-line"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"   *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:O,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"   "}),t.jsx("button",{type:"button",onClick:()=>b(!p),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:p?"ri-eye-off-line":"ri-eye-line"})})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"}),t.jsx("input",{type:"text",id:"address",name:"address",value:o.address,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"  "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"city",className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"}),t.jsx("input",{type:"text",id:"city",name:"city",value:o.city,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cuisineType",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("select",{id:"cuisineType",name:"cuisineType",value:o.cuisineType,onChange:O,required:!0,className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",children:[t.jsx("option",{value:"",children:"  "}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:" ",children:" "}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:O,rows:4,maxLength:500,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 resize-none",placeholder:"   ..."}),t.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[o.description.length,"/500 "]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"businessLicense",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  "}),t.jsx("input",{type:"text",id:"businessLicense",name:"businessLicense",value:o.businessLicense,onChange:O,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"    "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("textarea",{id:"message",name:"message",value:o.message,onChange:O,rows:3,maxLength:500,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 resize-none",placeholder:"   ..."}),t.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[o.message.length,"/500 "]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[t.jsx("button",{type:"button",onClick:()=>S("/"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap",children:" "}),t.jsx("button",{type:"submit",disabled:h,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:h?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:" ..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-send-plane-line"}),t.jsx("span",{children:" "})]})})]})]})]}),t.jsx("div",{className:"text-center mt-8",children:t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 mb-3",children:[t.jsx("i",{className:"ri-information-line text-xl"}),t.jsx("h3",{className:"font-semibold",children:" "})]}),t.jsxs("ul",{className:"text-sm text-blue-600 space-y-2 text-right",children:[t.jsx("li",{children:"     24-48 "}),t.jsx("li",{children:"      "}),t.jsx("li",{children:"       "}),t.jsx("li",{children:"         "})]})]})})]})})}function WN({user:o,onToggleSidebar:r}){const n=Fe(),[i,c]=w.useState(!1),d=async()=>{await W.auth.signOut(),n("/")};return t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-menu-line text-xl text-gray-600"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-admin-line text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Panneau d'Administration"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Gestion complte du site"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-notification-line text-xl text-gray-600"}),t.jsx("span",{className:"absolute -top-1 -left-1 w-3 h-3 bg-red-500 rounded-full"})]}),t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-settings-line text-xl text-gray-600"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>c(!i),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-orange-600"})}),t.jsxs("div",{className:"text-left hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:o?.email}),t.jsx("p",{className:"text-xs text-gray-500",children:"Administrateur"})]}),t.jsx("i",{className:"ri-arrow-down-s-line text-gray-400"})]}),i&&t.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("button",{onClick:()=>{n("/"),c(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-home-line text-lg"}),"Retour au Site"]}),t.jsxs("button",{onClick:()=>c(!1),className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-user-settings-line text-lg"}),"Paramtres du Compte"]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{onClick:d,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-logout-box-line text-lg"}),"Dconnexion"]})]})]})]})]})})})}function ew({activeTab:o,onTabChange:r,isOpen:n}){const i=[{id:"dashboard",label:"Tableau de Bord",icon:"ri-dashboard-line",description:"Vue d'ensemble des statistiques"},{id:"restaurants",label:"Gestion Restaurants",icon:"ri-restaurant-line",description:"Grer les restaurants et approbations"},{id:"products",label:"Gestion Produits",icon:"ri-shopping-bag-line",description:"Grer les produits et prix"},{id:"orders",label:"Gestion Commandes",icon:"ri-file-list-line",description:"Suivre et grer les commandes"},{id:"users",label:"Gestion Utilisateurs",icon:"ri-user-line",description:"Grer les comptes clients"},{id:"drivers",label:"Gestion Livreurs",icon:"ri-truck-line",description:"Grer les livreurs"},{id:"analytics",label:"Analyses et Rapports",icon:"ri-bar-chart-line",description:"Rapports dtaills et statistiques"}];return t.jsxs(t.Fragment,{children:[n&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>{}}),t.jsxs("aside",{className:`
        fixed top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white shadow-lg border-r border-gray-200 z-40
        transform transition-transform duration-300 ease-in-out
        ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        lg:sticky lg:top-16
      `,children:[t.jsx("div",{className:"p-6",children:t.jsx("nav",{className:"space-y-2",children:i.map(c=>t.jsx("button",{onClick:()=>r(c.id),className:`
                  w-full text-left p-4 rounded-lg transition-all duration-200 cursor-pointer
                  ${o===c.id?"bg-orange-50 text-orange-600 border-l-4 border-orange-500":"text-gray-700 hover:bg-gray-50 hover:text-orange-600"}
                `,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:`${c.icon} text-xl`}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("div",{className:"font-medium",children:c.label}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:c.description})]})]})},c.id))})}),t.jsxs("div",{className:"p-6 border-t border-gray-200",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Statistiques Rapides"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Restaurants Actifs"}),t.jsx("span",{className:"text-sm font-medium text-green-600",children:"24"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Commandes du Jour"}),t.jsx("span",{className:"text-sm font-medium text-blue-600",children:"156"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Nouveaux Utilisateurs"}),t.jsx("span",{className:"text-sm font-medium text-purple-600",children:"12"})]})]})]})]})]})}function Fg(){const[o,r]=w.useState({totalRestaurants:0,totalUsers:0,totalOrders:0,totalRevenue:0,pendingApprovals:0,activeDrivers:0}),[n,i]=w.useState(!0),[c,d]=w.useState([]),[h,m]=w.useState([]);w.useEffect(()=>{g()},[]);const g=async()=>{try{const{count:p}=await W.from("restaurants").select("*",{count:"exact",head:!0}),{count:b}=await W.from("users").select("*",{count:"exact",head:!0}),{count:_}=await W.from("drivers").select("*",{count:"exact",head:!0}),{data:j}=await W.from("restaurants").select("*").order("created_at",{ascending:!1}).limit(5);r({totalRestaurants:p||0,totalUsers:b||0,totalOrders:156,totalRevenue:45230,pendingApprovals:8,activeDrivers:_||0}),m(j||[])}catch(p){console.error("Erreur lors du chargement des donnes:",p)}finally{i(!1)}},x=[{title:"Total Restaurants",value:o.totalRestaurants,icon:"ri-restaurant-line",color:"bg-blue-500",change:"+12%",changeType:"positive"},{title:"Total Utilisateurs",value:o.totalUsers,icon:"ri-user-line",color:"bg-green-500",change:"+8%",changeType:"positive"},{title:"Commandes du Jour",value:o.totalOrders,icon:"ri-file-list-line",color:"bg-orange-500",change:"+15%",changeType:"positive"},{title:"Revenus Mensuels",value:`${o.totalRevenue.toLocaleString()} DH`,icon:"ri-money-dollar-circle-line",color:"bg-purple-500",change:"+23%",changeType:"positive"},{title:"En Attente",value:o.pendingApprovals,icon:"ri-time-line",color:"bg-yellow-500",change:"-5%",changeType:"negative"},{title:"Livreurs Actifs",value:o.activeDrivers,icon:"ri-truck-line",color:"bg-teal-500",change:"+3%",changeType:"positive"}];return n?t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,b)=>t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})},b))})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de Bord"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Vue d'ensemble des performances de la plateforme"})]}),t.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Actualiser les Donnes"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((p,b)=>t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:p.title}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:p.value}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx("span",{className:`text-sm font-medium ${p.changeType==="positive"?"text-green-600":"text-red-600"}`,children:p.change}),t.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"du mois dernier"})]})]}),t.jsx("div",{className:`w-12 h-12 ${p.color} rounded-lg flex items-center justify-center`,children:t.jsx("i",{className:`${p.icon} text-white text-xl`})})]})},b))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dernires Commandes"}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium cursor-pointer",children:"Voir Tout"})]}),t.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(p=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-line text-orange-600"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:["Commande #",1e3+p]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Restaurant La Mer Blanche"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:"45.50 DH"}),t.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Termin"})]})]},p))})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nouveaux Restaurants"}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium cursor-pointer",children:"Voir Tout"})]}),t.jsx("div",{className:"space-y-4",children:h.slice(0,4).map(p=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:p.name}),t.jsx("p",{className:"text-sm text-gray-500",children:p.cuisine_type})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${p.status==="approved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.status==="approved"?"Actif":"En Attente"})})]},p.id))})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions Rapides"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-add-line text-2xl text-orange-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Ajouter Restaurant"})]}),t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-user-add-line text-2xl text-blue-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Ajouter Utilisateur"})]}),t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-file-download-line text-2xl text-green-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Exporter Rapports"})]}),t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-settings-line text-2xl text-purple-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Paramtres Systme"})]})]})]})]})}function tw(){const[o,r]=w.useState([]),[n,i]=w.useState(!0),[c,d]=w.useState(""),[h,m]=w.useState("all"),[g,x]=w.useState(null),[p,b]=w.useState(!1);w.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:k,error:K}=await W.from("restaurants").select("*").order("created_at",{ascending:!1});if(K)throw K;const X=(k||[]).map(se=>({...se,status:se.status||"approved",owner_name:se.owner_name||" ",owner_email:se.owner_email||" ",owner_phone:se.owner_phone||se.phone||" "}));r(X)}catch(k){console.error("   :",k)}finally{i(!1)}},j=async(k,K)=>{try{const{error:X}=await W.from("restaurants").update({status:K}).eq("id",k);if(X)throw X;r(Ne=>Ne.map(Ee=>Ee.id===k?{...Ee,status:K}:Ee)),alert({approved:"   ",rejected:"  ",suspended:"  "}[K]||"   ")}catch(X){console.error("    :",X),alert("     ")}},S=async k=>{if(confirm("            ."))try{const{error:K}=await W.from("restaurants").delete().eq("id",k);if(K)throw K;r(X=>X.filter(se=>se.id!==k)),alert("   ")}catch(K){console.error("   :",K),alert("    ")}},O=o.filter(k=>{const K=k.name.toLowerCase().includes(c.toLowerCase())||(k.owner_name||"").toLowerCase().includes(c.toLowerCase())||(k.owner_email||"").toLowerCase().includes(c.toLowerCase()),X=h==="all"||k.status===h;return K&&X}),v=o.filter(k=>k.status==="pending").length,T=o.filter(k=>k.status==="approved").length,A=o.filter(k=>k.status==="rejected").length,C=o.filter(k=>k.status==="suspended").length;if(n)return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 animate-pulse"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((k,K)=>t.jsx("div",{className:"h-20 bg-gray-200 rounded animate-pulse"},K))}),t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((k,K)=>t.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},K))})]});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Restaurants"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Grer et approuver les demandes de nouveaux restaurants"})]}),v>0&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:t.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[t.jsx("i",{className:"ri-notification-2-line"}),t.jsxs("span",{className:"font-medium",children:[v," demande en attente"]})]})})]}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher un restaurant, propritaire ou email...",value:c,onChange:k=>d(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),t.jsx("div",{className:"md:w-48",children:t.jsxs("select",{value:h,onChange:k=>m(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 pr-8",children:[t.jsx("option",{value:"all",children:"Tous les statuts"}),t.jsxs("option",{value:"pending",children:["En attente (",v,")"]}),t.jsxs("option",{value:"approved",children:["Approuv (",T,")"]}),t.jsxs("option",{value:"rejected",children:["Rejet (",A,")"]}),t.jsxs("option",{value:"suspended",children:["Suspendu (",C,")"]})]})})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Restaurants"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:o.length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"En Attente"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:v})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-check-line text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Approuv"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:T})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-close-line text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Rejet"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:A})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Propritaire"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type de Cuisine"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'Inscription"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(k=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-orange-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.name}),t.jsx("p",{className:"text-sm text-gray-500",children:k.description||""})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.owner_name||"Non spcifi"}),t.jsx("p",{className:"text-sm text-gray-500",children:k.owner_email||"Non spcifi"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-gray-900",children:k.cuisine_type})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${E(k.status)}`,children:[t.jsx("i",{className:z(k.status)}),D(k.status)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString("fr-FR")}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>x(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"Voir les dtails",children:t.jsx("i",{className:"ri-eye-line"})}),k.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>j(k.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors cursor-pointer",title:"Approuver",children:t.jsx("i",{className:"ri-check-line"})}),t.jsx("button",{onClick:()=>j(k.id,"rejected"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"Rejeter",children:t.jsx("i",{className:"ri-close-line"})})]}),k.status==="approved"&&t.jsx("button",{onClick:()=>j(k.id,"suspended"),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer",title:"Suspendre",children:t.jsx("i",{className:"ri-pause-line"})}),k.status==="suspended"&&t.jsx("button",{onClick:()=>j(k.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors cursor-pointer",title:"Ractiver",children:t.jsx("i",{className:"ri-play-line"})}),t.jsx("button",{onClick:()=>S(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"Supprimer",children:t.jsx("i",{className:"ri-delete-bin-line"})})]})})]},k.id))})]})}),O.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"Aucun restaurant trouv"})]})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dtails du Restaurant"}),t.jsx("button",{onClick:()=>x(null),className:"p-2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:"ri-close-line text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du Restaurant"}),t.jsx("p",{className:"text-gray-900",children:g.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Cuisine"}),t.jsx("p",{className:"text-gray-900",children:g.cuisine_type})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du Propritaire"}),t.jsx("p",{className:"text-gray-900",children:g.owner_name||"Non spcifi"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email du Propritaire"}),t.jsx("p",{className:"text-gray-900",children:g.owner_email||"Non spcifi"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),t.jsx("p",{className:"text-gray-900",children:g.phone||"Non spcifi"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${E(g.status)}`,children:[t.jsx("i",{className:z(g.status)}),D(g.status)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),t.jsx("p",{className:"text-gray-900",children:g.address||"Non spcifie"})]}),g.description&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("p",{className:"text-gray-900",children:g.description})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'Inscription"}),t.jsx("p",{className:"text-gray-900",children:new Date(g.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),g.status==="pending"&&t.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{j(g.id,"approved"),x(null)},className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-check-line mr-2"}),"Approuver"]}),t.jsxs("button",{onClick:()=>{j(g.id,"rejected"),x(null)},className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-close-line mr-2"}),"Rejeter"]})]})]})})]});function E(k){switch(k){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"suspended":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function z(k){switch(k){case"pending":return"ri-time-line";case"approved":return"ri-check-line";case"rejected":return"ri-close-line";case"suspended":return"ri-pause-line";default:return"ri-question-line"}}function D(k){switch(k){case"pending":return"En attente";case"approved":return"Approuv";case"rejected":return"Rejet";case"suspended":return"Suspendu";default:return"Inconnu"}}}function sw(){const[o,r]=w.useState([]),[n,i]=w.useState([]),[c,d]=w.useState(!0),[h,m]=w.useState(""),[g,x]=w.useState(""),[p,b]=w.useState("");w.useEffect(()=>{_()},[]);const _=async()=>{try{d(!0);const{data:E,error:z}=await W.from("products").select(`
          *,
          restaurants (name)
        `).order("created_at",{ascending:!1});if(z)throw z;const{data:D,error:k}=await W.from("restaurants").select("id, name").order("name");if(k)throw k;r(E||[]),i(D||[])}catch(E){console.error("Erreur lors du chargement des donnes:",E)}finally{d(!1)}},j=async E=>{if(confirm("tes-vous sr de vouloir supprimer ce produit ?"))try{const{error:z}=await W.from("products").delete().eq("id",E);if(z)throw z;r(o.filter(D=>D.id!==E))}catch(z){console.error("Erreur lors de la suppression:",z),alert("Erreur lors de la suppression du produit")}},S=async(E,z)=>{try{const{error:D}=await W.from("products").update({is_active:!z}).eq("id",E);if(D)throw D;r(o.map(k=>k.id===E?{...k,is_active:!z}:k))}catch(D){console.error("Erreur lors de la mise  jour:",D),alert("Erreur lors de la mise  jour du statut")}},O=o.filter(E=>{const z=E.name.toLowerCase().includes(h.toLowerCase())||E.description?.toLowerCase().includes(h.toLowerCase())||E.restaurants?.name.toLowerCase().includes(h.toLowerCase()),D=!g||E.restaurant_id===g,k=!p||E.category===p;return z&&D&&k}),v=[...new Set(o.map(E=>E.category).filter(Boolean))],T=o.length,A=o.filter(E=>E.is_active).length,C=o.length>0?o.reduce((E,z)=>E+z.price,0)/o.length:0;return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Produits"}),t.jsx("p",{className:"text-gray-600",children:"Grer tous les produits du systme"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-restaurant-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Produits"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-checkbox-circle-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Produits Actifs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-yellow-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prix Moyen"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[C.toFixed(2)," dh"]})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher un produit ou restaurant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:h,onChange:E=>m(E.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurant"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:g,onChange:E=>x(E.target.value),children:[t.jsx("option",{value:"",children:"Tous les restaurants"}),n.map(E=>t.jsx("option",{value:E.id,children:E.name},E.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catgorie"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:p,onChange:E=>b(E.target.value),children:[t.jsx("option",{value:"",children:"Toutes les catgories"}),v.map(E=>t.jsx("option",{value:E,children:E},E))]})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catgorie"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(E=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:t.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:E.image_url||"/placeholder-food.jpg",alt:E.name})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),t.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:E.description||"Aucune description"})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.restaurants?.name||"Non spcifi"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.category||"Non spcifi"}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[E.price," dh"]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_active?"Actif":"Inactif"})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[t.jsx("button",{onClick:()=>S(E.id,E.is_active),className:`px-3 py-1 rounded text-xs font-medium ${E.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:E.is_active?"Dsactiver":"Activer"}),t.jsx("button",{onClick:()=>j(E.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-xs font-medium hover:bg-red-200",children:"Supprimer"})]})]},E.id))})]})}),O.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun produit trouv"}),t.jsx("p",{className:"text-gray-500",children:"Aucun produit ne correspond  vos critres de recherche."})]})]})]})}function aw(){const[o,r]=w.useState([]),[n,i]=w.useState(!0),[c,d]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState(null);w.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0);const A=[{id:"1",user_id:"user1",restaurant_id:"rest1",total_amount:125.5,status:"en_preparation",delivery_address:"123 Rue de la Paix, Paris",created_at:new Date().toISOString(),items:[{id:"1",product_name:"Pizza Margherita",quantity:2,price:45},{id:"2",product_name:"Salade Csar",quantity:1,price:35.5}],users:{full_name:"Jean Dupont",email:"jean@email.com"},restaurants:{name:"Pizzeria Roma"}},{id:"2",user_id:"user2",restaurant_id:"rest2",total_amount:89,status:"livree",delivery_address:"456 Avenue des Champs, Lyon",created_at:new Date(Date.now()-864e5).toISOString(),items:[{id:"3",product_name:"Burger Deluxe",quantity:1,price:65},{id:"4",product_name:"Frites",quantity:1,price:24}],users:{full_name:"Marie Martin",email:"marie@email.com"},restaurants:{name:"Burger House"}},{id:"3",user_id:"user3",restaurant_id:"rest3",total_amount:156.75,status:"en_livraison",delivery_address:"789 Boulevard Saint-Germain, Marseille",created_at:new Date(Date.now()-36e5).toISOString(),items:[{id:"5",product_name:"Sushi Mix",quantity:1,price:95},{id:"6",product_name:"Soupe Miso",quantity:2,price:30.75}],users:{full_name:"Pierre Dubois",email:"pierre@email.com"},restaurants:{name:"Sushi Tokyo"}}];r(A)}catch(A){console.error("Erreur lors du chargement des commandes:",A)}finally{i(!1)}},b=async(A,C)=>{try{r(o.map(E=>E.id===A?{...E,status:C}:E))}catch(E){console.error("Erreur lors de la mise  jour:",E),alert("Erreur lors de la mise  jour du statut")}},_=A=>{switch(A){case"en_attente":return"bg-yellow-100 text-yellow-800";case"confirmee":return"bg-blue-100 text-blue-800";case"en_preparation":return"bg-orange-100 text-orange-800";case"en_livraison":return"bg-purple-100 text-purple-800";case"livree":return"bg-green-100 text-green-800";case"annulee":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=A=>{switch(A){case"en_attente":return"En Attente";case"confirmee":return"Confirme";case"en_preparation":return"En Prparation";case"en_livraison":return"En Livraison";case"livree":return"Livre";case"annulee":return"Annule";default:return A}},S=o.filter(A=>{const C=A.users?.full_name.toLowerCase().includes(c.toLowerCase())||A.restaurants?.name.toLowerCase().includes(c.toLowerCase())||A.id.toLowerCase().includes(c.toLowerCase()),E=!h||A.status===h;return C&&E}),O=o.length,v=o.filter(A=>new Date(A.created_at).toDateString()===new Date().toDateString()).length,T=o.reduce((A,C)=>A+C.total_amount,0);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Commandes"}),t.jsx("p",{className:"text-gray-600",children:"Grer et suivre toutes les commandes"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-shopping-bag-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Commandes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-calendar-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commandes Aujourd'hui"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-yellow-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus Total"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[T.toFixed(2)," dh"]})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher par client, restaurant ou ID...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:c,onChange:A=>d(A.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:h,onChange:A=>m(A.target.value),children:[t.jsx("option",{value:"",children:"Tous les statuts"}),t.jsx("option",{value:"en_attente",children:"En Attente"}),t.jsx("option",{value:"confirmee",children:"Confirme"}),t.jsx("option",{value:"en_preparation",children:"En Prparation"}),t.jsx("option",{value:"en_livraison",children:"En Livraison"}),t.jsx("option",{value:"livree",children:"Livre"}),t.jsx("option",{value:"annulee",children:"Annule"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Commande"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(A=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",A.id]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.users?.full_name||"Non spcifi"}),t.jsx("div",{className:"text-sm text-gray-500",children:A.users?.email||"Non spcifi"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.restaurants?.name||"Non spcifi"}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[A.total_amount.toFixed(2)," dh"]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(A.status)}`,children:j(A.status)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(A.created_at).toLocaleDateString("fr-FR")}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[t.jsx("button",{onClick:()=>x(A),className:"text-blue-600 hover:text-blue-900",children:"Voir dtails"}),A.status!=="livree"&&A.status!=="annulee"&&t.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:A.status,onChange:C=>b(A.id,C.target.value),children:[t.jsx("option",{value:"en_attente",children:"En Attente"}),t.jsx("option",{value:"confirmee",children:"Confirme"}),t.jsx("option",{value:"en_preparation",children:"En Prparation"}),t.jsx("option",{value:"en_livraison",children:"En Livraison"}),t.jsx("option",{value:"livree",children:"Livre"}),t.jsx("option",{value:"annulee",children:"Annule"})]})]})]},A.id))})]})}),S.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-shopping-bag-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune commande trouve"}),t.jsx("p",{className:"text-gray-500",children:"Aucune commande ne correspond  vos critres de recherche."})]})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Dtails de la Commande #",g.id]}),t.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx("i",{className:"ri-close-line text-xl"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informations Client"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Nom:"})," ",g.users?.full_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",g.users?.email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Adresse de livraison:"})," ",g.delivery_address]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Restaurant"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("p",{children:[t.jsx("strong",{children:"Nom:"})," ",g.restaurants?.name]})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Articles Commands"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[g.items.map(A=>t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:A.product_name}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Quantit: ",A.quantity]})]}),t.jsxs("p",{className:"font-medium",children:[(A.price*A.quantity).toFixed(2)," dh"]})]},A.id)),t.jsxs("div",{className:"flex justify-between items-center pt-4 mt-4 border-t border-gray-300",children:[t.jsx("p",{className:"text-lg font-bold",children:"Total:"}),t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[g.total_amount.toFixed(2)," dh"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Statut de la Commande"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${_(g.status)}`,children:j(g.status)}),t.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Command le: ",new Date(g.created_at).toLocaleString("fr-FR")]})]})]})]})]})})})]})}function rw(){const[o,r]=w.useState([]),[n,i]=w.useState(!0),[c,d]=w.useState(""),[h,m]=w.useState("");w.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const{data:O,error:v}=await W.from("users").select("*").order("created_at",{ascending:!1});if(v)throw v;r(O||[])}catch(O){console.error("Erreur lors du chargement des utilisateurs:",O)}finally{i(!1)}},x=async(O,v)=>{try{const{error:T}=await W.from("users").update({is_active:!v}).eq("id",O);if(T)throw T;r(o.map(A=>A.id===O?{...A,is_active:!v}:A))}catch(T){console.error("Erreur lors de la mise  jour:",T),alert("Erreur lors de la mise  jour du statut")}},p=async O=>{if(confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{const{error:v}=await W.from("users").delete().eq("id",O);if(v)throw v;r(o.filter(T=>T.id!==O))}catch(v){console.error("Erreur lors de la suppression:",v),alert("Erreur lors de la suppression de l'utilisateur")}},b=o.filter(O=>{const v=O.full_name?.toLowerCase().includes(c.toLowerCase())||O.email?.toLowerCase().includes(c.toLowerCase())||O.phone?.includes(c),T=h===""||h==="active"&&O.is_active||h==="inactive"&&!O.is_active;return v&&T}),_=o.length,j=o.filter(O=>O.is_active).length,S=o.filter(O=>{const v=new Date(O.created_at),T=new Date;return v.getMonth()===T.getMonth()&&v.getFullYear()===T.getFullYear()}).length;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),t.jsx("p",{className:"text-gray-600",children:"Grer tous les utilisateurs de la plateforme"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-user-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Utilisateurs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-user-check-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs Actifs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx("i",{className:"ri-user-add-line text-xl text-purple-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nouveaux ce Mois"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher par nom, email ou tlphone...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:c,onChange:O=>d(O.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:h,onChange:O=>m(O.target.value),children:[t.jsx("option",{value:"",children:"Tous les statuts"}),t.jsx("option",{value:"active",children:"Actifs"}),t.jsx("option",{value:"inactive",children:"Inactifs"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adresse"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'Inscription"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(O=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-orange-600"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.full_name||"Non spcifi"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",O.id.substring(0,8),"..."]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:O.email||"Non spcifi"}),t.jsx("div",{className:"text-sm text-gray-500",children:O.phone||"Non spcifi"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 max-w-xs truncate",children:O.address||"Non spcifie"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:O.is_active?"Actif":"Inactif"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(O.created_at).toLocaleDateString("fr-FR")}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[t.jsx("button",{onClick:()=>x(O.id,O.is_active),className:`px-3 py-1 rounded text-xs font-medium ${O.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:O.is_active?"Dsactiver":"Activer"}),t.jsx("button",{onClick:()=>p(O.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-xs font-medium hover:bg-red-200",children:"Supprimer"})]})]},O.id))})]})}),b.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-user-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun utilisateur trouv"}),t.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur ne correspond  vos critres de recherche."})]})]})]})}function nw(){const[o,r]=w.useState([]),[n,i]=w.useState(!0),[c,d]=w.useState(""),[h,m]=w.useState("");w.useEffect(()=>{g();const v=setInterval(g,1e4);return()=>clearInterval(v)},[]);const g=async()=>{try{const{data:v,error:T}=await W.from("drivers").select("*").order("created_at",{ascending:!1});if(T)throw T;r(v||[]),i(!1)}catch(v){console.error("   :",v),i(!1)}},x=async(v,T)=>{try{const{error:A}=await W.from("drivers").update({status:T}).eq("id",v);if(A)throw A;r(o.map(C=>C.id===v?{...C,status:T}:C)),alert("    ")}catch(A){console.error("  :",A),alert("    ")}},p=async v=>{if(confirm("      "))try{const{error:T}=await W.from("drivers").delete().eq("id",v);if(T)throw T;r(o.filter(A=>A.id!==v)),alert("   ")}catch(T){console.error("  :",T),alert("    ")}},b=v=>{const A={pending:{label:" ",color:"bg-yellow-100 text-yellow-700"},approved:{label:"",color:"bg-green-100 text-green-700"},rejected:{label:"",color:"bg-red-100 text-red-700"}}[v]||{label:v,color:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${A.color}`,children:A.label})},_=o.filter(v=>{const T=v.name?.toLowerCase().includes(c.toLowerCase())||v.phone?.includes(c)||v.city?.toLowerCase().includes(c.toLowerCase())||v.license_plate?.toLowerCase().includes(c.toLowerCase()),A=!h||v.status===h;return T&&A}),j=o.length,S=o.filter(v=>v.status==="approved").length,O=o.filter(v=>v.status==="pending").length;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"     "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-2xl text-blue-600"})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-600"})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-2xl text-yellow-600"})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O})]})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:c,onChange:v=>d(v.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("select",{className:"w-full px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:h,onChange:v=>m(v.target.value),children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:"pending",children:" "}),t.jsx("option",{value:"approved",children:""}),t.jsx("option",{value:"rejected",children:""})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(v=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold",children:v.name?.charAt(0)})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),t.jsx("div",{className:"text-sm text-gray-500",children:v.is_available?t.jsx("span",{className:"text-green-600",children:""}):t.jsx("span",{className:"text-gray-500",children:" "})})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:v.phone}),t.jsx("div",{className:"text-sm text-gray-500",children:v.national_id})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm text-gray-900",children:[v.vehicle_type==="motorcycle"&&" ",v.vehicle_type==="car"&&"",v.vehicle_type==="bicycle"&&" "]}),t.jsx("div",{className:"text-sm text-gray-500",children:v.license_plate})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.city}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.rating?.toFixed(1)||"5.0"})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm text-gray-900",children:[v.completed_deliveries||0," "]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[" ",v.total_deliveries||0," "]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(v.status)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex gap-2",children:[v.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>x(v.id,"approved"),className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-medium hover:bg-green-200 cursor-pointer whitespace-nowrap",children:""}),t.jsx("button",{onClick:()=>x(v.id,"rejected"),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-medium hover:bg-red-200 cursor-pointer whitespace-nowrap",children:""})]}),v.status==="approved"&&t.jsx("button",{onClick:()=>x(v.id,"rejected"),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-medium hover:bg-red-200 cursor-pointer whitespace-nowrap",children:""}),v.status==="rejected"&&t.jsx("button",{onClick:()=>x(v.id,"approved"),className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-medium hover:bg-green-200 cursor-pointer whitespace-nowrap",children:""}),t.jsx("button",{onClick:()=>p(v.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-medium hover:bg-red-200 cursor-pointer whitespace-nowrap",children:""})]})})]},v.id))})]})}),_.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-truck-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-500",children:"       "})]})]})]})}function iw(){const[o,r]=w.useState({totalRevenue:0,totalOrders:0,totalUsers:0,totalRestaurants:0,monthlyRevenue:[],ordersByStatus:{},topRestaurants:[],userGrowth:[]}),[n,i]=w.useState(!0),[c,d]=w.useState("month");w.useEffect(()=>{h()},[c]);const h=async()=>{try{i(!0),r({totalRevenue:45678.9,totalOrders:1234,totalUsers:567,totalRestaurants:89,monthlyRevenue:[12e3,15e3,18e3,22e3,25e3,28e3,32e3,35e3,38e3,42e3,45e3,48e3],ordersByStatus:{livree:856,en_preparation:123,en_livraison:89,annulee:166},topRestaurants:[{name:"Pizzeria Roma",orders:234,revenue:12450},{name:"Burger House",orders:189,revenue:9876.5},{name:"Sushi Tokyo",orders:156,revenue:8765.25},{name:"Caf de Paris",orders:134,revenue:6543.75},{name:"Taco Loco",orders:98,revenue:4321}],userGrowth:[45,52,48,61,55,67,73,69,76,82,89,95]})}catch(m){console.error("Erreur lors du chargement des analyses:",m)}finally{i(!1)}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analyses et Rapports"}),t.jsx("p",{className:"text-gray-600",children:"Aperu des performances de la plateforme"})]}),t.jsx("div",{children:t.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:c,onChange:m=>d(m.target.value),children:[t.jsx("option",{value:"week",children:"Cette Semaine"}),t.jsx("option",{value:"month",children:"Ce Mois"}),t.jsx("option",{value:"quarter",children:"Ce Trimestre"}),t.jsx("option",{value:"year",children:"Cette Anne"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus Total"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[o.totalRevenue.toFixed(2)," dh"]}),t.jsx("p",{className:"text-sm text-green-600",children:"+12.5% vs mois dernier"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-shopping-bag-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Commandes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalOrders}),t.jsx("p",{className:"text-sm text-blue-600",children:"+8.3% vs mois dernier"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx("i",{className:"ri-user-line text-xl text-purple-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs Actifs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalUsers}),t.jsx("p",{className:"text-sm text-purple-600",children:"+15.7% vs mois dernier"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx("i",{className:"ri-restaurant-line text-xl text-orange-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Restaurants Partenaires"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalRestaurants}),t.jsx("p",{className:"text-sm text-orange-600",children:"+5.2% vs mois dernier"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenus Mensuels"}),t.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:o.monthlyRevenue.map((m,g)=>t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"bg-orange-500 rounded-t w-8",style:{height:`${m/Math.max(...o.monthlyRevenue)*200}px`}}),t.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(2024,g).toLocaleDateString("fr-FR",{month:"short"})})]},g))})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Commandes par Statut"}),t.jsx("div",{className:"space-y-4",children:Object.entries(o.ordersByStatus).map(([m,g])=>{const x=Object.values(o.ordersByStatus).reduce((j,S)=>j+S,0),p=g/x*100,b={livree:"bg-green-500",en_preparation:"bg-orange-500",en_livraison:"bg-blue-500",annulee:"bg-red-500"},_={livree:"Livres",en_preparation:"En Prparation",en_livraison:"En Livraison",annulee:"Annules"};return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${b[m]} mr-3`}),t.jsx("span",{className:"text-sm text-gray-700",children:_[m]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:t.jsx("div",{className:`h-2 rounded-full ${b[m]}`,style:{width:`${p}%`}})}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})]})]},m)})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Restaurants"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Restaurant"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Commandes"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Revenus"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Performance"})]})}),t.jsx("tbody",{children:o.topRestaurants.map((m,g)=>t.jsxs("tr",{className:"border-b border-gray-100",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:t.jsxs("span",{className:"text-sm font-medium text-orange-600",children:["#",g+1]})}),t.jsx("span",{className:"font-medium text-gray-900",children:m.name})]})}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:m.orders}),t.jsxs("td",{className:"py-3 px-4 text-gray-700",children:[m.revenue.toFixed(2)," dh"]}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:t.jsx("div",{className:"h-2 bg-orange-500 rounded-full",style:{width:`${m.orders/o.topRestaurants[0].orders*100}%`}})}),t.jsxs("span",{className:"text-sm text-gray-600",children:[(m.orders/o.topRestaurants[0].orders*100).toFixed(0),"%"]})]})})]},g))})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Croissance des Utilisateurs"}),t.jsx("div",{className:"h-32 flex items-end justify-between space-x-1",children:o.userGrowth.map((m,g)=>t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"bg-blue-500 rounded-t w-6",style:{height:`${m/Math.max(...o.userGrowth)*100}px`}}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:g+1})]},g))}),t.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Nouveaux utilisateurs par semaine (12 dernires semaines)"})]})]})}function lw(){const o=Fe(),[r,n]=w.useState(null),[i,c]=w.useState(!0),[d,h]=w.useState("dashboard"),[m,g]=w.useState(!0);w.useEffect(()=>{x()},[]);const x=()=>{try{const b=localStorage.getItem("adminSession");if(!b){o("/admin-login",{replace:!0});return}const _=JSON.parse(b);if(!_.isLoggedIn||!_.email){o("/admin-login",{replace:!0});return}n(_),c(!1)}catch(b){console.error("Erreur de vrification:",b),o("/admin-login",{replace:!0})}},p=()=>{switch(d){case"dashboard":return t.jsx(Fg,{});case"restaurants":return t.jsx(tw,{});case"products":return t.jsx(sw,{});case"orders":return t.jsx(aw,{});case"users":return t.jsx(rw,{});case"drivers":return t.jsx(nw,{});case"analytics":return t.jsx(iw,{});default:return t.jsx(Fg,{})}};return i?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(WN,{user:r,onToggleSidebar:()=>g(!m)}),t.jsxs("div",{className:"flex",children:[t.jsx(ew,{activeTab:d,onTabChange:h,isOpen:m}),t.jsx("main",{className:`flex-1 transition-all duration-300 ${m?"lg:ml-64":"ml-0"}`,children:t.jsx("div",{className:"p-6",children:p()})})]})]}):null}const ow=()=>{const o=Fe(),[r,n]=w.useState({email:"",password:""}),[i,c]=w.useState(!1),[d,h]=w.useState(""),m=x=>{const{name:p,value:b}=x.target;n(_=>({..._,[p]:b}))},g=async x=>{x.preventDefault(),h(""),c(!0);try{const p=r.email.trim().toLowerCase(),{data:b,error:_}=await W.from("admins").select("*").eq("email",p).eq("is_active",!0).single();if(_||!b)throw new Error("Email introuvable ou compte inactif");if(r.password!==b.password)throw new Error("Mot de passe incorrect");localStorage.setItem("adminSession",JSON.stringify({id:b.id,name:b.name,email:b.email,role:b.role,isLoggedIn:!0})),await W.from("admins").update({last_login:new Date().toISOString()}).eq("id",b.id),o("/admin",{replace:!0})}catch(p){h(p instanceof Error?p.message:"Une erreur s'est produite lors de la connexion"),c(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-admin-line text-2xl text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connexion Administrateur"}),t.jsx("p",{className:"text-gray-600",children:"Entrez vos identifiants pour accder au panneau d'administration"})]}),d&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("i",{className:"ri-error-warning-line text-red-500 mr-2"}),t.jsx("p",{className:"text-red-700 text-sm",children:d})]})}),t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse Email"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:m,className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"admin@fooddelivery.com",required:!0,dir:"ltr"}),t.jsx("i",{className:"ri-mail-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de Passe"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:m,className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Entrez votre mot de passe",required:!0}),t.jsx("i",{className:"ri-lock-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t.jsx("button",{type:"submit",disabled:i,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center whitespace-nowrap",children:i?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Connexion en cours..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-login-box-line mr-2"}),"Se Connecter"]})})]}),t.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Comptes de test :"}),t.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[t.jsx("p",{children:" admin@fooddelivery.com"}),t.jsx("p",{children:" ahmed@fooddelivery.com"}),t.jsx("p",{children:" fatima@fooddelivery.com"}),t.jsx("p",{children:" mohammed@fooddelivery.com"}),t.jsx("p",{children:" nora@fooddelivery.com"}),t.jsx("p",{children:" abdullah@fooddelivery.com"}),t.jsx("p",{className:"font-medium mt-2",children:"Mot de passe : admin123456"})]})]})]})})};function cw({restaurant:o}){const[r,n]=w.useState(!1),i=Fe(),c=async()=>{try{await W.auth.signOut(),i("/")}catch(d){console.error("   :",d)}};return t.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[t.jsx("i",{className:"ri-notification-3-line text-xl"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:o.image||"https://readdy.ai/api/search-image?query=modern%20restaurant%20interior%20with%20warm%20lighting%20and%20elegant%20dining%20tables%2C%20professional%20food%20photography%20style%2C%20clean%20and%20inviting%20atmosphere&width=40&height=40&seq=restaurant-avatar&orientation=squarish",alt:o.name,className:"w-10 h-10 rounded-full object-cover"}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:o.name}),t.jsx("p",{className:"text-xs text-gray-500",children:o.cuisine_type})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>n(!r),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx("i",{className:"ri-more-2-line text-xl"})}),r&&t.jsxs("div",{className:"absolute left-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("button",{onClick:()=>i("/"),className:"w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3",children:[t.jsx("i",{className:"ri-home-line"})," "]}),t.jsxs("button",{onClick:c,className:"w-full text-right px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-3",children:[t.jsx("i",{className:"ri-logout-circle-line"})," "]})]})]})]})]})})}function dw({activeTab:o,setActiveTab:r}){const n=[{id:"dashboard",label:" ",icon:"ri-dashboard-3-line"},{id:"menu",label:" ",icon:"ri-restaurant-line"},{id:"orders",label:" ",icon:"ri-shopping-bag-3-line"},{id:"profile",label:" ",icon:"ri-store-2-line"},{id:"analytics",label:"",icon:"ri-line-chart-line"},{id:"settings",label:"",icon:"ri-settings-3-line"}];return t.jsxs("div",{className:"w-64 bg-white border-l border-gray-200 h-screen",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})}),t.jsx("nav",{className:"p-4",children:t.jsx("ul",{className:"space-y-2",children:n.map(i=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>r(i.id),className:`w-full text-right px-4 py-3 rounded-lg transition-all duration-200 flex items-center gap-3 ${o===i.id?"bg-orange-50 text-orange-600 border-l-4 border-orange-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[t.jsx("i",{className:`${i.icon} text-xl`}),t.jsx("span",{className:"font-medium",children:i.label})]})},i.id))})}),t.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("i",{className:"ri-customer-service-2-line text-orange-600"}),t.jsx("span",{className:"text-sm font-semibold text-orange-800",children:" "})]}),t.jsx("p",{className:"text-xs text-orange-700 mb-3",children:"   24/7 "}),t.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white text-sm py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:" "})]})})]})}function Ig({restaurant:o}){const[r,n]=w.useState({totalOrders:0,todayOrders:0,totalRevenue:0,monthlyRevenue:0,totalProducts:0,averageRating:0}),[i,c]=w.useState([]),[d,h]=w.useState(!0);w.useEffect(()=>{m()},[o.id]);const m=async()=>{try{n({totalOrders:156,todayOrders:12,totalRevenue:45600,monthlyRevenue:12800,totalProducts:24,averageRating:4.5}),c([{id:"1",customer_name:" ",items:"   2  ",total:85,status:"",created_at:new Date().toISOString()},{id:"2",customer_name:" ",items:"   ",total:65,status:" ",created_at:new Date(Date.now()-1800*1e3).toISOString()},{id:"3",customer_name:" ",items:"   ",total:45,status:" ",created_at:new Date(Date.now()-3600*1e3).toISOString()}])}catch(x){console.error("     :",x)}finally{h(!1)}},g=x=>{switch(x){case"":return"bg-blue-100 text-blue-800";case" ":return"bg-yellow-100 text-yellow-800";case" ":return"bg-green-100 text-green-800";case" ":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[t.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["     ",o.name]}),t.jsx("p",{className:"text-orange-100",children:"      "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalOrders})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-3-line text-2xl text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.todayOrders})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-todo-line text-2xl text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.monthlyRevenue.toLocaleString()," dh"]})]}),t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-orange-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.totalRevenue.toLocaleString()," dh"]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-line-chart-line text-2xl text-purple-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalProducts})]}),t.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-2xl text-indigo-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.averageRating}),t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((x,p)=>t.jsx("i",{className:`ri-star-${p<Math.floor(r.averageRating)?"fill":"line"} text-sm`},p))})]})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-star-line text-2xl text-yellow-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 font-medium text-sm",children:" "})]})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:i.map(x=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:x.customer_name}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(x.status)}`,children:x.status})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:x.items}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.created_at).toLocaleString("ar-SA")})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[x.total," dh"]}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium",children:" "})]})]},x.id))})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("button",{className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border border-orange-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-add-circle-line text-2xl text-orange-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-orange-800",children:"  "})]}),t.jsxs("button",{className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-eye-line text-2xl text-blue-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-blue-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-settings-3-line text-2xl text-green-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-green-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-bar-chart-line text-2xl text-purple-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-purple-800",children:" "})]})]})]})]})}const ml=[""," ","","","","","",""],uw=({isOpen:o,onClose:r,onSave:n,product:i})=>{const[c,d]=w.useState({name:"",price:"",category:ml[0],description:"",image_url:"",is_available:!0});w.useEffect(()=>{d(i?{name:i.name,price:i.price.toString(),category:i.category,description:i.description,image_url:i.image_url,is_available:i.is_available}:{name:"",price:"",category:ml[0],description:"",image_url:"",is_available:!0})},[i]);const h=m=>{if(m.preventDefault(),!c.name||!c.price){alert("   ");return}n({name:c.name,price:parseFloat(c.price),category:c.category,description:c.description,image_url:c.image_url,is_available:c.is_available})};return o?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:i?" ":"  "}),t.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:t.jsx("i",{className:"ri-close-line text-xl"})})]}),t.jsxs("form",{onSubmit:h,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("input",{type:"text",value:c.name,onChange:m=>d({...c,name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" () *"}),t.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:m=>d({...c,price:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("select",{value:c.category,onChange:m=>d({...c,category:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 pr-8",children:ml.map(m=>t.jsx("option",{value:m,children:m},m))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{value:c.description,onChange:m=>d({...c,description:m.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),t.jsx("input",{type:"url",value:c.image_url,onChange:m=>d({...c,image_url:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://example.com/image.jpg"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        "})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"is_available",checked:c.is_available,onChange:m=>d({...c,is_available:m.target.checked}),className:"mr-2"}),t.jsx("label",{htmlFor:"is_available",className:"text-sm text-gray-700",children:" "})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 whitespace-nowrap",children:""}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 whitespace-nowrap",children:i?"":""})]})]})]})}):null};function hw(){const[o,r]=w.useState([]),[n,i]=w.useState(!0),[c,d]=w.useState(!1),[h,m]=w.useState(null),[g,x]=w.useState(""),[p,b]=w.useState(""),_=async()=>{try{const{data:{session:T}}=await W.auth.getSession();if(!T)return;const A=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products",{method:"GET",headers:{Authorization:`Bearer ${T.access_token}`,"Content-Type":"application/json"}}),C=await A.json();A.ok?r(C.products||[]):console.error("   :",C.error)}catch(T){console.error("   :",T)}finally{i(!1)}};w.useEffect(()=>{_()},[]);const j=async T=>{try{const{data:{session:A}}=await W.auth.getSession();if(!A)return;const C=h?"update":"add",E=h?{...T,id:h.id}:T,z=await fetch(`https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products?action=${C}`,{method:"POST",headers:{Authorization:`Bearer ${A.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(E)}),D=await z.json();z.ok?(r(h?o.map(k=>k.id===h.id?D.product:k):[D.product,...o]),d(!1),m(null)):(console.error("   :",D.error),alert("    "))}catch(A){console.error("   :",A),alert("    ")}},S=async T=>{if(confirm("      "))try{const{data:{session:A}}=await W.auth.getSession();if(!A)return;const C=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products?action=delete",{method:"POST",headers:{Authorization:`Bearer ${A.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({id:T})}),E=await C.json();C.ok?r(o.filter(z=>z.id!==T)):(console.error("   :",E.error),alert("    "))}catch(A){console.error("   :",A),alert("    ")}},O=async(T,A)=>{try{const{data:{session:C}}=await W.auth.getSession();if(!C)return;const E=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products?action=toggle-availability",{method:"POST",headers:{Authorization:`Bearer ${C.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({id:T,is_available:!A})}),z=await E.json();E.ok?r(o.map(D=>D.id===T?{...D,is_available:!A}:D)):(console.error("    :",z.error),alert("     "))}catch(C){console.error("    :",C),alert("     ")}},v=o.filter(T=>{const A=T.name.toLowerCase().includes(g.toLowerCase())||T.description.toLowerCase().includes(g.toLowerCase()),C=p===""||T.category===p;return A&&C});return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("button",{onClick:()=>d(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 flex items-center gap-2 whitespace-nowrap",children:[t.jsx("i",{className:"ri-add-line"}),"  "]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-blue-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.filter(T=>T.is_available).length})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-check-line text-green-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.filter(T=>!T.is_available).length})]}),t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-close-line text-red-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:new Set(o.map(T=>T.category)).size})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-list-check text-purple-600 text-xl"})})]})})]}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"  ...",value:g,onChange:T=>x(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})}),t.jsx("div",{className:"md:w-48",children:t.jsxs("select",{value:p,onChange:T=>b(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 pr-8",children:[t.jsx("option",{value:"",children:" "}),ml.map(T=>t.jsx("option",{value:T,children:T},T))]})})]})}),t.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:v.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600 mb-4",children:"    "}),t.jsx("button",{onClick:()=>d(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 whitespace-nowrap",children:"  "})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(T=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("img",{src:T.image_url,alt:T.name,className:"w-12 h-12 rounded-lg object-cover object-top"}),t.jsxs("div",{className:"mr-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),t.jsxs("div",{className:"text-sm text-gray-500",children:[T.description.substring(0,50),T.description.length>50&&"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:T.category})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.price," "]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.is_available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.is_available?"":" "})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{m(T),d(!0)},className:"text-blue-600 hover:text-blue-900",title:"",children:t.jsx("i",{className:"ri-edit-line"})}),t.jsx("button",{onClick:()=>O(T.id,T.is_available),className:`${T.is_available?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:T.is_available?"":"",children:t.jsx("i",{className:T.is_available?"ri-eye-off-line":"ri-eye-line"})}),t.jsx("button",{onClick:()=>S(T.id),className:"text-red-600 hover:text-red-900",title:"",children:t.jsx("i",{className:"ri-delete-bin-line"})})]})})]},T.id))})]})})}),t.jsx(uw,{isOpen:c,onClose:()=>{d(!1),m(null)},onSave:j,product:h})]})}function fw(){const[o,r]=w.useState([]),[n,i]=w.useState([]),[c,d]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState(null),[p,b]=w.useState(!0);w.useEffect(()=>{_()},[]),w.useEffect(()=>{if(g){j();const E=setInterval(j,1e4);return()=>clearInterval(E)}},[g]),w.useEffect(()=>{O()},[o,c,h]);const _=async()=>{try{const{data:{user:E}}=await W.auth.getUser();if(!E){b(!1);return}const{data:z,error:D}=await W.from("restaurants").select("*").eq("owner_id",E.id).single();if(D){console.error("    :",D),b(!1);return}x(z),b(!1)}catch(E){console.error("    :",E),b(!1)}},j=()=>{try{const E=localStorage.getItem("orders");if(!E){r([]);return}const D=JSON.parse(E).filter(X=>X.items.some(se=>se.restaurant_id===g?.id||X.restaurant===g?.name));D.sort((X,se)=>new Date(se.createdAt).getTime()-new Date(X.createdAt).getTime());const k=o.length;D.length>k&&k>0&&S(),r(D)}catch(E){console.error("   :",E),r([])}},S=()=>{Notification.permission==="granted"?new Notification(" !",{body:"     ",icon:"/favicon.ico"}):Notification.permission!=="denied"&&Notification.requestPermission().then(E=>{E==="granted"&&new Notification(" !",{body:"     ",icon:"/favicon.ico"})});try{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})}catch{console.log("    ")}},O=()=>{let E=o;c&&(E=E.filter(z=>z.id.toLowerCase().includes(c.toLowerCase())||z.deliveryInfo.name.toLowerCase().includes(c.toLowerCase())||z.deliveryInfo.phone.includes(c))),h&&(E=E.filter(z=>z.status===h)),i(E)},v=(E,z)=>{try{const D=localStorage.getItem("orders");if(!D)return;const k=JSON.parse(D),K=k.findIndex(X=>X.id===E);if(K!==-1){k[K].status=z,localStorage.setItem("orders",JSON.stringify(k));const X=localStorage.getItem("currentOrder");if(X){const se=JSON.parse(X);se.id===E&&(se.status=z,localStorage.setItem("currentOrder",JSON.stringify(se)))}j()}}catch(D){console.error("    :",D)}},T=E=>{const z={pending:{text:" ",color:"bg-yellow-100 text-yellow-800",icon:"ri-time-line"},confirmed:{text:"",color:"bg-blue-100 text-blue-800",icon:"ri-check-line"},preparing:{text:" ",color:"bg-orange-100 text-orange-800",icon:"ri-restaurant-line"},ready:{text:" ",color:"bg-green-100 text-green-800",icon:"ri-check-circle-line"},on_the_way:{text:" ",color:"bg-purple-100 text-purple-800",icon:"ri-truck-line"},delivered:{text:" ",color:"bg-gray-100 text-gray-800",icon:"ri-check-double-line"},cancelled:{text:"",color:"bg-red-100 text-red-800",icon:"ri-close-line"}};return z[E]||z.pending},C={total:o.length,pending:o.filter(z=>z.status==="pending"||z.status==="confirmed").length,preparing:o.filter(z=>z.status==="preparing").length,ready:o.filter(z=>z.status==="ready").length,delivered:o.filter(z=>z.status==="delivered").length,revenue:o.reduce((z,D)=>z+D.total,0)};return p?t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):g?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsxs("p",{className:"text-gray-600",children:["     ",g.name]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.total})]}),t.jsx("i",{className:"ri-shopping-bag-3-line text-2xl text-blue-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:C.pending})]}),t.jsx("i",{className:"ri-time-line text-2xl text-yellow-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:C.preparing})]}),t.jsx("i",{className:"ri-restaurant-line text-2xl text-orange-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.ready})]}),t.jsx("i",{className:"ri-check-circle-line text-2xl text-green-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-600",children:C.delivered})]}),t.jsx("i",{className:"ri-truck-line text-2xl text-gray-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[C.revenue.toFixed(2)," DH"]})]}),t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-500 w-8 h-8 flex items-center justify-center"})]})})]}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"     ...",value:c,onChange:E=>d(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"}),t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"w-full px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:"pending",children:" "}),t.jsx("option",{value:"confirmed",children:""}),t.jsx("option",{value:"preparing",children:" "}),t.jsx("option",{value:"ready",children:" "}),t.jsx("option",{value:"delivered",children:" "}),t.jsx("option",{value:"cancelled",children:""})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[" (",n.length,")"]})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-shopping-bag-line text-8xl text-gray-300 mb-6"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-500",children:o.length===0?"     ":"     "})]}):t.jsx("div",{className:"space-y-4",children:n.map(E=>{const z=T(E.status);return t.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[" #",E.id.split("-")[1]]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${z.color} flex items-center gap-1`,children:[t.jsx("i",{className:z.icon}),z.text]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",E.deliveryInfo.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",E.deliveryInfo.phone]}),t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",E.deliveryInfo.address,", ",E.deliveryInfo.city]})]}),t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," ",new Date(E.createdAt).toLocaleString("ar-SA")]}),t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," ",new Date(E.estimatedDelivery).toLocaleString("ar-SA")]}),t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," ",E.paymentMethod==="cash"?"  ":" "]})]})]}),E.deliveryInfo.notes&&t.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:":"})," ",E.deliveryInfo.notes]})})]}),t.jsxs("div",{className:"text-left ml-6",children:[t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[E.total.toFixed(2)," DH"]}),t.jsx("p",{className:"text-sm text-gray-500",children:" "})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[t.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:" :"}),t.jsxs("div",{className:"space-y-2",children:[E.items.map((D,k)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{children:[D.name,"  ",D.quantity]}),t.jsxs("span",{className:"font-medium",children:[(D.price*D.quantity).toFixed(2)," DH"]})]},k)),t.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:" :"}),t.jsxs("span",{children:[E.subtotal.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:" :"}),t.jsxs("span",{children:[E.deliveryFee.toFixed(2)," DH"]})]}),E.discount&&E.discount>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[t.jsx("span",{children:":"}),t.jsxs("span",{children:["-",E.discount.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[t.jsx("span",{children:" :"}),t.jsxs("span",{children:[E.total.toFixed(2)," DH"]})]})]})]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[E.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>v(E.id,"confirmed"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),t.jsx("button",{onClick:()=>v(E.id,"cancelled"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]}),E.status==="confirmed"&&t.jsx("button",{onClick:()=>v(E.id,"preparing"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),E.status==="preparing"&&t.jsx("button",{onClick:()=>v(E.id,"ready"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),E.status==="ready"&&t.jsx("button",{onClick:()=>v(E.id,"on_the_way"),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),E.status==="on_the_way"&&t.jsx("button",{onClick:()=>v(E.id,"delivered"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})})]},E.id)})})})]})]}):t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-restaurant-line text-8xl text-gray-300 mb-6"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"    "}),t.jsx("p",{className:"text-gray-500",children:"        "})]})})}function mw({restaurant:o,setRestaurant:r}){const[n,i]=w.useState(!1),[c,d]=w.useState({name:o.name||"",description:o.description||"",phone:o.phone||"",address:o.address||"",city:o.city||"",cuisine_type:o.cuisine_type||"",delivery_time:o.delivery_time||"",delivery_fee:o.delivery_fee||0,min_order:o.min_order||0,business_license:o.business_license||"",owner_name:o.owner_name||"",owner_email:o.owner_email||"",owner_phone:o.owner_phone||""}),h=["","","","","",""," ","",""],m=p=>{const{name:b,value:_}=p.target;d(j=>({...j,[b]:_}))},g=async()=>{try{const p={...o,...c};r(p),i(!1),alert("   !")}catch(p){console.error("   :",p),alert("    ")}},x=()=>{d({name:o.name||"",description:o.description||"",phone:o.phone||"",address:o.address||"",city:o.city||"",cuisine_type:o.cuisine_type||"",delivery_time:o.delivery_time||"",delivery_fee:o.delivery_fee||0,min_order:o.min_order||0,business_license:o.business_license||"",owner_name:o.owner_name||"",owner_email:o.owner_email||"",owner_phone:o.owner_phone||""}),i(!1)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),n?t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:x,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-lg font-semibold transition-colors",children:""}),t.jsxs("button",{onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-save-line"})," "]})]}):t.jsxs("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-edit-line"})," "]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"  "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("input",{type:"text",name:"name",value:c.name,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("select",{name:"cuisine_type",value:c.cuisine_type,onChange:m,className:"w-full px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:h.map(p=>t.jsx("option",{value:p,children:p},p))}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.cuisine_type})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.phone})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n?t.jsx("input",{type:"text",name:"city",value:c.city,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.city})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n?t.jsx("input",{type:"text",name:"address",value:c.address,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.address})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("textarea",{name:"description",value:c.description,onChange:m,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 resize-none",placeholder:"    ..."}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg min-h-[100px]",children:o.description||"    "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),n?t.jsx("input",{type:"text",name:"delivery_time",value:c.delivery_time,onChange:m,placeholder:": 30-45 ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.delivery_time})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (dh)"}),n?t.jsx("input",{type:"number",name:"delivery_fee",value:c.delivery_fee,onChange:m,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsxs("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:[o.delivery_fee," dh"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (dh)"}),n?t.jsx("input",{type:"number",name:"min_order",value:c.min_order,onChange:m,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsxs("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:[o.min_order," dh"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("input",{type:"text",name:"owner_name",value:c.owner_name,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.owner_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("p",{className:"text-gray-900 bg-gray-100 px-4 py-2 rounded-lg",children:o.owner_email}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),n?t.jsx("input",{type:"tel",name:"owner_phone",value:c.owner_phone,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.owner_phone})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),n?t.jsx("input",{type:"text",name:"business_license",value:c.business_license,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.business_license||" "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:new Date(o.created_at).toLocaleDateString("ar-SA")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o.status==="approved"?"bg-green-100 text-green-800":o.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:o.status==="approved"?"":o.status==="pending"?" ":""})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl font-bold text-gray-900",children:o.rating||0}),t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((p,b)=>t.jsx("i",{className:`ri-star-${b<Math.floor(o.rating||0)?"fill":"line"} text-sm`},b))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:o.latitude&&o.longitude?`${o.latitude.toFixed(6)}, ${o.longitude.toFixed(6)}`:" "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("img",{src:o.image||"https://readdy.ai/api/search-image?query=modern%20restaurant%20interior%20with%20warm%20lighting%20and%20elegant%20dining%20tables%2C%20professional%20food%20photography%20style%2C%20clean%20and%20inviting%20atmosphere&width=200&height=150&seq=restaurant-profile&orientation=landscape",alt:o.name,className:"w-32 h-24 object-cover object-top rounded-lg border border-gray-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"  .       ."}),t.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:" "})]})]})]})]})}function gw({restaurant:o}){const[r,n]=w.useState("week"),[i,c]=w.useState({revenue:{total:15600,growth:12.5,data:[{date:"2024-01-01",amount:1200},{date:"2024-01-02",amount:1800},{date:"2024-01-03",amount:2200},{date:"2024-01-04",amount:1600},{date:"2024-01-05",amount:2400},{date:"2024-01-06",amount:3200},{date:"2024-01-07",amount:3200}]},orders:{total:156,growth:8.3,data:[{date:"2024-01-01",count:12},{date:"2024-01-02",count:18},{date:"2024-01-03",count:22},{date:"2024-01-04",count:16},{date:"2024-01-05",count:24},{date:"2024-01-06",count:32},{date:"2024-01-07",count:32}]},topProducts:[{name:" ",orders:45,revenue:2025},{name:" ",orders:32,revenue:2080},{name:" ",orders:28,revenue:980},{name:" ",orders:56,revenue:840},{name:" ",orders:78,revenue:624}],customerStats:{newCustomers:23,returningCustomers:67,averageOrderValue:85.5},peakHours:[{hour:"12:00",orders:15},{hour:"13:00",orders:22},{hour:"14:00",orders:18},{hour:"19:00",orders:25},{hour:"20:00",orders:28},{hour:"21:00",orders:20}]}),d=[{value:"week",label:" "},{value:"month",label:" "},{value:"quarter",label:" "},{value:"year",label:" "}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:r,onChange:h=>n(h.target.value),className:"px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:d.map(h=>t.jsx("option",{value:h.value,children:h.label},h.value))}),t.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-download-line"})," "]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"})}),t.jsxs("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${i.revenue.growth>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[i.revenue.growth>0?"+":"",i.revenue.growth,"%"]})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[i.revenue.total.toLocaleString()," dh"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-3-line text-2xl text-blue-600"})}),t.jsxs("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${i.orders.growth>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[i.orders.growth>0?"+":"",i.orders.growth,"%"]})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.orders.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-user-add-line text-2xl text-purple-600"})})}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.customerStats.newCustomers})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calculator-line text-2xl text-orange-600"})})}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"  "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[i.customerStats.averageOrderValue," dh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:i.revenue.data.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:new Date(h.date).toLocaleDateString("ar-SA",{weekday:"short"})}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${h.amount/Math.max(...i.revenue.data.map(g=>g.amount))*100}%`}})})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[h.amount," dh"]})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:i.orders.data.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:new Date(h.date).toLocaleDateString("ar-SA",{weekday:"short"})}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${h.count/Math.max(...i.orders.data.map(g=>g.count))*100}%`}})})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[h.count," "]})]},m))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"  "})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:i.topProducts.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsxs("span",{className:"text-sm font-bold text-orange-600",children:["#",m+1]})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:h.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[h.orders," "]})]})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[h.revenue," dh"]}),t.jsx("p",{className:"text-sm text-gray-500",children:" "})]})]},m))})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:i.peakHours.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:h.hour}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${h.orders/Math.max(...i.peakHours.map(g=>g.orders))*100}%`}})})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[h.orders," "]})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.customerStats.newCustomers})]}),t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-add-line text-2xl text-green-600"})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.customerStats.returningCustomers})]}),t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-heart-line text-2xl text-blue-600"})})]}),t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"  "}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Math.round(i.customerStats.returningCustomers/(i.customerStats.newCustomers+i.customerStats.returningCustomers)*100),"%"]})]}),t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${i.customerStats.returningCustomers/(i.customerStats.newCustomers+i.customerStats.returningCustomers)*100}%`}})})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("button",{className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-file-chart-line text-2xl text-blue-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-blue-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-pie-chart-line text-2xl text-green-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-green-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-user-line text-2xl text-purple-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-purple-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border border-orange-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-time-line text-2xl text-orange-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-orange-800",children:" "})]})]})]})]})}function xw({restaurant:o,setRestaurant:r}){const[n,i]=w.useState("general"),[c,d]=w.useState({general:{isOpen:!0,autoAcceptOrders:!1,maxOrdersPerHour:20,preparationTime:30,enableNotifications:!0},hours:{monday:{open:"09:00",close:"23:00",closed:!1},tuesday:{open:"09:00",close:"23:00",closed:!1},wednesday:{open:"09:00",close:"23:00",closed:!1},thursday:{open:"09:00",close:"23:00",closed:!1},friday:{open:"09:00",close:"23:00",closed:!1},saturday:{open:"09:00",close:"23:00",closed:!1},sunday:{open:"09:00",close:"23:00",closed:!1}},notifications:{newOrder:!0,orderCancellation:!0,lowStock:!0,dailyReport:!0,weeklyReport:!1,customerReview:!0},payment:{cashOnDelivery:!0,creditCard:!0,bankTransfer:!1,digitalWallet:!0}}),h=[{id:"general",label:" ",icon:"ri-settings-3-line"},{id:"hours",label:" ",icon:"ri-time-line"},{id:"notifications",label:"",icon:"ri-notification-3-line"},{id:"payment",label:" ",icon:"ri-money-dollar-circle-line"}],m=[{key:"monday",label:""},{key:"tuesday",label:""},{key:"wednesday",label:""},{key:"thursday",label:""},{key:"friday",label:""},{key:"saturday",label:""},{key:"sunday",label:""}],g=()=>{alert("   !")},x=()=>{d(v=>({...v,general:{...v.general,isOpen:!v.general.isOpen}}))},p=(v,T,A)=>{d(C=>({...C,hours:{...C.hours,[v]:{...C.hours[v],[T]:A}}}))},b=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),t.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.general.isOpen?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.general.isOpen?"translate-x-6":"translate-x-1"}`})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,general:{...v.general,autoAcceptOrders:!v.general.autoAcceptOrders}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.general.autoAcceptOrders?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.general.autoAcceptOrders?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"    "}),t.jsx("input",{type:"number",value:c.general.maxOrdersPerHour,onChange:v=>d(T=>({...T,general:{...T.general,maxOrdersPerHour:parseInt(v.target.value)}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",min:"1",max:"100"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   ()"}),t.jsx("input",{type:"number",value:c.general.preparationTime,onChange:v=>d(T=>({...T,general:{...T.general,preparationTime:parseInt(v.target.value)}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",min:"5",max:"120"})]})]})]})]}),_=()=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:m.map(v=>t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"w-20",children:t.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.label})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:!c.hours[v.key].closed,onChange:T=>p(v.key,"closed",!T.target.checked),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("span",{className:"text-sm text-gray-600",children:""})]}),!c.hours[v.key].closed&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:":"}),t.jsx("input",{type:"time",value:c.hours[v.key].open,onChange:T=>p(v.key,"open",T.target.value),className:"px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:":"}),t.jsx("input",{type:"time",value:c.hours[v.key].close,onChange:T=>p(v.key,"close",T.target.value),className:"px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]})]}),c.hours[v.key].closed&&t.jsx("span",{className:"text-sm text-red-600 font-medium",children:""})]},v.key))})]}),j=()=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,newOrder:!v.notifications.newOrder}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.newOrder?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.newOrder?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,orderCancellation:!v.notifications.orderCancellation}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.orderCancellation?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.orderCancellation?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,customerReview:!v.notifications.customerReview}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.customerReview?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.customerReview?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,dailyReport:!v.notifications.dailyReport}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.dailyReport?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.dailyReport?"translate-x-6":"translate-x-1"}`})})]})]})]}),S=()=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"  "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"   "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,cashOnDelivery:!v.payment.cashOnDelivery}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.cashOnDelivery?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.cashOnDelivery?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-bank-card-line text-2xl text-blue-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,creditCard:!v.payment.creditCard}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.creditCard?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.creditCard?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-smartphone-line text-2xl text-purple-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,digitalWallet:!v.payment.digitalWallet}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.digitalWallet?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.digitalWallet?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-bank-line text-2xl text-orange-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,bankTransfer:!v.payment.bankTransfer}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.bankTransfer?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.bankTransfer?"translate-x-6":"translate-x-1"}`})})]})]})]}),O=()=>{switch(n){case"general":return b();case"hours":return _();case"notifications":return j();case"payment":return S();default:return b()}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),t.jsxs("button",{onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-save-line"}),"  "]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex space-x-8 px-6",dir:"ltr",children:h.map(v=>t.jsxs("button",{onClick:()=>i(v.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${n===v.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx("i",{className:v.icon}),v.label]},v.id))})}),t.jsx("div",{className:"p-6",children:O()})]})]})}function pw(){const[o,r]=w.useState("dashboard"),[n,i]=w.useState(null),[c,d]=w.useState(!0),h=Fe();w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:{user:x}}=await W.auth.getUser();if(!x){h("/auth");return}const{data:p,error:b}=await W.from("restaurants").select("*").eq("owner_id",x.id).eq("status","approved").single();if(b||!p){console.error("    :",b);const{data:_}=await W.from("restaurants").select("*").eq("owner_id",x.id).eq("status","pending").single();if(_){h("/?message=pending");return}h("/restaurant-signup");return}i(p)}catch(x){console.error("     :",x),h("/auth")}finally{d(!1)}};if(c)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:" ..."})]})});if(!n)return null;const g=()=>{switch(o){case"dashboard":return t.jsx(Ig,{restaurant:n});case"menu":return t.jsx(hw,{restaurant:n});case"orders":return t.jsx(fw,{restaurant:n});case"profile":return t.jsx(mw,{restaurant:n,setRestaurant:i});case"analytics":return t.jsx(gw,{restaurant:n});case"settings":return t.jsx(xw,{restaurant:n,setRestaurant:i});default:return t.jsx(Ig,{restaurant:n})}};return t.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[t.jsx(dw,{activeTab:o,setActiveTab:r}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx(cw,{restaurant:n}),t.jsx("main",{className:"flex-1 p-6",children:g()})]})]})}function yw(){const[o,r]=w.useState({name:"",email:"",password:"",phone:"",vehicleType:"",licensePlate:"",nationalId:"",drivingLicense:"",city:""}),[n,i]=w.useState(!1),[c,d]=w.useState(""),[h,m]=w.useState(!1),g=async p=>{p.preventDefault(),i(!0),d("");try{const{data:b,error:_}=await W.auth.signUp({email:o.email,password:o.password});if(_)throw _;if(!b.user)throw new Error("  ");const{error:j}=await W.from("drivers").insert([{auth_id:b.user.id,email:o.email,name:o.name,phone:o.phone,national_id:o.nationalId,driving_license:o.drivingLicense,vehicle_type:o.vehicleType,license_plate:o.licensePlate,city:o.city,status:"pending",is_available:!1,rating:0,total_deliveries:0,completed_deliveries:0,total_earnings:0}]);if(j)throw j;m(!0)}catch(b){d(b.message||"   ")}finally{i(!1)}},x=p=>{r({...o,[p.target.name]:p.target.value})};return h?t.jsxs(t.Fragment,{children:[t.jsx(Le,{}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 pt-24 pb-16",children:t.jsx("div",{className:"max-w-2xl mx-auto px-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-check-line text-4xl text-green-600"})}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"  !"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"   .               ."}),t.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-orange-800 text-sm",children:[t.jsx("i",{className:"ri-information-line ml-2"}),"      24  48 "]})}),t.jsx("a",{href:"/",className:"inline-block bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})})}),t.jsx(Ue,{})]}):t.jsxs(t.Fragment,{children:[t.jsx(Le,{}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 pt-24 pb-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-truck-line text-4xl text-orange-600"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"  "}),t.jsx("p",{className:"text-xl text-gray-600",children:"       "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"        "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-time-line text-2xl text-blue-600"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-shield-check-line text-2xl text-purple-600"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"      "})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),c&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-red-800 text-sm",children:[t.jsx("i",{className:"ri-error-warning-line ml-2"}),c]})}),t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:o.name,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"  "})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"0612345678"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",name:"email",value:o.email,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"example@email.com"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"password",name:"password",value:o.password,onChange:x,required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["   ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"nationalId",value:o.nationalId,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"AB123456"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"city",value:o.city,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:" "})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"vehicleType",value:o.vehicleType,onChange:x,required:!0,className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[t.jsx("option",{value:"",children:"  "}),t.jsx("option",{value:"motorcycle",children:" "}),t.jsx("option",{value:"car",children:""}),t.jsx("option",{value:"bicycle",children:" "})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"licensePlate",value:o.licensePlate,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"12345--67"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["   ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"drivingLicense",value:o.drivingLicense,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"DL123456789"})]})]})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500 cursor-pointer"}),t.jsx("span",{className:"text-sm text-gray-700",children:"       "})]})}),t.jsx("button",{type:"submit",disabled:n,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-4 rounded-lg font-semibold text-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:n?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"})," ..."]}):" "}),t.jsxs("p",{className:"text-center text-sm text-gray-600",children:["  "," ",t.jsx("a",{href:"/driver-login",className:"text-orange-500 hover:text-orange-600 font-medium cursor-pointer",children:" "})]})]})]})]})}),t.jsx(Ue,{})]})}function bw(){const o=Fe(),[r,n]=w.useState(""),[i,c]=w.useState(""),[d,h]=w.useState(!1),[m,g]=w.useState(""),x=async p=>{p.preventDefault(),h(!0),g("");try{const{data:b,error:_}=await W.auth.signInWithPassword({email:r,password:i});if(_)throw _;if(b.user){const{data:j,error:S}=await W.from("drivers").select("*").eq("auth_id",b.user.id).single();if(S||!j)throw await W.auth.signOut(),new Error("    ");if(j.status==="pending")throw await W.auth.signOut(),new Error("  .     ");if(j.status==="rejected")throw await W.auth.signOut(),new Error("     ");o("/driver-dashboard",{replace:!0})}}catch(b){g(b.message||"    ")}finally{h(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Le,{}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 pt-24 pb-16",children:t.jsx("div",{className:"max-w-md mx-auto px-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-truck-line text-4xl text-orange-600"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),m&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-red-800 text-sm",children:[t.jsx("i",{className:"ri-error-warning-line ml-2"}),m]})}),t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"email",value:r,onChange:p=>n(p.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"example@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"password",value:i,onChange:p=>c(p.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:""})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:d?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"}),"  ..."]}):" "}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",t.jsx("a",{href:"/driver-signup",className:"text-orange-500 hover:text-orange-600 font-medium cursor-pointer",children:" "})]})})]})]})})}),t.jsx(Ue,{})]})}function vw({driver:o}){const r=async()=>{await W.auth.signOut(),window.REACT_APP_NAVIGATE("/driver-login")},n=async()=>{try{const i=!o.is_available;await W.from("drivers").update({is_available:i}).eq("id",o.id),window.location.reload()}catch(i){console.error("   :",i)}};return t.jsx("header",{className:"fixed top-0 right-0 left-0 bg-white border-b border-gray-200 z-50",children:t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-xl text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"  "}),t.jsxs("p",{className:"text-sm text-gray-600",children:[" ",o.name]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${o.is_available?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${o.is_available?"bg-green-500":"bg-gray-400"}`}),o.is_available?" ":" "]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-4 py-2 rounded-lg",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500"}),t.jsx("span",{className:"font-semibold text-gray-900",children:o.rating.toFixed(1)})]}),t.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-logout-box-line"}),t.jsx("span",{children:" "})]})]})]})})})}function jw({currentView:o,setCurrentView:r}){const n=[{id:"overview",label:" ",icon:"ri-dashboard-line"},{id:"available-orders",label:" ",icon:"ri-shopping-bag-line"},{id:"my-deliveries",label:"",icon:"ri-truck-line"},{id:"earnings",label:"",icon:"ri-money-dollar-circle-line"},{id:"profile",label:" ",icon:"ri-user-line"}];return t.jsxs("aside",{className:"fixed right-0 top-16 bottom-0 w-64 bg-white border-l border-gray-200 overflow-y-auto",children:[t.jsx("nav",{className:"p-4",children:t.jsx("ul",{className:"space-y-2",children:n.map(i=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>r(i.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${o===i.id?"bg-orange-50 text-orange-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx("i",{className:`${i.icon} text-xl`}),t.jsx("span",{children:i.label})]})},i.id))})}),t.jsx("div",{className:"p-4 mt-auto border-t border-gray-200",children:t.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-customer-service-2-line text-orange-600 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" "}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"   "}),t.jsx("button",{className:"text-sm text-orange-600 hover:text-orange-700 font-medium cursor-pointer whitespace-nowrap",children:" "})]})]})})})]})}function Nw({driver:o}){const[r,n]=w.useState({todayDeliveries:0,todayEarnings:0,pendingDeliveries:0,completedDeliveries:0});w.useEffect(()=>{i()},[o]);const i=async()=>{try{const c=new Date;c.setHours(0,0,0,0);const{data:d}=await W.from("deliveries").select("*").eq("driver_id",o.id);if(d){const h=d.filter(p=>new Date(p.created_at)>=c&&p.status==="delivered"),m=h.reduce((p,b)=>p+(b.driver_earnings||0),0),g=d.filter(p=>p.status==="assigned"||p.status==="picked_up").length,x=d.filter(p=>p.status==="delivered").length;n({todayDeliveries:h.length,todayEarnings:m,pendingDeliveries:g,completedDeliveries:x})}}catch(c){console.error("   :",c)}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-2xl text-blue-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:""})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:r.todayDeliveries}),t.jsx("p",{className:"text-sm text-gray-600",children:" "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:""})]}),t.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:[r.todayEarnings.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm text-gray-600",children:""})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-2xl text-orange-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:" "})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:r.pendingDeliveries}),t.jsx("p",{className:"text-sm text-gray-600",children:" "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-purple-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:""})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:r.completedDeliveries}),t.jsx("p",{className:"text-sm text-gray-600",children:" "})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-8 text-white mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",children:o.is_available?"   ":"   "}),t.jsx("p",{className:"text-orange-100 mb-4",children:o.is_available?"   ":"    "}),!o.is_available&&t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-white text-orange-600 px-6 py-2 rounded-lg font-medium hover:bg-orange-50 transition-colors cursor-pointer whitespace-nowrap",children:" "})]}),t.jsx("div",{className:"w-32 h-32 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx("i",{className:`${o.is_available?"ri-checkbox-circle-line":"ri-close-circle-line"} text-6xl`})})]})}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>window.location.href="#available-orders",className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-line text-orange-600"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),t.jsxs("button",{onClick:()=>window.location.href="#my-deliveries",className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-blue-600"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:""}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),t.jsxs("button",{onClick:()=>window.location.href="#earnings",className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-green-600"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:""}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]})]})]})]})}function ww({driver:o}){const[r,n]=w.useState([]),[i,c]=w.useState(!0);w.useEffect(()=>{d();const m=setInterval(d,1e4);return()=>clearInterval(m)},[o]);const d=async()=>{try{const g=JSON.parse(localStorage.getItem("orders")||"[]").filter(x=>!x.driverId&&x.status==="confirmed"&&x.deliveryCity===o.city);n(g),c(!1)}catch(m){console.error("   :",m),c(!1)}},h=async m=>{try{const g=m.deliveryFee*.2,{error:x}=await W.from("deliveries").insert([{order_id:m.id,driver_id:o.id,restaurant_id:m.restaurantId,customer_name:m.customerName,customer_phone:m.customerPhone,delivery_address:m.deliveryAddress,delivery_city:m.deliveryCity,pickup_address:m.restaurantAddress||" ",total_amount:m.total,delivery_fee:m.deliveryFee,driver_earnings:g,notes:m.notes,status:"assigned",assigned_at:new Date().toISOString()}]);if(x)throw x;const b=JSON.parse(localStorage.getItem("orders")||"[]").map(_=>_.id===m.id?{..._,driverId:o.id,driverName:o.name,status:"out_for_delivery"}:_);localStorage.setItem("orders",JSON.stringify(b)),await W.from("drivers").update({total_deliveries:o.total_deliveries+1}).eq("id",o.id),alert("   !     "),d()}catch(g){console.error("   :",g),alert("    ")}};return i?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),!o.is_available&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-information-line text-yellow-600 text-xl"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-yellow-800 font-medium mb-1",children:"   "}),t.jsx("p",{className:"text-yellow-700 text-sm",children:"       "})]})]})}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-shopping-bag-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"    "}),t.jsx("p",{className:"text-gray-600",children:"       "})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(m=>t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-1",children:[" #",m.id.slice(0,8)]}),t.jsx("p",{className:"text-sm text-gray-600",children:m.restaurantName})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[m.total.toFixed(2)," ."]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[" : ",m.deliveryFee.toFixed(2)," ."]})]})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-user-line text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"font-medium text-gray-900",children:m.customerName}),t.jsx("p",{className:"text-sm text-gray-600",children:m.customerPhone})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-map-pin-line text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"font-medium text-gray-900",children:m.deliveryAddress}),t.jsx("p",{className:"text-sm text-gray-600",children:m.deliveryCity})]})]}),m.notes&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-message-3-line text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"font-medium text-gray-900",children:m.notes})]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:":"}),t.jsx("div",{className:"space-y-2",children:m.items.map((g,x)=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-900",children:[g.name,"  ",g.quantity]}),t.jsxs("span",{className:"text-gray-600",children:[(g.price*g.quantity).toFixed(2)," ."]})]},x))})]}),t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-green-700",children:"   :"}),t.jsxs("span",{className:"text-lg font-bold text-green-700",children:[(m.deliveryFee*.2).toFixed(2)," ."]})]})}),t.jsx("button",{onClick:()=>h(m),disabled:!o.is_available,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:o.is_available?" ":" "})]},m.id))})]})}function Sw({driver:o}){const[r,n]=w.useState([]),[i,c]=w.useState(!0),[d,h]=w.useState("active");w.useEffect(()=>{m();const p=setInterval(m,1e4);return()=>clearInterval(p)},[o,d]);const m=async()=>{try{let p=W.from("deliveries").select("*").eq("driver_id",o.id).order("created_at",{ascending:!1});d==="active"?p=p.in("status",["assigned","picked_up"]):d==="completed"&&(p=p.eq("status","delivered"));const{data:b,error:_}=await p;if(_)throw _;n(b||[]),c(!1)}catch(p){console.error("   :",p),c(!1)}},g=async(p,b)=>{try{const _={status:b};if(b==="picked_up")_.picked_up_at=new Date().toISOString();else if(b==="delivered"){_.delivered_at=new Date().toISOString();const O=r.find(v=>v.id===p);O&&await W.from("drivers").update({completed_deliveries:o.completed_deliveries+1,total_earnings:o.total_earnings+O.driver_earnings}).eq("id",o.id)}const{error:j}=await W.from("deliveries").update(_).eq("id",p);if(j)throw j;const S=r.find(O=>O.id===p);if(S){const v=JSON.parse(localStorage.getItem("orders")||"[]").map(T=>{if(T.id===S.order_id){let A=T.status;return b==="picked_up"&&(A="out_for_delivery"),b==="delivered"&&(A="delivered"),{...T,status:A}}return T});localStorage.setItem("orders",JSON.stringify(v))}m(),alert("    ")}catch(_){console.error("   :",_),alert("    ")}},x=p=>{const _={assigned:{label:" ",color:"bg-blue-100 text-blue-700"},picked_up:{label:" ",color:"bg-orange-100 text-orange-700"},delivered:{label:" ",color:"bg-green-100 text-green-700"}}[p]||{label:p,color:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_.color}`,children:_.label})};return i?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("div",{className:"flex gap-2 mb-6",children:[t.jsx("button",{onClick:()=>h("active"),className:`px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="active"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" "}),t.jsx("button",{onClick:()=>h("completed"),className:`px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="completed"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" "}),t.jsx("button",{onClick:()=>h("all"),className:`px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="all"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" "})]}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-truck-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600",children:d==="active"?"    ":"    "})]}):t.jsx("div",{className:"space-y-4",children:r.map(p=>t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:[" #",p.order_id.slice(0,8)]}),x(p.status)]}),t.jsx("p",{className:"text-sm text-gray-600",children:new Date(p.created_at).toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[p.total_amount.toFixed(2)," ."]}),t.jsxs("p",{className:"text-sm text-green-600 font-medium",children:[": ",p.driver_earnings.toFixed(2)," ."]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx("i",{className:"ri-store-line text-orange-500"})," "]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"font-medium text-gray-900 mb-1",children:p.pickup_address}),t.jsx("p",{className:"text-sm text-gray-600",children:p.delivery_city})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500"})," "]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"font-medium text-gray-900 mb-1",children:p.customer_name}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.customer_phone}),t.jsx("p",{className:"text-sm text-gray-600",children:p.delivery_address})]})]})]}),p.notes&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("i",{className:"ri-information-line ml-2"}),t.jsx("strong",{children:":"})," ",p.notes]})}),p.status==="assigned"&&t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>g(p.id,"picked_up"),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-checkbox-circle-line ml-2"}),"  "]}),t.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${p.pickup_address}`,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:t.jsx("i",{className:"ri-navigation-line"})})]}),p.status==="picked_up"&&t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>g(p.id,"delivered"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-checkbox-circle-line ml-2"}),"  "]}),t.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${p.delivery_address}`,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:t.jsx("i",{className:"ri-navigation-line"})})]}),p.status==="delivered"&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[t.jsx("i",{className:"ri-checkbox-circle-fill text-3xl text-green-600 mb-2"}),t.jsx("p",{className:"text-green-700 font-medium",children:"  "}),t.jsx("p",{className:"text-sm text-green-600",children:new Date(p.delivered_at).toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},p.id))})]})}function _w({driver:o,setDriver:r}){const[n,i]=w.useState(!1),[c,d]=w.useState({name:o.name,phone:o.phone,city:o.city,vehicle_type:o.vehicle_type,license_plate:o.license_plate}),[h,m]=w.useState(!1),g=async p=>{p.preventDefault(),m(!0);try{const{error:b}=await W.from("drivers").update(c).eq("id",o.id);if(b)throw b;r({...o,...c}),i(!1),alert("    ")}catch(b){console.error("   :",b),alert("    ")}finally{m(!1)}},x=p=>{d({...c,[p.target.name]:p.target.value})};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:o.name.charAt(0)})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:o.name}),t.jsx("p",{className:"text-gray-600 mb-4",children:o.phone}),t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500"}),t.jsx("span",{className:"text-2xl font-bold text-gray-900",children:o.rating.toFixed(1)})]}),t.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${o.status==="approved"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${o.status==="approved"?"bg-green-500":"bg-yellow-500"}`}),t.jsx("span",{className:"text-sm font-medium",children:o.status==="approved"?" ":" "})]})]}),t.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:" "}),t.jsx("span",{className:"font-semibold text-gray-900",children:o.total_deliveries})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:" "}),t.jsx("span",{className:"font-semibold text-gray-900",children:o.completed_deliveries})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:" "}),t.jsxs("span",{className:"font-semibold text-green-600",children:[o.total_earnings.toFixed(2)," ."]})]})]})]})}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "}),!n&&t.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-edit-line"}),""]})]}),t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"text",name:"name",value:c.name,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsx("input",{type:"text",name:"city",value:c.city,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsxs("select",{name:"vehicle_type",value:c.vehicle_type,onChange:x,disabled:!n,className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600",children:[t.jsx("option",{value:"motorcycle",children:" "}),t.jsx("option",{value:"car",children:""}),t.jsx("option",{value:"bicycle",children:" "})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"text",name:"license_plate",value:c.license_plate,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),t.jsx("input",{type:"text",value:o.national_id,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),t.jsx("input",{type:"text",value:o.driving_license,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),n&&t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"submit",disabled:h,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:h?" ...":" "}),t.jsx("button",{type:"button",onClick:()=>{i(!1),d({name:o.name,phone:o.phone,city:o.city,vehicle_type:o.vehicle_type,license_plate:o.license_plate})},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]})]})})]})]})}function Cw({driver:o}){const[r,n]=w.useState({today:0,week:0,month:0,total:0}),[i,c]=w.useState([]),[d,h]=w.useState(!0);w.useEffect(()=>{m()},[o]);const m=async()=>{try{const{data:g,error:x}=await W.from("deliveries").select("*").eq("driver_id",o.id).eq("status","delivered").order("delivered_at",{ascending:!1});if(x)throw x;if(g){const p=new Date,b=new Date(p.getFullYear(),p.getMonth(),p.getDate()),_=new Date(b.getTime()-10080*60*1e3),j=new Date(b.getTime()-720*60*60*1e3),S=g.filter(A=>new Date(A.delivered_at)>=b).reduce((A,C)=>A+(C.driver_earnings||0),0),O=g.filter(A=>new Date(A.delivered_at)>=_).reduce((A,C)=>A+(C.driver_earnings||0),0),v=g.filter(A=>new Date(A.delivered_at)>=j).reduce((A,C)=>A+(C.driver_earnings||0),0),T=g.reduce((A,C)=>A+(C.driver_earnings||0),0);n({today:S,week:O,month:v,total:T}),c(g)}h(!1)}catch(g){console.error("   :",g),h(!1)}};return d?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:""})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[r.today.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-week-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[r.week.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-month-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[r.month.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:""})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[r.total.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),i.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"   "}),t.jsx("p",{className:"text-gray-600",children:"     "})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(g=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",g.order_id.slice(0,8)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-sm text-gray-600",children:new Date(g.delivered_at).toLocaleDateString("ar-MA",{year:"numeric",month:"short",day:"numeric"})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-sm text-gray-900",children:g.customer_name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm text-gray-900",children:[g.total_amount.toFixed(2)," ."]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm text-gray-900",children:[g.delivery_fee.toFixed(2)," ."]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[g.driver_earnings.toFixed(2)," ."]})})]},g.id))})]})})]})]})}function Ew(){const o=Fe(),[r,n]=w.useState("overview"),[i,c]=w.useState(null),[d,h]=w.useState(!0);w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:{user:g}}=await W.auth.getUser();if(!g){o("/driver-login",{replace:!0});return}const{data:x,error:p}=await W.from("drivers").select("*").eq("auth_id",g.id).single();if(p||!x){o("/driver-login",{replace:!0});return}if(x.status!=="approved"){o("/driver-login",{replace:!0});return}c(x),h(!1)}catch(g){console.error("    :",g),o("/driver-login",{replace:!0})}};return d?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:" ..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(vw,{driver:i}),t.jsxs("div",{className:"flex",children:[t.jsx(jw,{currentView:r,setCurrentView:n}),t.jsxs("main",{className:"flex-1 mr-64 mt-16 p-8",children:[r==="overview"&&t.jsx(Nw,{driver:i}),r==="available-orders"&&t.jsx(ww,{driver:i}),r==="my-deliveries"&&t.jsx(Sw,{driver:i}),r==="earnings"&&t.jsx(Cw,{driver:i}),r==="profile"&&t.jsx(_w,{driver:i,setDriver:c})]})]})]})}const Ow=[{path:"/",element:t.jsx(BN,{})},{path:"/restaurants",element:t.jsx(HN,{})},{path:"/restaurant",element:t.jsx(PN,{})},{path:"/product",element:t.jsx(GN,{})},{path:"/offers",element:t.jsx(FN,{})},{path:"/track-order",element:t.jsx(IN,{})},{path:"/cart",element:t.jsx(YN,{})},{path:"/login",element:t.jsx(Vg,{})},{path:"/auth",element:t.jsx(Vg,{})},{path:"/checkout",element:t.jsx(KN,{})},{path:"/profile",element:t.jsx(JN,{})},{path:"/orders",element:t.jsx(QN,{})},{path:"/favorites",element:t.jsx(XN,{})},{path:"/restaurant-signup",element:t.jsx(ZN,{})},{path:"/admin",element:t.jsx(lw,{})},{path:"/admin-login",element:t.jsx(ow,{})},{path:"/restaurant-dashboard",element:t.jsx(pw,{})},{path:"/driver-signup",element:t.jsx(yw,{})},{path:"/driver-login",element:t.jsx(bw,{})},{path:"/driver-dashboard",element:t.jsx(Ew,{})},{path:"*",element:t.jsx(Tv,{})}];let Ux;new Promise(o=>{Ux=o});function Tw(){const o=zb(Ow),r=Fe();return w.useEffect(()=>{window.REACT_APP_NAVIGATE=r,Ux(window.REACT_APP_NAVIGATE)}),o}function Aw(){return t.jsx(My,{i18n:dt,children:t.jsx(bv,{basename:"/",children:t.jsx(Tw,{})})})}nb.createRoot(document.getElementById("root")).render(t.jsx(w.StrictMode,{children:t.jsx(Aw,{})}));
//# sourceMappingURL=index-DFdGYOr3.js.map
