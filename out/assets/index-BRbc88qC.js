(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();function cy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function dy(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var n=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};n.prototype=a.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var c=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(n,i,c.get?c:{enumerable:!0,get:function(){return l[i]}})}),n}var Fc={exports:{}},wn={};var $m;function uy(){if($m)return wn;$m=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(i,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:i,key:h,ref:c!==void 0?c:null,props:d}}return wn.Fragment=a,wn.jsx=n,wn.jsxs=n,wn}var Bm;function hy(){return Bm||(Bm=1,Fc.exports=uy()),Fc.exports}var t=hy(),Ic={exports:{}},ge={};var Hm;function fy(){if(Hm)return ge;Hm=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,v={};function T(R,P,X){this.props=R,this.context=P,this.refs=v,this.updater=X||S}T.prototype.isReactComponent={},T.prototype.setState=function(R,P){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,P,"setState")},T.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=T.prototype;function E(R,P,X){this.props=R,this.context=P,this.refs=v,this.updater=X||S}var L=E.prototype=new O;L.constructor=E,C(L,T.prototype),L.isPureReactComponent=!0;var B=Array.isArray;function k(){}var A={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function te(R,P,X){var G=X.ref;return{$$typeof:l,type:R,key:P,ref:G!==void 0?G:null,props:X}}function ie(R,P){return te(R.type,P,R.props)}function Ce(R){return typeof R=="object"&&R!==null&&R.$$typeof===l}function W(R){var P={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return P[X]})}var F=/\/+/g;function ae(R,P){return typeof R=="object"&&R!==null&&R.key!=null?W(""+R.key):P.toString(36)}function ce(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(k,k):(R.status="pending",R.then(function(P){R.status==="pending"&&(R.status="fulfilled",R.value=P)},function(P){R.status==="pending"&&(R.status="rejected",R.reason=P)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function M(R,P,X,G,se){var re=typeof R;(re==="undefined"||re==="boolean")&&(R=null);var fe=!1;if(R===null)fe=!0;else switch(re){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(R.$$typeof){case l:case a:fe=!0;break;case p:return fe=R._init,M(fe(R._payload),P,X,G,se)}}if(fe)return se=se(R),fe=G===""?"."+ae(R,0):G,B(se)?(X="",fe!=null&&(X=fe.replace(F,"$&/")+"/"),M(se,P,X,"",function(Ca){return Ca})):se!=null&&(Ce(se)&&(se=ie(se,X+(se.key==null||R&&R.key===se.key?"":(""+se.key).replace(F,"$&/")+"/")+fe)),P.push(se)),1;fe=0;var Ge=G===""?".":G+":";if(B(R))for(var Me=0;Me<R.length;Me++)G=R[Me],re=Ge+ae(G,Me),fe+=M(G,P,X,re,se);else if(Me=j(R),typeof Me=="function")for(R=Me.call(R),Me=0;!(G=R.next()).done;)G=G.value,re=Ge+ae(G,Me++),fe+=M(G,P,X,re,se);else if(re==="object"){if(typeof R.then=="function")return M(ce(R),P,X,G,se);throw P=String(R),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Q(R,P,X){if(R==null)return R;var G=[],se=0;return M(R,G,"","",function(re){return P.call(X,re,se++)}),G}function ee(R){if(R._status===-1){var P=R._result;P=P(),P.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=P)}if(R._status===1)return R._result.default;throw R._result}var ue=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},oe={map:Q,forEach:function(R,P,X){Q(R,function(){P.apply(this,arguments)},X)},count:function(R){var P=0;return Q(R,function(){P++}),P},toArray:function(R){return Q(R,function(P){return P})||[]},only:function(R){if(!Ce(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ge.Activity=y,ge.Children=oe,ge.Component=T,ge.Fragment=n,ge.Profiler=c,ge.PureComponent=E,ge.StrictMode=i,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ge.__COMPILER_RUNTIME={__proto__:null,c:function(R){return A.H.useMemoCache(R)}},ge.cache=function(R){return function(){return R.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(R,P,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var G=C({},R.props),se=R.key;if(P!=null)for(re in P.key!==void 0&&(se=""+P.key),P)!Y.call(P,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&P.ref===void 0||(G[re]=P[re]);var re=arguments.length-2;if(re===1)G.children=X;else if(1<re){for(var fe=Array(re),Ge=0;Ge<re;Ge++)fe[Ge]=arguments[Ge+2];G.children=fe}return te(R.type,se,G)},ge.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},ge.createElement=function(R,P,X){var G,se={},re=null;if(P!=null)for(G in P.key!==void 0&&(re=""+P.key),P)Y.call(P,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(se[G]=P[G]);var fe=arguments.length-2;if(fe===1)se.children=X;else if(1<fe){for(var Ge=Array(fe),Me=0;Me<fe;Me++)Ge[Me]=arguments[Me+2];se.children=Ge}if(R&&R.defaultProps)for(G in fe=R.defaultProps,fe)se[G]===void 0&&(se[G]=fe[G]);return te(R,re,se)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(R){return{$$typeof:m,render:R}},ge.isValidElement=Ce,ge.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ee}},ge.memo=function(R,P){return{$$typeof:x,type:R,compare:P===void 0?null:P}},ge.startTransition=function(R){var P=A.T,X={};A.T=X;try{var G=R(),se=A.S;se!==null&&se(X,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(k,ue)}catch(re){ue(re)}finally{P!==null&&X.types!==null&&(P.types=X.types),A.T=P}},ge.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ge.use=function(R){return A.H.use(R)},ge.useActionState=function(R,P,X){return A.H.useActionState(R,P,X)},ge.useCallback=function(R,P){return A.H.useCallback(R,P)},ge.useContext=function(R){return A.H.useContext(R)},ge.useDebugValue=function(){},ge.useDeferredValue=function(R,P){return A.H.useDeferredValue(R,P)},ge.useEffect=function(R,P){return A.H.useEffect(R,P)},ge.useEffectEvent=function(R){return A.H.useEffectEvent(R)},ge.useId=function(){return A.H.useId()},ge.useImperativeHandle=function(R,P,X){return A.H.useImperativeHandle(R,P,X)},ge.useInsertionEffect=function(R,P){return A.H.useInsertionEffect(R,P)},ge.useLayoutEffect=function(R,P){return A.H.useLayoutEffect(R,P)},ge.useMemo=function(R,P){return A.H.useMemo(R,P)},ge.useOptimistic=function(R,P){return A.H.useOptimistic(R,P)},ge.useReducer=function(R,P,X){return A.H.useReducer(R,P,X)},ge.useRef=function(R){return A.H.useRef(R)},ge.useState=function(R){return A.H.useState(R)},ge.useSyncExternalStore=function(R,P,X){return A.H.useSyncExternalStore(R,P,X)},ge.useTransition=function(){return A.H.useTransition()},ge.version="19.2.4",ge}var Pm;function Sd(){return Pm||(Pm=1,Ic.exports=fy()),Ic.exports}var N=Sd();const me=l=>typeof l=="string",Sn=()=>{let l,a;const n=new Promise((i,c)=>{l=i,a=c});return n.resolve=l,n.reject=a,n},Gm=l=>l==null?"":""+l,my=(l,a,n)=>{l.forEach(i=>{a[i]&&(n[i]=a[i])})},gy=/###/g,Vm=l=>l&&l.indexOf("###")>-1?l.replace(gy,"."):l,Fm=l=>!l||me(l),Tn=(l,a,n)=>{const i=me(a)?a.split("."):a;let c=0;for(;c<i.length-1;){if(Fm(l))return{};const d=Vm(i[c]);!l[d]&&n&&(l[d]=new n),Object.prototype.hasOwnProperty.call(l,d)?l=l[d]:l={},++c}return Fm(l)?{}:{obj:l,k:Vm(i[c])}},Im=(l,a,n)=>{const{obj:i,k:c}=Tn(l,a,Object);if(i!==void 0||a.length===1){i[c]=n;return}let d=a[a.length-1],h=a.slice(0,a.length-1),m=Tn(l,h,Object);for(;m.obj===void 0&&h.length;)d=`${h[h.length-1]}.${d}`,h=h.slice(0,h.length-1),m=Tn(l,h,Object),m?.obj&&typeof m.obj[`${m.k}.${d}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${d}`]=n},xy=(l,a,n,i)=>{const{obj:c,k:d}=Tn(l,a,Object);c[d]=c[d]||[],c[d].push(n)},gl=(l,a)=>{const{obj:n,k:i}=Tn(l,a);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},py=(l,a,n)=>{const i=gl(l,n);return i!==void 0?i:gl(a,n)},Yg=(l,a,n)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in l?me(l[i])||l[i]instanceof String||me(a[i])||a[i]instanceof String?n&&(l[i]=a[i]):Yg(l[i],a[i],n):l[i]=a[i]);return l},hr=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const by=l=>me(l)?l.replace(/[&<>"'\/]/g,a=>yy[a]):l;class vy{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const n=this.regExpMap.get(a);if(n!==void 0)return n;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const jy=[" ",",","?","!",";"],Ny=new vy(20),wy=(l,a,n)=>{a=a||"",n=n||"";const i=jy.filter(h=>a.indexOf(h)<0&&n.indexOf(h)<0);if(i.length===0)return!0;const c=Ny.getRegExp(`(${i.map(h=>h==="?"?"\\?":h).join("|")})`);let d=!c.test(l);if(!d){const h=l.indexOf(n);h>0&&!c.test(l.substring(0,h))&&(d=!0)}return d},cd=(l,a,n=".")=>{if(!l)return;if(l[a])return Object.prototype.hasOwnProperty.call(l,a)?l[a]:void 0;const i=a.split(n);let c=l;for(let d=0;d<i.length;){if(!c||typeof c!="object")return;let h,m="";for(let g=d;g<i.length;++g)if(g!==d&&(m+=n),m+=i[g],h=c[m],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&g<i.length-1)continue;d+=g-d+1;break}c=h}return c},Dn=l=>l?.replace("_","-"),Sy={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,a){console?.[l]?.apply?.(console,a)}};class xl{constructor(a,n={}){this.init(a,n)}init(a,n={}){this.prefix=n.prefix||"i18next:",this.logger=a||Sy,this.options=n,this.debug=n.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,n,i,c){return c&&!this.debug?null:(me(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[n](a))}create(a){return new xl(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new xl(this.logger,a)}}var es=new xl;class jl{constructor(){this.observers={}}on(a,n){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const c=this.observers[i].get(n)||0;this.observers[i].set(n,c+1)}),this}off(a,n){if(this.observers[a]){if(!n){delete this.observers[a];return}this.observers[a].delete(n)}}emit(a,...n){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([c,d])=>{for(let h=0;h<d;h++)c(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let h=0;h<d;h++)c.apply(c,[a,...n])})}}class Km extends jl{constructor(a,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const n=this.options.ns.indexOf(a);n>-1&&this.options.ns.splice(n,1)}getResource(a,n,i,c={}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,h=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;a.indexOf(".")>-1?m=a.split("."):(m=[a,n],i&&(Array.isArray(i)?m.push(...i):me(i)&&d?m.push(...i.split(d)):m.push(i)));const g=gl(this.data,m);return!g&&!n&&!i&&a.indexOf(".")>-1&&(a=m[0],n=m[1],i=m.slice(2).join(".")),g||!h||!me(i)?g:cd(this.data?.[a]?.[n],i,d)}addResource(a,n,i,c,d={silent:!1}){const h=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let m=[a,n];i&&(m=m.concat(h?i.split(h):i)),a.indexOf(".")>-1&&(m=a.split("."),c=n,n=m[1]),this.addNamespaces(n),Im(this.data,m,c),d.silent||this.emit("added",a,n,i,c)}addResources(a,n,i,c={silent:!1}){for(const d in i)(me(i[d])||Array.isArray(i[d]))&&this.addResource(a,n,d,i[d],{silent:!0});c.silent||this.emit("added",a,n,i)}addResourceBundle(a,n,i,c,d,h={silent:!1,skipCopy:!1}){let m=[a,n];a.indexOf(".")>-1&&(m=a.split("."),c=i,i=n,n=m[1]),this.addNamespaces(n);let g=gl(this.data,m)||{};h.skipCopy||(i=JSON.parse(JSON.stringify(i))),c?Yg(g,i,d):g={...g,...i},Im(this.data,m,g),h.silent||this.emit("added",a,n,i)}removeResourceBundle(a,n){this.hasResourceBundle(a,n)&&delete this.data[a][n],this.removeNamespaces(n),this.emit("removed",a,n)}hasResourceBundle(a,n){return this.getResource(a,n)!==void 0}getResourceBundle(a,n){return n||(n=this.options.defaultNS),this.getResource(a,n)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const n=this.getDataByLanguage(a);return!!(n&&Object.keys(n)||[]).find(c=>n[c]&&Object.keys(n[c]).length>0)}toJSON(){return this.data}}var Jg={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,a,n,i,c){return l.forEach(d=>{a=this.processors[d]?.process(a,n,i,c)??a}),a}};const Qg=Symbol("i18next/PATH_KEY");function _y(){const l=[],a=Object.create(null);let n;return a.get=(i,c)=>(n?.revoke?.(),c===Qg?l:(l.push(c),n=Proxy.revocable(i,a),n.proxy)),Proxy.revocable(Object.create(null),a).proxy}function dd(l,a){const{[Qg]:n}=l(_y());return n.join(a?.keySeparator??".")}const Ym={},Jm=l=>!me(l)&&typeof l!="boolean"&&typeof l!="number";class pl extends jl{constructor(a,n={}){super(),my(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=es.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,n={interpolation:{}}){const i={...n};return a==null?!1:this.resolve(a,i)?.res!==void 0}extractFromKey(a,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const c=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let d=n.ns||this.options.defaultNS||[];const h=i&&a.indexOf(i)>-1,m=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!wy(a,i,c);if(h&&!m){const g=a.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:a,namespaces:me(d)?[d]:d};const x=a.split(i);(i!==c||i===c&&this.options.ns.indexOf(x[0])>-1)&&(d=x.shift()),a=x.join(c)}return{key:a,namespaces:me(d)?[d]:d}}translate(a,n,i){let c=typeof n=="object"?{...n}:n;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(c={...c}),c||(c={}),a==null)return"";typeof a=="function"&&(a=dd(a,c)),Array.isArray(a)||(a=[String(a)]);const d=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:m,namespaces:g}=this.extractFromKey(a[a.length-1],c),x=g[g.length-1];let p=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const y=c.lng||this.language,_=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return _?d?{res:`${x}${p}${m}`,usedKey:m,exactUsedKey:m,usedLng:y,usedNS:x,usedParams:this.getUsedParamsDetails(c)}:`${x}${p}${m}`:d?{res:m,usedKey:m,exactUsedKey:m,usedLng:y,usedNS:x,usedParams:this.getUsedParamsDetails(c)}:m;const j=this.resolve(a,c);let S=j?.res;const C=j?.usedKey||m,v=j?.exactUsedKey||m,T=["[object Number]","[object Function]","[object RegExp]"],O=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,L=c.count!==void 0&&!me(c.count),B=pl.hasDefaultValue(c),k=L?this.pluralResolver.getSuffix(y,c.count,c):"",A=c.ordinal&&L?this.pluralResolver.getSuffix(y,c.count,{ordinal:!1}):"",Y=L&&!c.ordinal&&c.count===0,te=Y&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${k}`]||c[`defaultValue${A}`]||c.defaultValue;let ie=S;E&&!S&&B&&(ie=te);const Ce=Jm(ie),W=Object.prototype.toString.apply(ie);if(E&&ie&&Ce&&T.indexOf(W)<0&&!(me(O)&&Array.isArray(ie))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,ie,{...c,ns:g}):`key '${m} (${this.language})' returned an object instead of string.`;return d?(j.res=F,j.usedParams=this.getUsedParamsDetails(c),j):F}if(h){const F=Array.isArray(ie),ae=F?[]:{},ce=F?v:C;for(const M in ie)if(Object.prototype.hasOwnProperty.call(ie,M)){const Q=`${ce}${h}${M}`;B&&!S?ae[M]=this.translate(Q,{...c,defaultValue:Jm(te)?te[M]:void 0,joinArrays:!1,ns:g}):ae[M]=this.translate(Q,{...c,joinArrays:!1,ns:g}),ae[M]===Q&&(ae[M]=ie[M])}S=ae}}else if(E&&me(O)&&Array.isArray(S))S=S.join(O),S&&(S=this.extendTranslation(S,a,c,i));else{let F=!1,ae=!1;!this.isValidLookup(S)&&B&&(F=!0,S=te),this.isValidLookup(S)||(ae=!0,S=m);const M=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ae?void 0:S,Q=B&&te!==S&&this.options.updateMissing;if(ae||F||Q){if(this.logger.log(Q?"updateKey":"missingKey",y,x,m,Q?te:S),h){const R=this.resolve(m,{...c,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let R=0;R<ue.length;R++)ee.push(ue[R]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(c.lng||this.language):ee.push(c.lng||this.language);const oe=(R,P,X)=>{const G=B&&X!==S?X:M;this.options.missingKeyHandler?this.options.missingKeyHandler(R,x,P,G,Q,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(R,x,P,G,Q,c),this.emit("missingKey",R,x,P,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?ee.forEach(R=>{const P=this.pluralResolver.getSuffixes(R,c);Y&&c[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(X=>{oe([R],m+X,c[`defaultValue${X}`]||te)})}):oe(ee,m,te))}S=this.extendTranslation(S,a,c,j,i),ae&&S===m&&this.options.appendNamespaceToMissingKey&&(S=`${x}${p}${m}`),(ae||F)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${x}${p}${m}`:m,F?S:void 0,c))}return d?(j.res=S,j.usedParams=this.getUsedParamsDetails(c),j):S}extendTranslation(a,n,i,c,d){if(this.i18nFormat?.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const g=me(a)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let x;if(g){const y=a.match(this.interpolator.nestingRegexp);x=y&&y.length}let p=i.replace&&!me(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),a=this.interpolator.interpolate(a,p,i.lng||this.language||c.usedLng,i),g){const y=a.match(this.interpolator.nestingRegexp),_=y&&y.length;x<_&&(i.nest=!1)}!i.lng&&c&&c.res&&(i.lng=this.language||c.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,(...y)=>d?.[0]===y[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):this.translate(...y,n),i)),i.interpolation&&this.interpolator.reset()}const h=i.postProcess||this.options.postProcess,m=me(h)?[h]:h;return a!=null&&m?.length&&i.applyPostProcessor!==!1&&(a=Jg.handle(m,a,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a,n={}){let i,c,d,h,m;return me(a)&&(a=[a]),a.forEach(g=>{if(this.isValidLookup(i))return;const x=this.extractFromKey(g,n),p=x.key;c=p;let y=x.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const _=n.count!==void 0&&!me(n.count),j=_&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(me(n.context)||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);y.forEach(v=>{this.isValidLookup(i)||(m=v,!Ym[`${C[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(m)&&(Ym[`${C[0]}-${v}`]=!0,this.logger.warn(`key "${c}" for languages "${C.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(T=>{if(this.isValidLookup(i))return;h=T;const O=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(O,p,T,v,n);else{let L;_&&(L=this.pluralResolver.getSuffix(T,n.count,n));const B=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(n.ordinal&&L.indexOf(k)===0&&O.push(p+L.replace(k,this.options.pluralSeparator)),O.push(p+L),j&&O.push(p+B)),S){const A=`${p}${this.options.contextSeparator||"_"}${n.context}`;O.push(A),_&&(n.ordinal&&L.indexOf(k)===0&&O.push(A+L.replace(k,this.options.pluralSeparator)),O.push(A+L),j&&O.push(A+B))}}let E;for(;E=O.pop();)this.isValidLookup(i)||(d=E,i=this.getResource(T,v,E,n))}))})}),{res:i,usedKey:c,exactUsedKey:d,usedLng:h,usedNS:m}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,n,i,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(a,n,i,c):this.resourceStore.getResource(a,n,i,c)}getUsedParamsDetails(a={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!me(a.replace);let c=i?a.replace:a;if(i&&typeof a.count<"u"&&(c.count=a.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!i){c={...c};for(const d of n)delete c[d]}return c}static hasDefaultValue(a){const n="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&n===i.substring(0,n.length)&&a[i]!==void 0)return!0;return!1}}class Qm{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=es.create("languageUtils")}getScriptPartFromCode(a){if(a=Dn(a),!a||a.indexOf("-")<0)return null;const n=a.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(a){if(a=Dn(a),!a||a.indexOf("-")<0)return a;const n=a.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(a){if(me(a)&&a.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(a)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?a.toLowerCase():a)}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let n;return a.forEach(i=>{if(n)return;const c=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(c))&&(n=c)}),!n&&this.options.supportedLngs&&a.forEach(i=>{if(n)return;const c=this.getScriptPartFromCode(i);if(this.isSupportedCode(c))return n=c;const d=this.getLanguagePartFromCode(i);if(this.isSupportedCode(d))return n=d;n=this.options.supportedLngs.find(h=>{if(h===d)return h;if(!(h.indexOf("-")<0&&d.indexOf("-")<0)&&(h.indexOf("-")>0&&d.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===d||h.indexOf(d)===0&&d.length>1))return h})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(a,n){if(!a)return[];if(typeof a=="function"&&(a=a(n)),me(a)&&(a=[a]),Array.isArray(a))return a;if(!n)return a.default||[];let i=a[n];return i||(i=a[this.getScriptPartFromCode(n)]),i||(i=a[this.formatLanguageCode(n)]),i||(i=a[this.getLanguagePartFromCode(n)]),i||(i=a.default),i||[]}toResolveHierarchy(a,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],a),c=[],d=h=>{h&&(this.isSupportedCode(h)?c.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return me(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(a))):me(a)&&d(this.formatLanguageCode(a)),i.forEach(h=>{c.indexOf(h)<0&&d(this.formatLanguageCode(h))}),c}}const Xm={zero:0,one:1,two:2,few:3,many:4,other:5},Zm={select:l=>l===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ey{constructor(a,n={}){this.languageUtils=a,this.options=n,this.logger=es.create("pluralResolver"),this.pluralRulesCache={}}addRule(a,n){this.rules[a]=n}clearCache(){this.pluralRulesCache={}}getRule(a,n={}){const i=Dn(a==="dev"?"en":a),c=n.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:i,type:c});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let h;try{h=new Intl.PluralRules(i,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Zm;if(!a.match(/-|_/))return Zm;const g=this.languageUtils.getLanguagePartFromCode(a);h=this.getRule(g,n)}return this.pluralRulesCache[d]=h,h}needsPlural(a,n={}){let i=this.getRule(a,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(a,n,i={}){return this.getSuffixes(a,i).map(c=>`${n}${c}`)}getSuffixes(a,n={}){let i=this.getRule(a,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((c,d)=>Xm[c]-Xm[d]).map(c=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(a,n,i={}){const c=this.getRule(a,i);return c?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${c.select(n)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",n,i))}}const Wm=(l,a,n,i=".",c=!0)=>{let d=py(l,a,n);return!d&&c&&me(n)&&(d=cd(l,n,i),d===void 0&&(d=cd(a,n,i))),d},Kc=l=>l.replace(/\$/g,"$$$$");class Cy{constructor(a={}){this.logger=es.create("interpolator"),this.options=a,this.format=a?.interpolation?.format||(n=>n),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:c,prefix:d,prefixEscaped:h,suffix:m,suffixEscaped:g,formatSeparator:x,unescapeSuffix:p,unescapePrefix:y,nestingPrefix:_,nestingPrefixEscaped:j,nestingSuffix:S,nestingSuffixEscaped:C,nestingOptionsSeparator:v,maxReplaces:T,alwaysFormat:O}=a.interpolation;this.escape=n!==void 0?n:by,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=d?hr(d):h||"{{",this.suffix=m?hr(m):g||"}}",this.formatSeparator=x||",",this.unescapePrefix=p?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=_?hr(_):j||hr("$t("),this.nestingSuffix=S?hr(S):C||hr(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=T||1e3,this.alwaysFormat=O!==void 0?O:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(a,n,i,c){let d,h,m;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},x=j=>{if(j.indexOf(this.formatSeparator)<0){const T=Wm(n,g,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,i,{...c,...n,interpolationkey:j}):T}const S=j.split(this.formatSeparator),C=S.shift().trim(),v=S.join(this.formatSeparator).trim();return this.format(Wm(n,g,C,this.options.keySeparator,this.options.ignoreJSONStructure),v,i,{...c,...n,interpolationkey:C})};this.resetRegExp();const p=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>Kc(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?Kc(this.escape(j)):Kc(j)}].forEach(j=>{for(m=0;d=j.regex.exec(a);){const S=d[1].trim();if(h=x(S),h===void 0)if(typeof p=="function"){const v=p(a,d,c);h=me(v)?v:""}else if(c&&Object.prototype.hasOwnProperty.call(c,S))h="";else if(y){h=d[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${a}`),h="";else!me(h)&&!this.useRawValueToEscape&&(h=Gm(h));const C=j.safeValue(h);if(a=a.replace(d[0],C),y?(j.regex.lastIndex+=h.length,j.regex.lastIndex-=d[0].length):j.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),a}nest(a,n,i={}){let c,d,h;const m=(g,x)=>{const p=this.nestingOptionsSeparator;if(g.indexOf(p)<0)return g;const y=g.split(new RegExp(`${p}[ ]*{`));let _=`{${y[1]}`;g=y[0],_=this.interpolate(_,h);const j=_.match(/'/g),S=_.match(/"/g);((j?.length??0)%2===0&&!S||S.length%2!==0)&&(_=_.replace(/'/g,'"'));try{h=JSON.parse(_),x&&(h={...x,...h})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,C),`${g}${p}${_}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,g};for(;c=this.nestingRegexp.exec(a);){let g=[];h={...i},h=h.replace&&!me(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;const x=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(x!==-1&&(g=c[1].slice(x).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),c[1]=c[1].slice(0,x)),d=n(m.call(this,c[1].trim(),h),h),d&&c[0]===a&&!me(d))return d;me(d)||(d=Gm(d)),d||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${a}`),d=""),g.length&&(d=g.reduce((p,y)=>this.format(p,y,i.lng,{...i,interpolationkey:c[1].trim()}),d.trim())),a=a.replace(c[0],d),this.regexp.lastIndex=0}return a}}const Oy=l=>{let a=l.toLowerCase().trim();const n={};if(l.indexOf("(")>-1){const i=l.split("(");a=i[0].toLowerCase().trim();const c=i[1].substring(0,i[1].length-1);a==="currency"&&c.indexOf(":")<0?n.currency||(n.currency=c.trim()):a==="relativetime"&&c.indexOf(":")<0?n.range||(n.range=c.trim()):c.split(";").forEach(h=>{if(h){const[m,...g]=h.split(":"),x=g.join(":").trim().replace(/^'+|'+$/g,""),p=m.trim();n[p]||(n[p]=x),x==="false"&&(n[p]=!1),x==="true"&&(n[p]=!0),isNaN(x)||(n[p]=parseInt(x,10))}})}return{formatName:a,formatOptions:n}},eg=l=>{const a={};return(n,i,c)=>{let d=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(d={...d,[c.interpolationkey]:void 0});const h=i+JSON.stringify(d);let m=a[h];return m||(m=l(Dn(i),c),a[h]=m),m(n)}},Ty=l=>(a,n,i)=>l(Dn(n),i)(a);class Ay{constructor(a={}){this.logger=es.create("formatter"),this.options=a,this.init(a)}init(a,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?eg:Ty;this.formats={number:i((c,d)=>{const h=new Intl.NumberFormat(c,{...d});return m=>h.format(m)}),currency:i((c,d)=>{const h=new Intl.NumberFormat(c,{...d,style:"currency"});return m=>h.format(m)}),datetime:i((c,d)=>{const h=new Intl.DateTimeFormat(c,{...d});return m=>h.format(m)}),relativetime:i((c,d)=>{const h=new Intl.RelativeTimeFormat(c,{...d});return m=>h.format(m,d.range||"day")}),list:i((c,d)=>{const h=new Intl.ListFormat(c,{...d});return m=>h.format(m)})}}add(a,n){this.formats[a.toLowerCase().trim()]=n}addCached(a,n){this.formats[a.toLowerCase().trim()]=eg(n)}format(a,n,i,c={}){const d=n.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(m=>m.indexOf(")")>-1)){const m=d.findIndex(g=>g.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,m)].join(this.formatSeparator)}return d.reduce((m,g)=>{const{formatName:x,formatOptions:p}=Oy(g);if(this.formats[x]){let y=m;try{const _=c?.formatParams?.[c.interpolationkey]||{},j=_.locale||_.lng||c.locale||c.lng||i;y=this.formats[x](m,j,{...p,...c,..._})}catch(_){this.logger.warn(_)}return y}else this.logger.warn(`there was no format function for ${x}`);return m},a)}}const Ry=(l,a)=>{l.pending[a]!==void 0&&(delete l.pending[a],l.pendingCount--)};class ky extends jl{constructor(a,n,i,c={}){super(),this.backend=a,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=c,this.logger=es.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,c.backend,c)}queueLoad(a,n,i,c){const d={},h={},m={},g={};return a.forEach(x=>{let p=!0;n.forEach(y=>{const _=`${x}|${y}`;!i.reload&&this.store.hasResourceBundle(x,y)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?h[_]===void 0&&(h[_]=!0):(this.state[_]=1,p=!1,h[_]===void 0&&(h[_]=!0),d[_]===void 0&&(d[_]=!0),g[y]===void 0&&(g[y]=!0)))}),p||(m[x]=!0)}),(Object.keys(d).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(d),pending:Object.keys(h),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(g)}}loaded(a,n,i){const c=a.split("|"),d=c[0],h=c[1];n&&this.emit("failedLoading",d,h,n),!n&&i&&this.store.addResourceBundle(d,h,i,void 0,void 0,{skipCopy:!0}),this.state[a]=n?-1:2,n&&i&&(this.state[a]=0);const m={};this.queue.forEach(g=>{xy(g.loaded,[d],h),Ry(g,a),n&&g.errors.push(n),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(x=>{m[x]||(m[x]={});const p=g.loaded[x];p.length&&p.forEach(y=>{m[x][y]===void 0&&(m[x][y]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(g=>!g.done)}read(a,n,i,c=0,d=this.retryTimeout,h){if(!a.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:n,fcName:i,tried:c,wait:d,callback:h});return}this.readingCalls++;const m=(x,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(x&&p&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,a,n,i,c+1,d*2,h)},d);return}h(x,p)},g=this.backend[i].bind(this.backend);if(g.length===2){try{const x=g(a,n);x&&typeof x.then=="function"?x.then(p=>m(null,p)).catch(m):m(null,x)}catch(x){m(x)}return}return g(a,n,m)}prepareLoading(a,n,i={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();me(a)&&(a=this.languageUtils.toResolveHierarchy(a)),me(n)&&(n=[n]);const d=this.queueLoad(a,n,i,c);if(!d.toLoad.length)return d.pending.length||c(),null;d.toLoad.forEach(h=>{this.loadOne(h)})}load(a,n,i){this.prepareLoading(a,n,{},i)}reload(a,n,i){this.prepareLoading(a,n,{reload:!0},i)}loadOne(a,n=""){const i=a.split("|"),c=i[0],d=i[1];this.read(c,d,"read",void 0,void 0,(h,m)=>{h&&this.logger.warn(`${n}loading namespace ${d} for language ${c} failed`,h),!h&&m&&this.logger.log(`${n}loaded namespace ${d} for language ${c}`,m),this.loaded(a,h,m)})}saveMissing(a,n,i,c,d,h={},m=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const g={...h,isUpdate:d},x=this.backend.create.bind(this.backend);if(x.length<6)try{let p;x.length===5?p=x(a,n,i,c,g):p=x(a,n,i,c),p&&typeof p.then=="function"?p.then(y=>m(null,y)).catch(m):m(null,p)}catch(p){m(p)}else x(a,n,i,c,m,g)}!a||!a[0]||this.store.addResource(a[0],n,i,c)}}}const tg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let a={};if(typeof l[1]=="object"&&(a=l[1]),me(l[1])&&(a.defaultValue=l[1]),me(l[2])&&(a.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const n=l[3]||l[2];Object.keys(n).forEach(i=>{a[i]=n[i]})}return a},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),sg=l=>(me(l.ns)&&(l.ns=[l.ns]),me(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),me(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),l.supportedLngs?.indexOf?.("cimode")<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),typeof l.initImmediate=="boolean"&&(l.initAsync=l.initImmediate),l),nl=()=>{},Dy=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(n=>{typeof l[n]=="function"&&(l[n]=l[n].bind(l))})};class Ln extends jl{constructor(a={},n){if(super(),this.options=sg(a),this.services={},this.logger=es,this.modules={external:[]},Dy(this),n&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,n),this;setTimeout(()=>{this.init(a,n)},0)}}init(a={},n){this.isInitializing=!0,typeof a=="function"&&(n=a,a={}),a.defaultNS==null&&a.ns&&(me(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const i=tg();this.options={...i,...this.options,...sg(a)},this.options.interpolation={...i.interpolation,...this.options.interpolation},a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const c=x=>x?typeof x=="function"?new x:x:null;if(!this.options.isClone){this.modules.logger?es.init(c(this.modules.logger),this.options):es.init(null,this.options);let x;this.modules.formatter?x=this.modules.formatter:x=Ay;const p=new Qm(this.options);this.store=new Km(this.options.resources,this.options);const y=this.services;y.logger=es,y.resourceStore=this.store,y.languageUtils=p,y.pluralResolver=new Ey(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),x&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(y.formatter=c(x),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new Cy(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new ky(c(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(j,...S)=>{this.emit(j,...S)}),this.modules.languageDetector&&(y.languageDetector=c(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=c(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new pl(this.services,this.options),this.translator.on("*",(j,...S)=>{this.emit(j,...S)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,n||(n=nl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const x=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);x.length>0&&x[0]!=="dev"&&(this.options.lng=x[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(x=>{this[x]=(...p)=>this.store[x](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(x=>{this[x]=(...p)=>(this.store[x](...p),this)});const m=Sn(),g=()=>{const x=(p,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(y),n(p,y)};if(this.languages&&!this.isInitialized)return x(null,this.t.bind(this));this.changeLanguage(this.options.lng,x)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),m}loadResources(a,n=nl){let i=n;const c=me(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const d=[],h=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(x=>{x!=="cimode"&&d.indexOf(x)<0&&d.push(x)})};c?h(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>h(g)),this.options.preload?.forEach?.(m=>h(m)),this.services.backendConnector.load(d,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(m)})}else i(null)}reloadResources(a,n,i){const c=Sn();return typeof a=="function"&&(i=a,a=void 0),typeof n=="function"&&(i=n,n=void 0),a||(a=this.languages),n||(n=this.options.ns),i||(i=nl),this.services.backendConnector.reload(a,n,d=>{c.resolve(),i(d)}),c}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&Jg.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(a)<0&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,n){this.isLanguageChangingTo=a;const i=Sn();this.emit("languageChanging",a);const c=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},d=(m,g)=>{g?this.isLanguageChangingTo===a&&(c(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,i.resolve((...x)=>this.t(...x)),n&&n(m,(...x)=>this.t(...x))},h=m=>{!a&&!m&&this.services.languageDetector&&(m=[]);const g=me(m)?m:m&&m[0],x=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(me(m)?[m]:m);x&&(this.language||c(x),this.translator.language||this.translator.changeLanguage(x),this.services.languageDetector?.cacheUserLanguage?.(x)),this.loadResources(x,p=>{d(p,x)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(a),i}getFixedT(a,n,i){const c=(d,h,...m)=>{let g;typeof h!="object"?g=this.options.overloadTranslationOptionHandler([d,h].concat(m)):g={...h},g.lng=g.lng||c.lng,g.lngs=g.lngs||c.lngs,g.ns=g.ns||c.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||i||c.keyPrefix);const x=this.options.keySeparator||".";let p;return g.keyPrefix&&Array.isArray(d)?p=d.map(y=>(typeof y=="function"&&(y=dd(y,h)),`${g.keyPrefix}${x}${y}`)):(typeof d=="function"&&(d=dd(d,h)),p=g.keyPrefix?`${g.keyPrefix}${x}${d}`:d),this.t(p,g)};return me(a)?c.lng=a:c.lngs=a,c.ns=n,c.keyPrefix=i,c}t(...a){return this.translator?.translate(...a)}exists(...a){return this.translator?.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const h=(m,g)=>{const x=this.services.backendConnector.state[`${m}|${g}`];return x===-1||x===0||x===2};if(n.precheck){const m=n.precheck(this,h);if(m!==void 0)return m}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(i,a)&&(!c||h(d,a)))}loadNamespaces(a,n){const i=Sn();return this.options.ns?(me(a)&&(a=[a]),a.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{i.resolve(),n&&n(c)}),i):(n&&n(),Promise.resolve())}loadLanguages(a,n){const i=Sn();me(a)&&(a=[a]);const c=this.options.preload||[],d=a.filter(h=>c.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return d.length?(this.options.preload=c.concat(d),this.loadResources(h=>{i.resolve(),n&&n(h)}),i):(n&&n(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!a)return"rtl";try{const c=new Intl.Locale(a);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new Qm(tg());return a.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},n){return new Ln(a,n)}cloneInstance(a={},n=nl){const i=a.forkResourceStore;i&&delete a.forkResourceStore;const c={...this.options,...a,isClone:!0},d=new Ln(c);if((a.debug!==void 0||a.prefix!==void 0)&&(d.logger=d.logger.clone(a)),["store","services","language"].forEach(m=>{d[m]=this[m]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},i){const m=Object.keys(this.store.data).reduce((g,x)=>(g[x]={...this.store.data[x]},g[x]=Object.keys(g[x]).reduce((p,y)=>(p[y]={...g[x][y]},p),g[x]),g),{});d.store=new Km(m,c),d.services.resourceStore=d.store}return d.translator=new pl(d.services,c),d.translator.on("*",(m,...g)=>{d.emit(m,...g)}),d.init(c,n),d.translator.options=c,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dt=Ln.createInstance();dt.createInstance=Ln.createInstance;dt.createInstance;dt.dir;dt.init;dt.loadResources;dt.reloadResources;dt.use;dt.changeLanguage;dt.getFixedT;dt.t;dt.exists;dt.setDefaultNamespace;dt.hasLoadedNamespace;dt.loadNamespaces;dt.loadLanguages;const Ly=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Uy={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},zy=l=>Uy[l],My=l=>l.replace(Ly,zy);let ag={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:My};const qy=(l={})=>{ag={...ag,...l}},$y={type:"3rdParty",init(l){qy(l.options.react)}},By=N.createContext();function Hy({i18n:l,defaultNS:a,children:n}){const i=N.useMemo(()=>({i18n:l,defaultNS:a}),[l,a]);return N.createElement(By.Provider,{value:i},n)}const{slice:Py,forEach:Gy}=[];function Vy(l){return Gy.call(Py.call(arguments,1),a=>{if(a)for(const n in a)l[n]===void 0&&(l[n]=a[n])}),l}function Fy(l){return typeof l!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(l))}const rg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Iy=function(l,a){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},c=encodeURIComponent(a);let d=`${l}=${c}`;if(i.maxAge>0){const h=i.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");d+=`; Max-Age=${Math.floor(h)}`}if(i.domain){if(!rg.test(i.domain))throw new TypeError("option domain is invalid");d+=`; Domain=${i.domain}`}if(i.path){if(!rg.test(i.path))throw new TypeError("option path is invalid");d+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(d+="; HttpOnly"),i.secure&&(d+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(d+="; Partitioned"),d},ng={create(l,a,n,i){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+n*60*1e3)),i&&(c.domain=i),document.cookie=Iy(l,a,c)},read(l){const a=`${l}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let c=n[i];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(a)===0)return c.substring(a.length,c.length)}return null},remove(l,a){this.create(l,"",-1,a)}};var Ky={name:"cookie",lookup(l){let{lookupCookie:a}=l;if(a&&typeof document<"u")return ng.read(a)||void 0},cacheUserLanguage(l,a){let{lookupCookie:n,cookieMinutes:i,cookieDomain:c,cookieOptions:d}=a;n&&typeof document<"u"&&ng.create(n,l,i,c,d)}},Yy={name:"querystring",lookup(l){let{lookupQuerystring:a}=l,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const d=i.substring(1).split("&");for(let h=0;h<d.length;h++){const m=d[h].indexOf("=");m>0&&d[h].substring(0,m)===a&&(n=d[h].substring(m+1))}}return n}},Jy={name:"hash",lookup(l){let{lookupHash:a,lookupFromHashIndex:n}=l,i;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const d=c.substring(1);if(a){const h=d.split("&");for(let m=0;m<h.length;m++){const g=h[m].indexOf("=");g>0&&h[m].substring(0,g)===a&&(i=h[m].substring(g+1))}}if(i)return i;if(!i&&n>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?h[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let fr=null;const ig=()=>{if(fr!==null)return fr;try{if(fr=typeof window<"u"&&window.localStorage!==null,!fr)return!1;const l="i18next.translate.boo";window.localStorage.setItem(l,"foo"),window.localStorage.removeItem(l)}catch{fr=!1}return fr};var Qy={name:"localStorage",lookup(l){let{lookupLocalStorage:a}=l;if(a&&ig())return window.localStorage.getItem(a)||void 0},cacheUserLanguage(l,a){let{lookupLocalStorage:n}=a;n&&ig()&&window.localStorage.setItem(n,l)}};let mr=null;const lg=()=>{if(mr!==null)return mr;try{if(mr=typeof window<"u"&&window.sessionStorage!==null,!mr)return!1;const l="i18next.translate.boo";window.sessionStorage.setItem(l,"foo"),window.sessionStorage.removeItem(l)}catch{mr=!1}return mr};var Xy={name:"sessionStorage",lookup(l){let{lookupSessionStorage:a}=l;if(a&&lg())return window.sessionStorage.getItem(a)||void 0},cacheUserLanguage(l,a){let{lookupSessionStorage:n}=a;n&&lg()&&window.sessionStorage.setItem(n,l)}},Zy={name:"navigator",lookup(l){const a=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:c}=navigator;if(n)for(let d=0;d<n.length;d++)a.push(n[d]);i&&a.push(i),c&&a.push(c)}return a.length>0?a:void 0}},Wy={name:"htmlTag",lookup(l){let{htmlTag:a}=l,n;const i=a||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},eb={name:"path",lookup(l){let{lookupFromPathIndex:a}=l;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof a=="number"?a:0]?.replace("/",""):void 0}},tb={name:"subdomain",lookup(l){let{lookupFromSubdomainIndex:a}=l;const n=typeof a=="number"?a+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let Xg=!1;try{document.cookie,Xg=!0}catch{}const Zg=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Xg||Zg.splice(1,1);const sb=()=>({order:Zg,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:l=>l});class Wg{constructor(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(a,n)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=a,this.options=Vy(n,this.options||{},sb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=c=>c.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Ky),this.addDetector(Yy),this.addDetector(Qy),this.addDetector(Xy),this.addDetector(Zy),this.addDetector(Wy),this.addDetector(eb),this.addDetector(tb),this.addDetector(Jy)}addDetector(a){return this.detectors[a.name]=a,this}detect(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return a.forEach(i=>{if(this.detectors[i]){let c=this.detectors[i].lookup(this.options);c&&typeof c=="string"&&(c=[c]),c&&(n=n.concat(c))}}),n=n.filter(i=>i!=null&&!Fy(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(a)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(a,this.options)}))}}Wg.type="languageDetector";const og=Object.assign({}),Cn={};Object.keys(og).forEach(l=>{const a=l.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(a){const[,n]=a,i=og[l];Cn[n]||(Cn[n]={translation:{}}),i.default&&(Cn[n].translation={...Cn[n].translation,...i.default})}});dt.use(Wg).use($y).init({lng:"en",fallbackLng:"en",debug:!1,resources:Cn,interpolation:{escapeValue:!1}});var Yc={exports:{}},_n={},Jc={exports:{}},Qc={};var cg;function ab(){return cg||(cg=1,(function(l){function a(M,Q){var ee=M.length;M.push(Q);e:for(;0<ee;){var ue=ee-1>>>1,oe=M[ue];if(0<c(oe,Q))M[ue]=Q,M[ee]=oe,ee=ue;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var Q=M[0],ee=M.pop();if(ee!==Q){M[0]=ee;e:for(var ue=0,oe=M.length,R=oe>>>1;ue<R;){var P=2*(ue+1)-1,X=M[P],G=P+1,se=M[G];if(0>c(X,ee))G<oe&&0>c(se,X)?(M[ue]=se,M[G]=ee,ue=G):(M[ue]=X,M[P]=ee,ue=P);else if(G<oe&&0>c(se,ee))M[ue]=se,M[G]=ee,ue=G;else break e}}return Q}function c(M,Q){var ee=M.sortIndex-Q.sortIndex;return ee!==0?ee:M.id-Q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var g=[],x=[],p=1,y=null,_=3,j=!1,S=!1,C=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function L(M){for(var Q=n(x);Q!==null;){if(Q.callback===null)i(x);else if(Q.startTime<=M)i(x),Q.sortIndex=Q.expirationTime,a(g,Q);else break;Q=n(x)}}function B(M){if(C=!1,L(M),!S)if(n(g)!==null)S=!0,k||(k=!0,W());else{var Q=n(x);Q!==null&&ce(B,Q.startTime-M)}}var k=!1,A=-1,Y=5,te=-1;function ie(){return v?!0:!(l.unstable_now()-te<Y)}function Ce(){if(v=!1,k){var M=l.unstable_now();te=M;var Q=!0;try{e:{S=!1,C&&(C=!1,O(A),A=-1),j=!0;var ee=_;try{t:{for(L(M),y=n(g);y!==null&&!(y.expirationTime>M&&ie());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,_=y.priorityLevel;var oe=ue(y.expirationTime<=M);if(M=l.unstable_now(),typeof oe=="function"){y.callback=oe,L(M),Q=!0;break t}y===n(g)&&i(g),L(M)}else i(g);y=n(g)}if(y!==null)Q=!0;else{var R=n(x);R!==null&&ce(B,R.startTime-M),Q=!1}}break e}finally{y=null,_=ee,j=!1}Q=void 0}}finally{Q?W():k=!1}}}var W;if(typeof E=="function")W=function(){E(Ce)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ae=F.port2;F.port1.onmessage=Ce,W=function(){ae.postMessage(null)}}else W=function(){T(Ce,0)};function ce(M,Q){A=T(function(){M(l.unstable_now())},Q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(M){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var ee=_;_=Q;try{return M()}finally{_=ee}},l.unstable_requestPaint=function(){v=!0},l.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=_;_=M;try{return Q()}finally{_=ee}},l.unstable_scheduleCallback=function(M,Q,ee){var ue=l.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,M){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,M={id:p++,callback:Q,priorityLevel:M,startTime:ee,expirationTime:oe,sortIndex:-1},ee>ue?(M.sortIndex=ee,a(x,M),n(g)===null&&M===n(x)&&(C?(O(A),A=-1):C=!0,ce(B,ee-ue))):(M.sortIndex=oe,a(g,M),S||j||(S=!0,k||(k=!0,W()))),M},l.unstable_shouldYield=ie,l.unstable_wrapCallback=function(M){var Q=_;return function(){var ee=_;_=Q;try{return M.apply(this,arguments)}finally{_=ee}}}})(Qc)),Qc}var dg;function rb(){return dg||(dg=1,Jc.exports=ab()),Jc.exports}var Xc={exports:{}},ut={};var ug;function nb(){if(ug)return ut;ug=1;var l=Sd();function a(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)x+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,x,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:g,containerInfo:x,implementation:p}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(g,x){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(a(299));return d(g,x,null,p)},ut.flushSync=function(g){var x=h.T,p=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=x,i.p=p,i.d.f()}},ut.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},ut.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ut.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var p=x.as,y=m(p,x.crossOrigin),_=typeof x.integrity=="string"?x.integrity:void 0,j=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;p==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:j}):p==="script"&&i.d.X(g,{crossOrigin:y,integrity:_,fetchPriority:j,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},ut.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var p=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},ut.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var p=x.as,y=m(p,x.crossOrigin);i.d.L(g,p,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},ut.preloadModule=function(g,x){if(typeof g=="string")if(x){var p=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},ut.requestFormReset=function(g){i.d.r(g)},ut.unstable_batchedUpdates=function(g,x){return g(x)},ut.useFormState=function(g,x,p){return h.H.useFormState(g,x,p)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.2.4",ut}var hg;function ib(){if(hg)return Xc.exports;hg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Xc.exports=nb(),Xc.exports}var fg;function lb(){if(fg)return _n;fg=1;var l=rb(),a=Sd(),n=ib();function i(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(i(188))}function x(e){var s=e.alternate;if(!s){if(s=d(e),s===null)throw Error(i(188));return s!==e?null:e}for(var r=e,o=s;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return g(u),e;if(f===o)return g(u),s;f=f.sibling}throw Error(i(188))}if(r.return!==o.return)r=u,o=f;else{for(var b=!1,w=u.child;w;){if(w===r){b=!0,r=u,o=f;break}if(w===o){b=!0,o=u,r=f;break}w=w.sibling}if(!b){for(w=f.child;w;){if(w===r){b=!0,r=f,o=u;break}if(w===o){b=!0,o=f,r=u;break}w=w.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:s}function p(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=p(e),s!==null)return s;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=Ce&&e[Ce]||e["@@iterator"],typeof e=="function"?e:null)}var F=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===F?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case T:return"Profiler";case v:return"StrictMode";case B:return"Suspense";case k:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case E:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case L:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return s=e.displayName||null,s!==null?s:ae(e.type)||"Memo";case Y:s=e._payload,e=e._init;try{return ae(e(s))}catch{}}return null}var ce=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],oe=-1;function R(e){return{current:e}}function P(e){0>oe||(e.current=ue[oe],ue[oe]=null,oe--)}function X(e,s){oe++,ue[oe]=e.current,e.current=s}var G=R(null),se=R(null),re=R(null),fe=R(null);function Ge(e,s){switch(X(re,s),X(se,e),X(G,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?om(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=om(s),e=cm(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(G),X(G,e)}function Me(){P(G),P(se),P(re)}function Ca(e){e.memoizedState!==null&&X(fe,e);var s=G.current,r=cm(s,e.type);s!==r&&(X(se,e),X(G,r))}function sa(e){se.current===e&&(P(G),P(se)),fe.current===e&&(P(fe),bn._currentValue=ee)}var El,Md;function aa(e){if(El===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);El=s&&s[1]||"",Md=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+El+e+Md}var Cl=!1;function Ol(e,s){if(!e||Cl)return"";Cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var H=V}Reflect.construct(e,[],J)}else{try{J.call()}catch(V){H=V}e.call(J.prototype)}}else{try{throw Error()}catch(V){H=V}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),b=f[0],w=f[1];if(b&&w){var D=b.split(`
`),$=w.split(`
`);for(u=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;if(o===D.length||u===$.length)for(o=D.length-1,u=$.length-1;1<=o&&0<=u&&D[o]!==$[u];)u--;for(;1<=o&&0<=u;o--,u--)if(D[o]!==$[u]){if(o!==1||u!==1)do if(o--,u--,0>u||D[o]!==$[u]){var I=`
`+D[o].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=o&&0<=u);break}}}finally{Cl=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?aa(r):""}function Bx(e,s){switch(e.tag){case 26:case 27:case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return e.child!==s&&s!==null?aa("Suspense Fallback"):aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return Ol(e.type,!1);case 11:return Ol(e.type.render,!1);case 1:return Ol(e.type,!0);case 31:return aa("Activity");default:return""}}function qd(e){try{var s="",r=null;do s+=Bx(e,r),r=e,e=e.return;while(e);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Tl=Object.prototype.hasOwnProperty,Al=l.unstable_scheduleCallback,Rl=l.unstable_cancelCallback,Hx=l.unstable_shouldYield,Px=l.unstable_requestPaint,jt=l.unstable_now,Gx=l.unstable_getCurrentPriorityLevel,$d=l.unstable_ImmediatePriority,Bd=l.unstable_UserBlockingPriority,Pn=l.unstable_NormalPriority,Vx=l.unstable_LowPriority,Hd=l.unstable_IdlePriority,Fx=l.log,Ix=l.unstable_setDisableYieldValue,Ar=null,Nt=null;function _s(e){if(typeof Fx=="function"&&Ix(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ar,e)}catch{}}var wt=Math.clz32?Math.clz32:Jx,Kx=Math.log,Yx=Math.LN2;function Jx(e){return e>>>=0,e===0?32:31-(Kx(e)/Yx|0)|0}var Gn=256,Vn=262144,Fn=4194304;function ra(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function In(e,s,r){var o=e.pendingLanes;if(o===0)return 0;var u=0,f=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~f,o!==0?u=ra(o):(b&=w,b!==0?u=ra(b):r||(r=w&~e,r!==0&&(u=ra(r))))):(w=o&~f,w!==0?u=ra(w):b!==0?u=ra(b):r||(r=o&~e,r!==0&&(u=ra(r)))),u===0?0:s!==0&&s!==u&&(s&f)===0&&(f=u&-u,r=s&-s,f>=r||f===32&&(r&4194048)!==0)?s:u}function Rr(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Qx(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pd(){var e=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),e}function kl(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function kr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xx(e,s,r,o,u,f){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var w=e.entanglements,D=e.expirationTimes,$=e.hiddenUpdates;for(r=b&~r;0<r;){var I=31-wt(r),J=1<<I;w[I]=0,D[I]=-1;var H=$[I];if(H!==null)for($[I]=null,I=0;I<H.length;I++){var V=H[I];V!==null&&(V.lane&=-536870913)}r&=~J}o!==0&&Gd(e,o,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(b&~s))}function Gd(e,s,r){e.pendingLanes|=s,e.suspendedLanes&=~s;var o=31-wt(s);e.entangledLanes|=s,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Vd(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var o=31-wt(r),u=1<<o;u&s|e[o]&s&&(e[o]|=s),r&=~u}}function Fd(e,s){var r=s&-s;return r=(r&42)!==0?1:Dl(r),(r&(e.suspendedLanes|s))!==0?0:r}function Dl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ll(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Id(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:km(e.type))}function Kd(e,s){var r=Q.p;try{return Q.p=e,s()}finally{Q.p=r}}var Es=Math.random().toString(36).slice(2),nt="__reactFiber$"+Es,mt="__reactProps$"+Es,Oa="__reactContainer$"+Es,Ul="__reactEvents$"+Es,Zx="__reactListeners$"+Es,Wx="__reactHandles$"+Es,Yd="__reactResources$"+Es,Dr="__reactMarker$"+Es;function zl(e){delete e[nt],delete e[mt],delete e[Ul],delete e[Zx],delete e[Wx]}function Ta(e){var s=e[nt];if(s)return s;for(var r=e.parentNode;r;){if(s=r[Oa]||r[nt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=xm(e);e!==null;){if(r=e[nt])return r;e=xm(e)}return s}e=r,r=e.parentNode}return null}function Aa(e){if(e=e[nt]||e[Oa]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Lr(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(i(33))}function Ra(e){var s=e[Yd];return s||(s=e[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function st(e){e[Dr]=!0}var Jd=new Set,Qd={};function na(e,s){ka(e,s),ka(e+"Capture",s)}function ka(e,s){for(Qd[e]=s,e=0;e<s.length;e++)Jd.add(s[e])}var e0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xd={},Zd={};function t0(e){return Tl.call(Zd,e)?!0:Tl.call(Xd,e)?!1:e0.test(e)?Zd[e]=!0:(Xd[e]=!0,!1)}function Kn(e,s,r){if(t0(s))if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+r)}}function Yn(e,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+r)}}function ts(e,s,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(s,r,""+o)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function s0(e,s,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,f=o.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return u.call(this)},set:function(b){r=""+b,f.call(this,b)}}),Object.defineProperty(e,s,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Ml(e){if(!e._valueTracker){var s=Wd(e)?"checked":"value";e._valueTracker=s0(e,s,""+e[s])}}function eu(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),o="";return e&&(o=Wd(e)?e.checked?"true":"false":e.value),e=o,e!==r?(s.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a0=/[\n"\\]/g;function kt(e){return e.replace(a0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ql(e,s,r,o,u,f,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),s!=null?b==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Rt(s)):e.value!==""+Rt(s)&&(e.value=""+Rt(s)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),s!=null?$l(e,b,Rt(s)):r!=null?$l(e,b,Rt(r)):o!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Rt(w):e.removeAttribute("name")}function tu(e,s,r,o,u,f,b,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),s!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Ml(e);return}r=r!=null?""+Rt(r):"",s=s!=null?""+Rt(s):r,w||s===e.value||(e.value=s),e.defaultValue=s}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Ml(e)}function $l(e,s,r){s==="number"&&Jn(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Da(e,s,r,o){if(e=e.options,s){s={};for(var u=0;u<r.length;u++)s["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=s.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Rt(r),s=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}s!==null||e[u].disabled||(s=e[u])}s!==null&&(s.selected=!0)}}function su(e,s,r){if(s!=null&&(s=""+Rt(s),s!==e.value&&(e.value=s),r==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=r!=null?""+Rt(r):""}function au(e,s,r,o){if(s==null){if(o!=null){if(r!=null)throw Error(i(92));if(ce(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),s=r}r=Rt(s),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ml(e)}function La(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var r0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(e,s,r){var o=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":o?e.setProperty(s,r):typeof r!="number"||r===0||r0.has(s)?s==="float"?e.cssFloat=r:e[s]=(""+r).trim():e[s]=r+"px"}function nu(e,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in s)o=s[u],s.hasOwnProperty(u)&&r[u]!==o&&ru(e,u,o)}else for(var f in s)s.hasOwnProperty(f)&&ru(e,f,s[f])}function Bl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(e){return i0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ss(){}var Hl=null;function Pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,za=null;function iu(e){var s=Aa(e);if(s&&(e=s.stateNode)){var r=e[mt]||null;e:switch(e=s.stateNode,s.type){case"input":if(ql(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+kt(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var o=r[s];if(o!==e&&o.form===e.form){var u=o[mt]||null;if(!u)throw Error(i(90));ql(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(s=0;s<r.length;s++)o=r[s],o.form===e.form&&eu(o)}break e;case"textarea":su(e,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Da(e,!!r.multiple,s,!1)}}}var Gl=!1;function lu(e,s,r){if(Gl)return e(s,r);Gl=!0;try{var o=e(s);return o}finally{if(Gl=!1,(Ua!==null||za!==null)&&(Mi(),Ua&&(s=Ua,e=za,za=Ua=null,iu(s),e)))for(s=0;s<e.length;s++)iu(e[s])}}function Ur(e,s){var r=e.stateNode;if(r===null)return null;var o=r[mt]||null;if(o===null)return null;r=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(as)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Vl=!1}var Cs=null,Fl=null,Xn=null;function ou(){if(Xn)return Xn;var e,s=Fl,r=s.length,o,u="value"in Cs?Cs.value:Cs.textContent,f=u.length;for(e=0;e<r&&s[e]===u[e];e++);var b=r-e;for(o=1;o<=b&&s[r-o]===u[f-o];o++);return Xn=u.slice(e,1<o?1-o:void 0)}function Zn(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function cu(){return!1}function gt(e){function s(r,o,u,f,b){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wn:cu,this.isPropagationStopped=cu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),s}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=gt(ia),Mr=y({},ia,{view:0,detail:0}),l0=gt(Mr),Il,Kl,qr,ti=y({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(Il=e.screenX-qr.screenX,Kl=e.screenY-qr.screenY):Kl=Il=0,qr=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),du=gt(ti),o0=y({},ti,{dataTransfer:0}),c0=gt(o0),d0=y({},Mr,{relatedTarget:0}),Yl=gt(d0),u0=y({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),h0=gt(u0),f0=y({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m0=gt(f0),g0=y({},ia,{data:0}),uu=gt(g0),x0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b0(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=y0[e])?!!s[e]:!1}function Jl(){return b0}var v0=y({},Mr,{key:function(e){if(e.key){var s=x0[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j0=gt(v0),N0=y({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=gt(N0),w0=y({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),S0=gt(w0),_0=y({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),E0=gt(_0),C0=y({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=gt(C0),T0=y({},ia,{newState:0,oldState:0}),A0=gt(T0),R0=[9,13,27,32],Ql=as&&"CompositionEvent"in window,$r=null;as&&"documentMode"in document&&($r=document.documentMode);var k0=as&&"TextEvent"in window&&!$r,fu=as&&(!Ql||$r&&8<$r&&11>=$r),mu=" ",gu=!1;function xu(e,s){switch(e){case"keyup":return R0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function D0(e,s){switch(e){case"compositionend":return pu(s);case"keypress":return s.which!==32?null:(gu=!0,mu);case"textInput":return e=s.data,e===mu&&gu?null:e;default:return null}}function L0(e,s){if(Ma)return e==="compositionend"||!Ql&&xu(e,s)?(e=ou(),Xn=Fl=Cs=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fu&&s.locale!=="ko"?null:s.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!U0[e.type]:s==="textarea"}function bu(e,s,r,o){Ua?za?za.push(o):za=[o]:Ua=o,s=Vi(s,"onChange"),0<s.length&&(r=new ei("onChange","change",null,r,o),e.push({event:r,listeners:s}))}var Br=null,Hr=null;function z0(e){sm(e,0)}function si(e){var s=Lr(e);if(eu(s))return e}function vu(e,s){if(e==="change")return s}var ju=!1;if(as){var Xl;if(as){var Zl="oninput"in document;if(!Zl){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),Zl=typeof Nu.oninput=="function"}Xl=Zl}else Xl=!1;ju=Xl&&(!document.documentMode||9<document.documentMode)}function wu(){Br&&(Br.detachEvent("onpropertychange",Su),Hr=Br=null)}function Su(e){if(e.propertyName==="value"&&si(Hr)){var s=[];bu(s,Hr,e,Pl(e)),lu(z0,s)}}function M0(e,s,r){e==="focusin"?(wu(),Br=s,Hr=r,Br.attachEvent("onpropertychange",Su)):e==="focusout"&&wu()}function q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(Hr)}function $0(e,s){if(e==="click")return si(s)}function B0(e,s){if(e==="input"||e==="change")return si(s)}function H0(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var St=typeof Object.is=="function"?Object.is:H0;function Pr(e,s){if(St(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),o=Object.keys(s);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!Tl.call(s,u)||!St(e[u],s[u]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eu(e,s){var r=_u(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=s&&o>=s)return{node:r,offset:s-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_u(r)}}function Cu(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Cu(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Ou(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Jn(e.document);s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Jn(e.document)}return s}function Wl(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var P0=as&&"documentMode"in document&&11>=document.documentMode,qa=null,eo=null,Gr=null,to=!1;function Tu(e,s,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;to||qa==null||qa!==Jn(o)||(o=qa,"selectionStart"in o&&Wl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Gr&&Pr(Gr,o)||(Gr=o,o=Vi(eo,"onSelect"),0<o.length&&(s=new ei("onSelect","select",null,s,r),e.push({event:s,listeners:o}),s.target=qa)))}function la(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var $a={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},so={},Au={};as&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function oa(e){if(so[e])return so[e];if(!$a[e])return e;var s=$a[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Au)return so[e]=s[r];return e}var Ru=oa("animationend"),ku=oa("animationiteration"),Du=oa("animationstart"),G0=oa("transitionrun"),V0=oa("transitionstart"),F0=oa("transitioncancel"),Lu=oa("transitionend"),Uu=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function Gt(e,s){Uu.set(e,s),na(s,[e])}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Ba=0,ro=0;function ri(){for(var e=Ba,s=ro=Ba=0;s<e;){var r=Dt[s];Dt[s++]=null;var o=Dt[s];Dt[s++]=null;var u=Dt[s];Dt[s++]=null;var f=Dt[s];if(Dt[s++]=null,o!==null&&u!==null){var b=o.pending;b===null?u.next=u:(u.next=b.next,b.next=u),o.pending=u}f!==0&&zu(r,u,f)}}function ni(e,s,r,o){Dt[Ba++]=e,Dt[Ba++]=s,Dt[Ba++]=r,Dt[Ba++]=o,ro|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function no(e,s,r,o){return ni(e,s,r,o),ii(e)}function ca(e,s){return ni(e,null,null,s),ii(e)}function zu(e,s,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var u=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&s!==null&&(u=31-wt(r),e=f.hiddenUpdates,o=e[u],o===null?e[u]=[s]:o.push(s),s.lane=r|536870912),f):null}function ii(e){if(50<hn)throw hn=0,gc=null,Error(i(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ha={};function I0(e,s,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,s,r,o){return new I0(e,s,r,o)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rs(e,s){var r=e.alternate;return r===null?(r=_t(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Mu(e,s){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,s=r.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function li(e,s,r,o,u,f){var b=0;if(o=e,typeof e=="function")io(e)&&(b=1);else if(typeof e=="string")b=Xp(e,r,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=_t(31,r,s,u),e.elementType=te,e.lanes=f,e;case C:return da(r.children,u,f,s);case v:b=8,u|=24;break;case T:return e=_t(12,r,s,u|2),e.elementType=T,e.lanes=f,e;case B:return e=_t(13,r,s,u),e.elementType=B,e.lanes=f,e;case k:return e=_t(19,r,s,u),e.elementType=k,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:b=10;break e;case O:b=9;break e;case L:b=11;break e;case A:b=14;break e;case Y:b=16,o=null;break e}b=29,r=Error(i(130,e===null?"null":typeof e,"")),o=null}return s=_t(b,r,s,u),s.elementType=e,s.type=o,s.lanes=f,s}function da(e,s,r,o){return e=_t(7,e,o,s),e.lanes=r,e}function lo(e,s,r){return e=_t(6,e,null,s),e.lanes=r,e}function qu(e){var s=_t(18,null,null,0);return s.stateNode=e,s}function oo(e,s,r){return s=_t(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var $u=new WeakMap;function Lt(e,s){if(typeof e=="object"&&e!==null){var r=$u.get(e);return r!==void 0?r:(s={value:e,source:s,stack:qd(s)},$u.set(e,s),s)}return{value:e,source:s,stack:qd(s)}}var Pa=[],Ga=0,oi=null,Vr=0,Ut=[],zt=0,Os=null,Jt=1,Qt="";function ns(e,s){Pa[Ga++]=Vr,Pa[Ga++]=oi,oi=e,Vr=s}function Bu(e,s,r){Ut[zt++]=Jt,Ut[zt++]=Qt,Ut[zt++]=Os,Os=e;var o=Jt;e=Qt;var u=32-wt(o)-1;o&=~(1<<u),r+=1;var f=32-wt(s)+u;if(30<f){var b=u-u%5;f=(o&(1<<b)-1).toString(32),o>>=b,u-=b,Jt=1<<32-wt(s)+u|r<<u|o,Qt=f+e}else Jt=1<<f|r<<u|o,Qt=e}function co(e){e.return!==null&&(ns(e,1),Bu(e,1,0))}function uo(e){for(;e===oi;)oi=Pa[--Ga],Pa[Ga]=null,Vr=Pa[--Ga],Pa[Ga]=null;for(;e===Os;)Os=Ut[--zt],Ut[zt]=null,Qt=Ut[--zt],Ut[zt]=null,Jt=Ut[--zt],Ut[zt]=null}function Hu(e,s){Ut[zt++]=Jt,Ut[zt++]=Qt,Ut[zt++]=Os,Jt=s.id,Qt=s.overflow,Os=e}var it=null,$e=null,Se=!1,Ts=null,Mt=!1,ho=Error(i(519));function As(e){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fr(Lt(s,e)),ho}function Pu(e){var s=e.stateNode,r=e.type,o=e.memoizedProps;switch(s[nt]=e,s[mt]=o,r){case"dialog":ve("cancel",s),ve("close",s);break;case"iframe":case"object":case"embed":ve("load",s);break;case"video":case"audio":for(r=0;r<mn.length;r++)ve(mn[r],s);break;case"source":ve("error",s);break;case"img":case"image":case"link":ve("error",s),ve("load",s);break;case"details":ve("toggle",s);break;case"input":ve("invalid",s),tu(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ve("invalid",s);break;case"textarea":ve("invalid",s),au(s,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||o.suppressHydrationWarning===!0||im(s.textContent,r)?(o.popover!=null&&(ve("beforetoggle",s),ve("toggle",s)),o.onScroll!=null&&ve("scroll",s),o.onScrollEnd!=null&&ve("scrollend",s),o.onClick!=null&&(s.onclick=ss),s=!0):s=!1,s||As(e,!0)}function Gu(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:it=it.return}}function Va(e){if(e!==it)return!1;if(!Se)return Gu(e),Se=!0,!1;var s=e.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ac(e.type,e.memoizedProps)),r=!r),r&&$e&&As(e),Gu(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=gm(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=gm(e)}else s===27?(s=$e,Vs(e.type)?(e=Uc,Uc=null,$e=e):$e=s):$e=it?$t(e.stateNode.nextSibling):null;return!0}function ua(){$e=it=null,Se=!1}function fo(){var e=Ts;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),Ts=null),e}function Fr(e){Ts===null?Ts=[e]:Ts.push(e)}var mo=R(null),ha=null,is=null;function Rs(e,s,r){X(mo,s._currentValue),s._currentValue=r}function ls(e){e._currentValue=mo.current,P(mo)}function go(e,s,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),e===r)break;e=e.return}}function xo(e,s,r,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var b=u.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=u;for(var D=0;D<s.length;D++)if(w.context===s[D]){f.lanes|=r,w=f.alternate,w!==null&&(w.lanes|=r),go(f.return,r,e),o||(b=null);break e}f=w.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(i(341));b.lanes|=r,f=b.alternate,f!==null&&(f.lanes|=r),go(b,r,e),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===e){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function Fa(e,s,r,o){e=null;for(var u=s,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=u.type;St(u.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(u===fe.current){if(b=u.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(bn):e=[bn])}u=u.return}e!==null&&xo(s,e,r,o),s.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){ha=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Vu(ha,e)}function di(e,s){return ha===null&&fa(e),Vu(e,s)}function Vu(e,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},is===null){if(e===null)throw Error(i(308));is=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else is=is.next=s;return r}var K0=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){s.aborted=!0,e.forEach(function(r){return r()})}},Y0=l.unstable_scheduleCallback,J0=l.unstable_NormalPriority,Ye={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function po(){return{controller:new K0,data:new Map,refCount:0}}function Ir(e){e.refCount--,e.refCount===0&&Y0(J0,function(){e.controller.abort()})}var Kr=null,yo=0,Ia=0,Ka=null;function Q0(e,s){if(Kr===null){var r=Kr=[];yo=0,Ia=jc(),Ka={status:"pending",value:void 0,then:function(o){r.push(o)}}}return yo++,s.then(Fu,Fu),s}function Fu(){if(--yo===0&&Kr!==null){Ka!==null&&(Ka.status="fulfilled");var e=Kr;Kr=null,Ia=0,Ka=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function X0(e,s){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){o.status="fulfilled",o.value=s;for(var u=0;u<r.length;u++)(0,r[u])(s)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var Iu=M.S;M.S=function(e,s){Af=jt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Q0(e,s),Iu!==null&&Iu(e,s)};var ma=R(null);function bo(){var e=ma.current;return e!==null?e:ze.pooledCache}function ui(e,s){s===null?X(ma,ma.current):X(ma,s.pool)}function Ku(){var e=bo();return e===null?null:{parent:Ye._currentValue,pool:e}}var Ya=Error(i(460)),vo=Error(i(474)),hi=Error(i(542)),fi={then:function(){}};function Yu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ju(e,s,r){switch(r=e[r],r===void 0?e.push(s):r!==s&&(s.then(ss,ss),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Xu(e),e;default:if(typeof s.status=="string")s.then(ss,ss);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=s,e.status="pending",e.then(function(o){if(s.status==="pending"){var u=s;u.status="fulfilled",u.value=o}},function(o){if(s.status==="pending"){var u=s;u.status="rejected",u.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Xu(e),e}throw xa=s,Ya}}function ga(e){try{var s=e._init;return s(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(xa=r,Ya):r}}var xa=null;function Qu(){if(xa===null)throw Error(i(459));var e=xa;return xa=null,e}function Xu(e){if(e===Ya||e===hi)throw Error(i(483))}var Ja=null,Yr=0;function mi(e){var s=Yr;return Yr+=1,Ja===null&&(Ja=[]),Ju(Ja,e,s)}function Jr(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function gi(e,s){throw s.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(s),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Zu(e){function s(z,U){if(e){var q=z.deletions;q===null?(z.deletions=[U],z.flags|=16):q.push(U)}}function r(z,U){if(!e)return null;for(;U!==null;)s(z,U),U=U.sibling;return null}function o(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function u(z,U){return z=rs(z,U),z.index=0,z.sibling=null,z}function f(z,U,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<U?(z.flags|=67108866,U):q):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function b(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,U,q,K){return U===null||U.tag!==6?(U=lo(q,z.mode,K),U.return=z,U):(U=u(U,q),U.return=z,U)}function D(z,U,q,K){var de=q.type;return de===C?I(z,U,q.props.children,K,q.key):U!==null&&(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Y&&ga(de)===U.type)?(U=u(U,q.props),Jr(U,q),U.return=z,U):(U=li(q.type,q.key,q.props,null,z.mode,K),Jr(U,q),U.return=z,U)}function $(z,U,q,K){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=oo(q,z.mode,K),U.return=z,U):(U=u(U,q.children||[]),U.return=z,U)}function I(z,U,q,K,de){return U===null||U.tag!==7?(U=da(q,z.mode,K,de),U.return=z,U):(U=u(U,q),U.return=z,U)}function J(z,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=lo(""+U,z.mode,q),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return q=li(U.type,U.key,U.props,null,z.mode,q),Jr(q,U),q.return=z,q;case S:return U=oo(U,z.mode,q),U.return=z,U;case Y:return U=ga(U),J(z,U,q)}if(ce(U)||W(U))return U=da(U,z.mode,q,null),U.return=z,U;if(typeof U.then=="function")return J(z,mi(U),q);if(U.$$typeof===E)return J(z,di(z,U),q);gi(z,U)}return null}function H(z,U,q,K){var de=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:w(z,U,""+q,K);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===de?D(z,U,q,K):null;case S:return q.key===de?$(z,U,q,K):null;case Y:return q=ga(q),H(z,U,q,K)}if(ce(q)||W(q))return de!==null?null:I(z,U,q,K,null);if(typeof q.then=="function")return H(z,U,mi(q),K);if(q.$$typeof===E)return H(z,U,di(z,q),K);gi(z,q)}return null}function V(z,U,q,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(q)||null,w(U,z,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return z=z.get(K.key===null?q:K.key)||null,D(U,z,K,de);case S:return z=z.get(K.key===null?q:K.key)||null,$(U,z,K,de);case Y:return K=ga(K),V(z,U,q,K,de)}if(ce(K)||W(K))return z=z.get(q)||null,I(U,z,K,de,null);if(typeof K.then=="function")return V(z,U,q,mi(K),de);if(K.$$typeof===E)return V(z,U,q,di(U,K),de);gi(U,K)}return null}function ne(z,U,q,K){for(var de=null,_e=null,le=U,ye=U=0,we=null;le!==null&&ye<q.length;ye++){le.index>ye?(we=le,le=null):we=le.sibling;var Ee=H(z,le,q[ye],K);if(Ee===null){le===null&&(le=we);break}e&&le&&Ee.alternate===null&&s(z,le),U=f(Ee,U,ye),_e===null?de=Ee:_e.sibling=Ee,_e=Ee,le=we}if(ye===q.length)return r(z,le),Se&&ns(z,ye),de;if(le===null){for(;ye<q.length;ye++)le=J(z,q[ye],K),le!==null&&(U=f(le,U,ye),_e===null?de=le:_e.sibling=le,_e=le);return Se&&ns(z,ye),de}for(le=o(le);ye<q.length;ye++)we=V(le,z,ye,q[ye],K),we!==null&&(e&&we.alternate!==null&&le.delete(we.key===null?ye:we.key),U=f(we,U,ye),_e===null?de=we:_e.sibling=we,_e=we);return e&&le.forEach(function(Js){return s(z,Js)}),Se&&ns(z,ye),de}function he(z,U,q,K){if(q==null)throw Error(i(151));for(var de=null,_e=null,le=U,ye=U=0,we=null,Ee=q.next();le!==null&&!Ee.done;ye++,Ee=q.next()){le.index>ye?(we=le,le=null):we=le.sibling;var Js=H(z,le,Ee.value,K);if(Js===null){le===null&&(le=we);break}e&&le&&Js.alternate===null&&s(z,le),U=f(Js,U,ye),_e===null?de=Js:_e.sibling=Js,_e=Js,le=we}if(Ee.done)return r(z,le),Se&&ns(z,ye),de;if(le===null){for(;!Ee.done;ye++,Ee=q.next())Ee=J(z,Ee.value,K),Ee!==null&&(U=f(Ee,U,ye),_e===null?de=Ee:_e.sibling=Ee,_e=Ee);return Se&&ns(z,ye),de}for(le=o(le);!Ee.done;ye++,Ee=q.next())Ee=V(le,z,ye,Ee.value,K),Ee!==null&&(e&&Ee.alternate!==null&&le.delete(Ee.key===null?ye:Ee.key),U=f(Ee,U,ye),_e===null?de=Ee:_e.sibling=Ee,_e=Ee);return e&&le.forEach(function(oy){return s(z,oy)}),Se&&ns(z,ye),de}function Ue(z,U,q,K){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var de=q.key;U!==null;){if(U.key===de){if(de=q.type,de===C){if(U.tag===7){r(z,U.sibling),K=u(U,q.props.children),K.return=z,z=K;break e}}else if(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Y&&ga(de)===U.type){r(z,U.sibling),K=u(U,q.props),Jr(K,q),K.return=z,z=K;break e}r(z,U);break}else s(z,U);U=U.sibling}q.type===C?(K=da(q.props.children,z.mode,K,q.key),K.return=z,z=K):(K=li(q.type,q.key,q.props,null,z.mode,K),Jr(K,q),K.return=z,z=K)}return b(z);case S:e:{for(de=q.key;U!==null;){if(U.key===de)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){r(z,U.sibling),K=u(U,q.children||[]),K.return=z,z=K;break e}else{r(z,U);break}else s(z,U);U=U.sibling}K=oo(q,z.mode,K),K.return=z,z=K}return b(z);case Y:return q=ga(q),Ue(z,U,q,K)}if(ce(q))return ne(z,U,q,K);if(W(q)){if(de=W(q),typeof de!="function")throw Error(i(150));return q=de.call(q),he(z,U,q,K)}if(typeof q.then=="function")return Ue(z,U,mi(q),K);if(q.$$typeof===E)return Ue(z,U,di(z,q),K);gi(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(r(z,U.sibling),K=u(U,q),K.return=z,z=K):(r(z,U),K=lo(q,z.mode,K),K.return=z,z=K),b(z)):r(z,U)}return function(z,U,q,K){try{Yr=0;var de=Ue(z,U,q,K);return Ja=null,de}catch(le){if(le===Ya||le===hi)throw le;var _e=_t(29,le,null,z.mode);return _e.lanes=K,_e.return=z,_e}}}var pa=Zu(!0),Wu=Zu(!1),ks=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,s,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Oe&2)!==0){var u=o.pending;return u===null?s.next=s:(s.next=u.next,u.next=s),o.pending=s,s=ii(e),zu(e,null,r),s}return ni(e,o,s,r),ii(e)}function Qr(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var o=s.lanes;o&=e.pendingLanes,r|=o,s.lanes=r,Vd(e,r)}}function wo(e,s){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=b:f=f.next=b,r=r.next}while(r!==null);f===null?u=f=s:f=f.next=s}else u=f=s;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}var So=!1;function Xr(){if(So){var e=Ka;if(e!==null)throw e}}function Zr(e,s,r,o){So=!1;var u=e.updateQueue;ks=!1;var f=u.firstBaseUpdate,b=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var D=w,$=D.next;D.next=null,b===null?f=$:b.next=$,b=D;var I=e.alternate;I!==null&&(I=I.updateQueue,w=I.lastBaseUpdate,w!==b&&(w===null?I.firstBaseUpdate=$:w.next=$,I.lastBaseUpdate=D))}if(f!==null){var J=u.baseState;b=0,I=$=D=null,w=f;do{var H=w.lane&-536870913,V=H!==w.lane;if(V?(Ne&H)===H:(o&H)===H){H!==0&&H===Ia&&(So=!0),I!==null&&(I=I.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ne=e,he=w;H=s;var Ue=r;switch(he.tag){case 1:if(ne=he.payload,typeof ne=="function"){J=ne.call(Ue,J,H);break e}J=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=he.payload,H=typeof ne=="function"?ne.call(Ue,J,H):ne,H==null)break e;J=y({},J,H);break e;case 2:ks=!0}}H=w.callback,H!==null&&(e.flags|=64,V&&(e.flags|=8192),V=u.callbacks,V===null?u.callbacks=[H]:V.push(H))}else V={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},I===null?($=I=V,D=J):I=I.next=V,b|=H;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;V=w,w=V.next,V.next=null,u.lastBaseUpdate=V,u.shared.pending=null}}while(!0);I===null&&(D=J),u.baseState=D,u.firstBaseUpdate=$,u.lastBaseUpdate=I,f===null&&(u.shared.lanes=0),$s|=b,e.lanes=b,e.memoizedState=J}}function eh(e,s){if(typeof e!="function")throw Error(i(191,e));e.call(s)}function th(e,s){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)eh(r[e],s)}var Qa=R(null),xi=R(0);function sh(e,s){e=xs,X(xi,e),X(Qa,s),xs=e|s.baseLanes}function _o(){X(xi,xs),X(Qa,Qa.current)}function Eo(){xs=xi.current,P(Qa),P(xi)}var Et=R(null),qt=null;function Us(e){var s=e.alternate;X(Ie,Ie.current&1),X(Et,e),qt===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(qt=e)}function Co(e){X(Ie,Ie.current),X(Et,e),qt===null&&(qt=e)}function ah(e){e.tag===22?(X(Ie,Ie.current),X(Et,e),qt===null&&(qt=e)):zs()}function zs(){X(Ie,Ie.current),X(Et,Et.current)}function Ct(e){P(Et),qt===e&&(qt=null),P(Ie)}var Ie=R(0);function pi(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Dc(r)||Lc(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var os=0,xe=null,De=null,Je=null,yi=!1,Xa=!1,ya=!1,bi=0,Wr=0,Za=null,Z0=0;function Ve(){throw Error(i(321))}function Oo(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!St(e[r],s[r]))return!1;return!0}function To(e,s,r,o,u,f){return os=f,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=e===null||e.memoizedState===null?Bh:Vo,ya=!1,f=r(o,u),ya=!1,Xa&&(f=nh(s,r,o,u)),rh(e),f}function rh(e){M.H=sn;var s=De!==null&&De.next!==null;if(os=0,Je=De=xe=null,yi=!1,Wr=0,Za=null,s)throw Error(i(300));e===null||Qe||(e=e.dependencies,e!==null&&ci(e)&&(Qe=!0))}function nh(e,s,r,o){xe=e;var u=0;do{if(Xa&&(Za=null),Wr=0,Xa=!1,25<=u)throw Error(i(301));if(u+=1,Je=De=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Hh,f=s(r,o)}while(Xa);return f}function W0(){var e=M.H,s=e.useState()[0];return s=typeof s.then=="function"?en(s):s,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(xe.flags|=1024),s}function Ao(){var e=bi!==0;return bi=0,e}function Ro(e,s,r){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r}function ko(e){if(yi){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}yi=!1}os=0,Je=De=xe=null,Xa=!1,Wr=bi=0,Za=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?xe.memoizedState=Je=e:Je=Je.next=e,Je}function Ke(){if(De===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var s=Je===null?xe.memoizedState:Je.next;if(s!==null)Je=s,De=e;else{if(e===null)throw xe.alternate===null?Error(i(467)):Error(i(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Je===null?xe.memoizedState=Je=e:Je=Je.next=e}return Je}function vi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function en(e){var s=Wr;return Wr+=1,Za===null&&(Za=[]),e=Ju(Za,e,s),s=xe,(Je===null?s.memoizedState:Je.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?Bh:Vo),e}function ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return en(e);if(e.$$typeof===E)return lt(e)}throw Error(i(438,String(e)))}function Do(e){var s=null,r=xe.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(u){return u.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=vi(),xe.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(e),o=0;o<e;o++)r[o]=ie;return s.index++,r}function cs(e,s){return typeof s=="function"?s(e):s}function Ni(e){var s=Ke();return Lo(s,De,e)}function Lo(e,s,r){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=e.baseQueue,f=o.pending;if(f!==null){if(u!==null){var b=u.next;u.next=f.next,f.next=b}s.baseQueue=u=f,o.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{s=u.next;var w=b=null,D=null,$=s,I=!1;do{var J=$.lane&-536870913;if(J!==$.lane?(Ne&J)===J:(os&J)===J){var H=$.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),J===Ia&&(I=!0);else if((os&H)===H){$=$.next,H===Ia&&(I=!0);continue}else J={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(w=D=J,b=f):D=D.next=J,xe.lanes|=H,$s|=H;J=$.action,ya&&r(f,J),f=$.hasEagerState?$.eagerState:r(f,J)}else H={lane:J,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(w=D=H,b=f):D=D.next=H,xe.lanes|=J,$s|=J;$=$.next}while($!==null&&$!==s);if(D===null?b=f:D.next=w,!St(f,e.memoizedState)&&(Qe=!0,I&&(r=Ka,r!==null)))throw r;e.memoizedState=f,e.baseState=b,e.baseQueue=D,o.lastRenderedState=f}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Uo(e){var s=Ke(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,u=r.pending,f=s.memoizedState;if(u!==null){r.pending=null;var b=u=u.next;do f=e(f,b.action),b=b.next;while(b!==u);St(f,s.memoizedState)||(Qe=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),r.lastRenderedState=f}return[f,o]}function ih(e,s,r){var o=xe,u=Ke(),f=Se;if(f){if(r===void 0)throw Error(i(407));r=r()}else r=s();var b=!St((De||u).memoizedState,r);if(b&&(u.memoizedState=r,Qe=!0),u=u.queue,qo(ch.bind(null,o,u,e),[e]),u.getSnapshot!==s||b||Je!==null&&Je.memoizedState.tag&1){if(o.flags|=2048,Wa(9,{destroy:void 0},oh.bind(null,o,u,r,s),null),ze===null)throw Error(i(349));f||(os&127)!==0||lh(o,s,r)}return r}function lh(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=xe.updateQueue,s===null?(s=vi(),xe.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function oh(e,s,r,o){s.value=r,s.getSnapshot=o,dh(s)&&uh(e)}function ch(e,s,r){return r(function(){dh(s)&&uh(e)})}function dh(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!St(e,r)}catch{return!0}}function uh(e){var s=ca(e,2);s!==null&&vt(s,e,2)}function zo(e){var s=ht();if(typeof e=="function"){var r=e;if(e=r(),ya){_s(!0);try{r()}finally{_s(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},s}function hh(e,s,r,o){return e.baseState=r,Lo(e,De,typeof o=="function"?o:cs)}function ep(e,s,r,o,u){if(_i(e))throw Error(i(485));if(e=s.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};M.T!==null?r(!0):f.isTransition=!1,o(f),r=s.pending,r===null?(f.next=s.pending=f,fh(s,f)):(f.next=r.next,s.pending=r.next=f)}}function fh(e,s){var r=s.action,o=s.payload,u=e.state;if(s.isTransition){var f=M.T,b={};M.T=b;try{var w=r(u,o),D=M.S;D!==null&&D(b,w),mh(e,s,w)}catch($){Mo(e,s,$)}finally{f!==null&&b.types!==null&&(f.types=b.types),M.T=f}}else try{f=r(u,o),mh(e,s,f)}catch($){Mo(e,s,$)}}function mh(e,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){gh(e,s,o)},function(o){return Mo(e,s,o)}):gh(e,s,r)}function gh(e,s,r){s.status="fulfilled",s.value=r,xh(s),e.state=r,s=e.pending,s!==null&&(r=s.next,r===s?e.pending=null:(r=r.next,s.next=r,fh(e,r)))}function Mo(e,s,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=r,xh(s),s=s.next;while(s!==o)}e.action=null}function xh(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function ph(e,s){return s}function yh(e,s){if(Se){var r=ze.formState;if(r!==null){e:{var o=xe;if(Se){if($e){t:{for(var u=$e,f=Mt;u.nodeType!==8;){if(!f){u=null;break t}if(u=$t(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){$e=$t(u.nextSibling),o=u.data==="F!";break e}}As(o)}o=!1}o&&(s=r[0])}}return r=ht(),r.memoizedState=r.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ph,lastRenderedState:s},r.queue=o,r=Mh.bind(null,xe,o),o.dispatch=r,o=zo(!1),f=Go.bind(null,xe,!1,o.queue),o=ht(),u={state:s,dispatch:null,action:e,pending:null},o.queue=u,r=ep.bind(null,xe,u,f,r),u.dispatch=r,o.memoizedState=e,[s,r,!1]}function bh(e){var s=Ke();return vh(s,De,e)}function vh(e,s,r){if(s=Lo(e,s,ph)[0],e=Ni(cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=en(s)}catch(b){throw b===Ya?hi:b}else o=s;s=Ke();var u=s.queue,f=u.dispatch;return r!==s.memoizedState&&(xe.flags|=2048,Wa(9,{destroy:void 0},tp.bind(null,u,r),null)),[o,f,e]}function tp(e,s){e.action=s}function jh(e){var s=Ke(),r=De;if(r!==null)return vh(s,r,e);Ke(),s=s.memoizedState,r=Ke();var o=r.queue.dispatch;return r.memoizedState=e,[s,o,!1]}function Wa(e,s,r,o){return e={tag:e,create:r,deps:o,inst:s,next:null},s=xe.updateQueue,s===null&&(s=vi(),xe.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,s.lastEffect=e),e}function Nh(){return Ke().memoizedState}function wi(e,s,r,o){var u=ht();xe.flags|=e,u.memoizedState=Wa(1|s,{destroy:void 0},r,o===void 0?null:o)}function Si(e,s,r,o){var u=Ke();o=o===void 0?null:o;var f=u.memoizedState.inst;De!==null&&o!==null&&Oo(o,De.memoizedState.deps)?u.memoizedState=Wa(s,f,r,o):(xe.flags|=e,u.memoizedState=Wa(1|s,f,r,o))}function wh(e,s){wi(8390656,8,e,s)}function qo(e,s){Si(2048,8,e,s)}function sp(e){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=vi(),xe.updateQueue=s,s.events=[e];else{var r=s.events;r===null?s.events=[e]:r.push(e)}}function Sh(e){var s=Ke().memoizedState;return sp({ref:s,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function _h(e,s){return Si(4,2,e,s)}function Eh(e,s){return Si(4,4,e,s)}function Ch(e,s){if(typeof s=="function"){e=e();var r=s(e);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Oh(e,s,r){r=r!=null?r.concat([e]):null,Si(4,4,Ch.bind(null,s,e),r)}function $o(){}function Th(e,s){var r=Ke();s=s===void 0?null:s;var o=r.memoizedState;return s!==null&&Oo(s,o[1])?o[0]:(r.memoizedState=[e,s],e)}function Ah(e,s){var r=Ke();s=s===void 0?null:s;var o=r.memoizedState;if(s!==null&&Oo(s,o[1]))return o[0];if(o=e(),ya){_s(!0);try{e()}finally{_s(!1)}}return r.memoizedState=[o,s],o}function Bo(e,s,r){return r===void 0||(os&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=s:(e.memoizedState=r,e=kf(),xe.lanes|=e,$s|=e,r)}function Rh(e,s,r,o){return St(r,s)?r:Qa.current!==null?(e=Bo(e,r,o),St(e,s)||(Qe=!0),e):(os&42)===0||(os&1073741824)!==0&&(Ne&261930)===0?(Qe=!0,e.memoizedState=r):(e=kf(),xe.lanes|=e,$s|=e,s)}function kh(e,s,r,o,u){var f=Q.p;Q.p=f!==0&&8>f?f:8;var b=M.T,w={};M.T=w,Go(e,!1,s,r);try{var D=u(),$=M.S;if($!==null&&$(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var I=X0(D,o);tn(e,s,I,At(e))}else tn(e,s,o,At(e))}catch(J){tn(e,s,{then:function(){},status:"rejected",reason:J},At())}finally{Q.p=f,b!==null&&w.types!==null&&(b.types=w.types),M.T=b}}function ap(){}function Ho(e,s,r,o){if(e.tag!==5)throw Error(i(476));var u=Dh(e).queue;kh(e,u,s,ee,r===null?ap:function(){return Lh(e),r(o)})}function Dh(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ee},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:r},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Lh(e){var s=Dh(e);s.next===null&&(s=e.alternate.memoizedState),tn(e,s.next.queue,{},At())}function Po(){return lt(bn)}function Uh(){return Ke().memoizedState}function zh(){return Ke().memoizedState}function rp(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var r=At();e=Ds(r);var o=Ls(s,e,r);o!==null&&(vt(o,s,r),Qr(o,s,r)),s={cache:po()},e.payload=s;return}s=s.return}}function np(e,s,r){var o=At();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_i(e)?qh(s,r):(r=no(e,s,r,o),r!==null&&(vt(r,e,o),$h(r,s,o)))}function Mh(e,s,r){var o=At();tn(e,s,r,o)}function tn(e,s,r,o){var u={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(_i(e))qh(s,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var b=s.lastRenderedState,w=f(b,r);if(u.hasEagerState=!0,u.eagerState=w,St(w,b))return ni(e,s,u,0),ze===null&&ri(),!1}catch{}if(r=no(e,s,u,o),r!==null)return vt(r,e,o),$h(r,s,o),!0}return!1}function Go(e,s,r,o){if(o={lane:2,revertLane:jc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(s)throw Error(i(479))}else s=no(e,r,o,2),s!==null&&vt(s,e,2)}function _i(e){var s=e.alternate;return e===xe||s!==null&&s===xe}function qh(e,s){Xa=yi=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function $h(e,s,r){if((r&4194048)!==0){var o=s.lanes;o&=e.pendingLanes,r|=o,s.lanes=r,Vd(e,r)}}var sn={readContext:lt,use:ji,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};sn.useEffectEvent=Ve;var Bh={readContext:lt,use:ji,useCallback:function(e,s){return ht().memoizedState=[e,s===void 0?null:s],e},useContext:lt,useEffect:wh,useImperativeHandle:function(e,s,r){r=r!=null?r.concat([e]):null,wi(4194308,4,Ch.bind(null,s,e),r)},useLayoutEffect:function(e,s){return wi(4194308,4,e,s)},useInsertionEffect:function(e,s){wi(4,2,e,s)},useMemo:function(e,s){var r=ht();s=s===void 0?null:s;var o=e();if(ya){_s(!0);try{e()}finally{_s(!1)}}return r.memoizedState=[o,s],o},useReducer:function(e,s,r){var o=ht();if(r!==void 0){var u=r(s);if(ya){_s(!0);try{r(s)}finally{_s(!1)}}}else u=s;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=np.bind(null,xe,e),[o.memoizedState,e]},useRef:function(e){var s=ht();return e={current:e},s.memoizedState=e},useState:function(e){e=zo(e);var s=e.queue,r=Mh.bind(null,xe,s);return s.dispatch=r,[e.memoizedState,r]},useDebugValue:$o,useDeferredValue:function(e,s){var r=ht();return Bo(r,e,s)},useTransition:function(){var e=zo(!1);return e=kh.bind(null,xe,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,r){var o=xe,u=ht();if(Se){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),ze===null)throw Error(i(349));(Ne&127)!==0||lh(o,s,r)}u.memoizedState=r;var f={value:r,getSnapshot:s};return u.queue=f,wh(ch.bind(null,o,f,e),[e]),o.flags|=2048,Wa(9,{destroy:void 0},oh.bind(null,o,f,r,s),null),r},useId:function(){var e=ht(),s=ze.identifierPrefix;if(Se){var r=Qt,o=Jt;r=(o&~(1<<32-wt(o)-1)).toString(32)+r,s="_"+s+"R_"+r,r=bi++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=Z0++,s="_"+s+"r_"+r.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Po,useFormState:yh,useActionState:yh,useOptimistic:function(e){var s=ht();s.memoizedState=s.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Go.bind(null,xe,!0,r),r.dispatch=s,[e,s]},useMemoCache:Do,useCacheRefresh:function(){return ht().memoizedState=rp.bind(null,xe)},useEffectEvent:function(e){var s=ht(),r={impl:e};return s.memoizedState=r,function(){if((Oe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Vo={readContext:lt,use:ji,useCallback:Th,useContext:lt,useEffect:qo,useImperativeHandle:Oh,useInsertionEffect:_h,useLayoutEffect:Eh,useMemo:Ah,useReducer:Ni,useRef:Nh,useState:function(){return Ni(cs)},useDebugValue:$o,useDeferredValue:function(e,s){var r=Ke();return Rh(r,De.memoizedState,e,s)},useTransition:function(){var e=Ni(cs)[0],s=Ke().memoizedState;return[typeof e=="boolean"?e:en(e),s]},useSyncExternalStore:ih,useId:Uh,useHostTransitionStatus:Po,useFormState:bh,useActionState:bh,useOptimistic:function(e,s){var r=Ke();return hh(r,De,e,s)},useMemoCache:Do,useCacheRefresh:zh};Vo.useEffectEvent=Sh;var Hh={readContext:lt,use:ji,useCallback:Th,useContext:lt,useEffect:qo,useImperativeHandle:Oh,useInsertionEffect:_h,useLayoutEffect:Eh,useMemo:Ah,useReducer:Uo,useRef:Nh,useState:function(){return Uo(cs)},useDebugValue:$o,useDeferredValue:function(e,s){var r=Ke();return De===null?Bo(r,e,s):Rh(r,De.memoizedState,e,s)},useTransition:function(){var e=Uo(cs)[0],s=Ke().memoizedState;return[typeof e=="boolean"?e:en(e),s]},useSyncExternalStore:ih,useId:Uh,useHostTransitionStatus:Po,useFormState:jh,useActionState:jh,useOptimistic:function(e,s){var r=Ke();return De!==null?hh(r,De,e,s):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Do,useCacheRefresh:zh};Hh.useEffectEvent=Sh;function Fo(e,s,r,o){s=e.memoizedState,r=r(o,s),r=r==null?s:y({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Io={enqueueSetState:function(e,s,r){e=e._reactInternals;var o=At(),u=Ds(o);u.payload=s,r!=null&&(u.callback=r),s=Ls(e,u,o),s!==null&&(vt(s,e,o),Qr(s,e,o))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var o=At(),u=Ds(o);u.tag=1,u.payload=s,r!=null&&(u.callback=r),s=Ls(e,u,o),s!==null&&(vt(s,e,o),Qr(s,e,o))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=At(),o=Ds(r);o.tag=2,s!=null&&(o.callback=s),s=Ls(e,o,r),s!==null&&(vt(s,e,r),Qr(s,e,r))}};function Ph(e,s,r,o,u,f,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,b):s.prototype&&s.prototype.isPureReactComponent?!Pr(r,o)||!Pr(u,f):!0}function Gh(e,s,r,o){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,o),s.state!==e&&Io.enqueueReplaceState(s,s.state,null)}function ba(e,s){var r=s;if("ref"in s){r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}if(e=e.defaultProps){r===s&&(r=y({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}function Vh(e){ai(e)}function Fh(e){console.error(e)}function Ih(e){ai(e)}function Ei(e,s){try{var r=e.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Kh(e,s,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Ko(e,s,r){return r=Ds(r),r.tag=3,r.payload={element:null},r.callback=function(){Ei(e,s)},r}function Yh(e){return e=Ds(e),e.tag=3,e}function Jh(e,s,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;e.payload=function(){return u(f)},e.callback=function(){Kh(s,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Kh(s,r,o),typeof u!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function ip(e,s,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=r.alternate,s!==null&&Fa(s,r,u,!0),r=Et.current,r!==null){switch(r.tag){case 31:case 13:return qt===null?qi():r.alternate===null&&Fe===0&&(Fe=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===fi?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([o]):s.add(o),yc(e,o,u)),!1;case 22:return r.flags|=65536,o===fi?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([o]):r.add(o)),yc(e,o,u)),!1}throw Error(i(435,r.tag))}return yc(e,o,u),qi(),!1}if(Se)return s=Et.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=u,o!==ho&&(e=Error(i(422),{cause:o}),Fr(Lt(e,r)))):(o!==ho&&(s=Error(i(423),{cause:o}),Fr(Lt(s,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=Lt(o,r),u=Ko(e.stateNode,o,u),wo(e,u),Fe!==4&&(Fe=2)),!1;var f=Error(i(520),{cause:o});if(f=Lt(f,r),un===null?un=[f]:un.push(f),Fe!==4&&(Fe=2),s===null)return!0;o=Lt(o,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=Ko(r.stateNode,o,e),wo(r,e),!1;case 1:if(s=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Yh(u),Jh(u,e,r,o),wo(r,u),!1}r=r.return}while(r!==null);return!1}var Yo=Error(i(461)),Qe=!1;function ot(e,s,r,o){s.child=e===null?Wu(s,null,r,o):pa(s,e.child,r,o)}function Qh(e,s,r,o,u){r=r.render;var f=s.ref;if("ref"in o){var b={};for(var w in o)w!=="ref"&&(b[w]=o[w])}else b=o;return fa(s),o=To(e,s,r,b,f,u),w=Ao(),e!==null&&!Qe?(Ro(e,s,u),ds(e,s,u)):(Se&&w&&co(s),s.flags|=1,ot(e,s,o,u),s.child)}function Xh(e,s,r,o,u){if(e===null){var f=r.type;return typeof f=="function"&&!io(f)&&f.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=f,Zh(e,s,f,o,u)):(e=li(r.type,null,o,s,s.mode,u),e.ref=s.ref,e.return=s,s.child=e)}if(f=e.child,!sc(e,u)){var b=f.memoizedProps;if(r=r.compare,r=r!==null?r:Pr,r(b,o)&&e.ref===s.ref)return ds(e,s,u)}return s.flags|=1,e=rs(f,o),e.ref=s.ref,e.return=s,s.child=e}function Zh(e,s,r,o,u){if(e!==null){var f=e.memoizedProps;if(Pr(f,o)&&e.ref===s.ref)if(Qe=!1,s.pendingProps=o=f,sc(e,u))(e.flags&131072)!==0&&(Qe=!0);else return s.lanes=e.lanes,ds(e,s,u)}return Jo(e,s,r,o,u)}function Wh(e,s,r,o){var u=o.children,f=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=s.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~f}else o=0,s.child=null;return ef(e,s,f,r,o)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&ui(s,f!==null?f.cachePool:null),f!==null?sh(s,f):_o(),ah(s);else return o=s.lanes=536870912,ef(e,s,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ui(s,f.cachePool),sh(s,f),zs(),s.memoizedState=null):(e!==null&&ui(s,null),_o(),zs());return ot(e,s,u,r),s.child}function an(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ef(e,s,r,o,u){var f=bo();return f=f===null?null:{parent:Ye._currentValue,pool:f},s.memoizedState={baseLanes:r,cachePool:f},e!==null&&ui(s,null),_o(),ah(s),e!==null&&Fa(e,s,o,!0),s.childLanes=u,null}function Ci(e,s){return s=Ti({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function tf(e,s,r){return pa(s,e.child,null,r),e=Ci(s,s.pendingProps),e.flags|=2,Ct(s),s.memoizedState=null,e}function lp(e,s,r){var o=s.pendingProps,u=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Se){if(o.mode==="hidden")return e=Ci(s,o),s.lanes=536870912,an(null,e);if(Co(s),(e=$e)?(e=mm(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Jt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},r=qu(e),r.return=s,s.child=r,it=s,$e=null)):e=null,e===null)throw As(s);return s.lanes=536870912,null}return Ci(s,o)}var f=e.memoizedState;if(f!==null){var b=f.dehydrated;if(Co(s),u)if(s.flags&256)s.flags&=-257,s=tf(e,s,r);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(i(558));else if(Qe||Fa(e,s,r,!1),u=(r&e.childLanes)!==0,Qe||u){if(o=ze,o!==null&&(b=Fd(o,r),b!==0&&b!==f.retryLane))throw f.retryLane=b,ca(e,b),vt(o,e,b),Yo;qi(),s=tf(e,s,r)}else e=f.treeContext,$e=$t(b.nextSibling),it=s,Se=!0,Ts=null,Mt=!1,e!==null&&Hu(s,e),s=Ci(s,o),s.flags|=4096;return s}return e=rs(e.child,{mode:o.mode,children:o.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Oi(e,s){var r=s.ref;if(r===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(s.flags|=4194816)}}function Jo(e,s,r,o,u){return fa(s),r=To(e,s,r,o,void 0,u),o=Ao(),e!==null&&!Qe?(Ro(e,s,u),ds(e,s,u)):(Se&&o&&co(s),s.flags|=1,ot(e,s,r,u),s.child)}function sf(e,s,r,o,u,f){return fa(s),s.updateQueue=null,r=nh(s,o,r,u),rh(e),o=Ao(),e!==null&&!Qe?(Ro(e,s,f),ds(e,s,f)):(Se&&o&&co(s),s.flags|=1,ot(e,s,r,f),s.child)}function af(e,s,r,o,u){if(fa(s),s.stateNode===null){var f=Ha,b=r.contextType;typeof b=="object"&&b!==null&&(f=lt(b)),f=new r(o,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Io,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=o,f.state=s.memoizedState,f.refs={},jo(s),b=r.contextType,f.context=typeof b=="object"&&b!==null?lt(b):Ha,f.state=s.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(Fo(s,r,b,o),f.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Io.enqueueReplaceState(f,f.state,null),Zr(s,o,f,u),Xr(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(e===null){f=s.stateNode;var w=s.memoizedProps,D=ba(r,w);f.props=D;var $=f.context,I=r.contextType;b=Ha,typeof I=="object"&&I!==null&&(b=lt(I));var J=r.getDerivedStateFromProps;I=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||$!==b)&&Gh(s,f,o,b),ks=!1;var H=s.memoizedState;f.state=H,Zr(s,o,f,u),Xr(),$=s.memoizedState,w||H!==$||ks?(typeof J=="function"&&(Fo(s,r,J,o),$=s.memoizedState),(D=ks||Ph(s,r,D,o,H,$,b))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=$),f.props=o,f.state=$,f.context=b,o=D):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{f=s.stateNode,No(e,s),b=s.memoizedProps,I=ba(r,b),f.props=I,J=s.pendingProps,H=f.context,$=r.contextType,D=Ha,typeof $=="object"&&$!==null&&(D=lt($)),w=r.getDerivedStateFromProps,($=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==J||H!==D)&&Gh(s,f,o,D),ks=!1,H=s.memoizedState,f.state=H,Zr(s,o,f,u),Xr();var V=s.memoizedState;b!==J||H!==V||ks||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof w=="function"&&(Fo(s,r,w,o),V=s.memoizedState),(I=ks||Ph(s,r,I,o,H,V,D)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,V,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,V,D)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=V),f.props=o,f.state=V,f.context=D,o=I):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),o=!1)}return f=o,Oi(e,s),o=(s.flags&128)!==0,f||o?(f=s.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,e!==null&&o?(s.child=pa(s,e.child,null,u),s.child=pa(s,null,r,u)):ot(e,s,r,u),s.memoizedState=f.state,e=s.child):e=ds(e,s,u),e}function rf(e,s,r,o){return ua(),s.flags|=256,ot(e,s,r,o),s.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Ku()}}function Zo(e,s,r){return e=e!==null?e.childLanes&~r:0,s&&(e|=Tt),e}function nf(e,s,r){var o=s.pendingProps,u=!1,f=(s.flags&128)!==0,b;if((b=f)||(b=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),b&&(u=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,e===null){if(Se){if(u?Us(s):zs(),(e=$e)?(e=mm(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Jt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},r=qu(e),r.return=s,s.child=r,it=s,$e=null)):e=null,e===null)throw As(s);return Lc(e)?s.lanes=32:s.lanes=536870912,null}var w=o.children;return o=o.fallback,u?(zs(),u=s.mode,w=Ti({mode:"hidden",children:w},u),o=da(o,u,r,null),w.return=s,o.return=s,w.sibling=o,s.child=w,o=s.child,o.memoizedState=Xo(r),o.childLanes=Zo(e,b,r),s.memoizedState=Qo,an(null,o)):(Us(s),Wo(s,w))}var D=e.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(f)s.flags&256?(Us(s),s.flags&=-257,s=ec(e,s,r)):s.memoizedState!==null?(zs(),s.child=e.child,s.flags|=128,s=null):(zs(),w=o.fallback,u=s.mode,o=Ti({mode:"visible",children:o.children},u),w=da(w,u,r,null),w.flags|=2,o.return=s,w.return=s,o.sibling=w,s.child=o,pa(s,e.child,null,r),o=s.child,o.memoizedState=Xo(r),o.childLanes=Zo(e,b,r),s.memoizedState=Qo,s=an(null,o));else if(Us(s),Lc(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var $=b.dgst;b=$,o=Error(i(419)),o.stack="",o.digest=b,Fr({value:o,source:null,stack:null}),s=ec(e,s,r)}else if(Qe||Fa(e,s,r,!1),b=(r&e.childLanes)!==0,Qe||b){if(b=ze,b!==null&&(o=Fd(b,r),o!==0&&o!==D.retryLane))throw D.retryLane=o,ca(e,o),vt(b,e,o),Yo;Dc(w)||qi(),s=ec(e,s,r)}else Dc(w)?(s.flags|=192,s.child=e.child,s=null):(e=D.treeContext,$e=$t(w.nextSibling),it=s,Se=!0,Ts=null,Mt=!1,e!==null&&Hu(s,e),s=Wo(s,o.children),s.flags|=4096);return s}return u?(zs(),w=o.fallback,u=s.mode,D=e.child,$=D.sibling,o=rs(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,$!==null?w=rs($,w):(w=da(w,u,r,null),w.flags|=2),w.return=s,o.return=s,o.sibling=w,s.child=o,an(null,o),o=s.child,w=e.child.memoizedState,w===null?w=Xo(r):(u=w.cachePool,u!==null?(D=Ye._currentValue,u=u.parent!==D?{parent:D,pool:D}:u):u=Ku(),w={baseLanes:w.baseLanes|r,cachePool:u}),o.memoizedState=w,o.childLanes=Zo(e,b,r),s.memoizedState=Qo,an(e.child,o)):(Us(s),r=e.child,e=r.sibling,r=rs(r,{mode:"visible",children:o.children}),r.return=s,r.sibling=null,e!==null&&(b=s.deletions,b===null?(s.deletions=[e],s.flags|=16):b.push(e)),s.child=r,s.memoizedState=null,r)}function Wo(e,s){return s=Ti({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ti(e,s){return e=_t(22,e,null,s),e.lanes=0,e}function ec(e,s,r){return pa(s,e.child,null,r),e=Wo(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function lf(e,s,r){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s),go(e.return,s,r)}function tc(e,s,r,o,u,f){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u,treeForkCount:f}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=u,b.treeForkCount=f)}function of(e,s,r){var o=s.pendingProps,u=o.revealOrder,f=o.tail;o=o.children;var b=Ie.current,w=(b&2)!==0;if(w?(b=b&1|2,s.flags|=128):b&=1,X(Ie,b),ot(e,s,o,r),o=Se?Vr:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,r,s);else if(e.tag===19)lf(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(r=s.child,u=null;r!==null;)e=r.alternate,e!==null&&pi(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=s.child,s.child=null):(u=r.sibling,r.sibling=null),tc(s,!1,u,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=s.child,s.child=null;u!==null;){if(e=u.alternate,e!==null&&pi(e)===null){s.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}tc(s,!0,r,null,f,o);break;case"together":tc(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function ds(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),$s|=s.lanes,(r&s.childLanes)===0)if(e!==null){if(Fa(e,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(i(153));if(s.child!==null){for(e=s.child,r=rs(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=rs(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function sc(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function op(e,s,r){switch(s.tag){case 3:Ge(s,s.stateNode.containerInfo),Rs(s,Ye,e.memoizedState.cache),ua();break;case 27:case 5:Ca(s);break;case 4:Ge(s,s.stateNode.containerInfo);break;case 10:Rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Co(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(s),s.flags|=128,null):(r&s.child.childLanes)!==0?nf(e,s,r):(Us(s),e=ds(e,s,r),e!==null?e.sibling:null);Us(s);break;case 19:var u=(e.flags&128)!==0;if(o=(r&s.childLanes)!==0,o||(Fa(e,s,r,!1),o=(r&s.childLanes)!==0),u){if(o)return of(e,s,r);s.flags|=128}if(u=s.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(Ie,Ie.current),o)break;return null;case 22:return s.lanes=0,Wh(e,s,r,s.pendingProps);case 24:Rs(s,Ye,e.memoizedState.cache)}return ds(e,s,r)}function cf(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps)Qe=!0;else{if(!sc(e,r)&&(s.flags&128)===0)return Qe=!1,op(e,s,r);Qe=(e.flags&131072)!==0}else Qe=!1,Se&&(s.flags&1048576)!==0&&Bu(s,Vr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(e=ga(s.elementType),s.type=e,typeof e=="function")io(e)?(o=ba(e,o),s.tag=1,s=af(null,s,e,o,r)):(s.tag=0,s=Jo(null,s,e,o,r));else{if(e!=null){var u=e.$$typeof;if(u===L){s.tag=11,s=Qh(null,s,e,o,r);break e}else if(u===A){s.tag=14,s=Xh(null,s,e,o,r);break e}}throw s=ae(e)||e,Error(i(306,s,""))}}return s;case 0:return Jo(e,s,s.type,s.pendingProps,r);case 1:return o=s.type,u=ba(o,s.pendingProps),af(e,s,o,u,r);case 3:e:{if(Ge(s,s.stateNode.containerInfo),e===null)throw Error(i(387));o=s.pendingProps;var f=s.memoizedState;u=f.element,No(e,s),Zr(s,o,null,r);var b=s.memoizedState;if(o=b.cache,Rs(s,Ye,o),o!==f.cache&&xo(s,[Ye],r,!0),Xr(),o=b.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=rf(e,s,o,r);break e}else if(o!==u){u=Lt(Error(i(424)),s),Fr(u),s=rf(e,s,o,r);break e}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,$e=$t(e.firstChild),it=s,Se=!0,Ts=null,Mt=!0,r=Wu(s,null,o,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ua(),o===u){s=ds(e,s,r);break e}ot(e,s,o,r)}s=s.child}return s;case 26:return Oi(e,s),e===null?(r=vm(s.type,null,s.pendingProps,null))?s.memoizedState=r:Se||(r=s.type,e=s.pendingProps,o=Fi(re.current).createElement(r),o[nt]=s,o[mt]=e,ct(o,r,e),st(o),s.stateNode=o):s.memoizedState=vm(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Ca(s),e===null&&Se&&(o=s.stateNode=pm(s.type,s.pendingProps,re.current),it=s,Mt=!0,u=$e,Vs(s.type)?(Uc=u,$e=$t(o.firstChild)):$e=u),ot(e,s,s.pendingProps.children,r),Oi(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Se&&((u=o=$e)&&(o=qp(o,s.type,s.pendingProps,Mt),o!==null?(s.stateNode=o,it=s,$e=$t(o.firstChild),Mt=!1,u=!0):u=!1),u||As(s)),Ca(s),u=s.type,f=s.pendingProps,b=e!==null?e.memoizedProps:null,o=f.children,Ac(u,f)?o=null:b!==null&&Ac(u,b)&&(s.flags|=32),s.memoizedState!==null&&(u=To(e,s,W0,null,null,r),bn._currentValue=u),Oi(e,s),ot(e,s,o,r),s.child;case 6:return e===null&&Se&&((e=r=$e)&&(r=$p(r,s.pendingProps,Mt),r!==null?(s.stateNode=r,it=s,$e=null,e=!0):e=!1),e||As(s)),null;case 13:return nf(e,s,r);case 4:return Ge(s,s.stateNode.containerInfo),o=s.pendingProps,e===null?s.child=pa(s,null,o,r):ot(e,s,o,r),s.child;case 11:return Qh(e,s,s.type,s.pendingProps,r);case 7:return ot(e,s,s.pendingProps,r),s.child;case 8:return ot(e,s,s.pendingProps.children,r),s.child;case 12:return ot(e,s,s.pendingProps.children,r),s.child;case 10:return o=s.pendingProps,Rs(s,s.type,o.value),ot(e,s,o.children,r),s.child;case 9:return u=s.type._context,o=s.pendingProps.children,fa(s),u=lt(u),o=o(u),s.flags|=1,ot(e,s,o,r),s.child;case 14:return Xh(e,s,s.type,s.pendingProps,r);case 15:return Zh(e,s,s.type,s.pendingProps,r);case 19:return of(e,s,r);case 31:return lp(e,s,r);case 22:return Wh(e,s,r,s.pendingProps);case 24:return fa(s),o=lt(Ye),e===null?(u=bo(),u===null&&(u=ze,f=po(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),s.memoizedState={parent:o,cache:u},jo(s),Rs(s,Ye,u)):((e.lanes&r)!==0&&(No(e,s),Zr(s,null,null,r),Xr()),u=e.memoizedState,f=s.memoizedState,u.parent!==o?(u={parent:o,cache:o},s.memoizedState=u,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=u),Rs(s,Ye,o)):(o=f.cache,Rs(s,Ye,o),o!==u.cache&&xo(s,[Ye],r,!0))),ot(e,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function us(e){e.flags|=4}function ac(e,s,r,o,u){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw xa=fi,vo}else e.flags&=-16777217}function df(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(s))if(zf())e.flags|=8192;else throw xa=fi,vo}function Ai(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Pd():536870912,e.lanes|=s,ar|=s)}function rn(e,s){if(!Se)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Be(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(s)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=r,s}function cp(e,s,r){var o=s.pendingProps;switch(uo(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(s),null;case 1:return Be(s),null;case 3:return r=s.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ls(Ye),Me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Va(s)?us(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fo())),Be(s),null;case 26:var u=s.type,f=s.memoizedState;return e===null?(us(s),f!==null?(Be(s),df(s,f)):(Be(s),ac(s,u,null,o,r))):f?f!==e.memoizedState?(us(s),Be(s),df(s,f)):(Be(s),s.flags&=-16777217):(e=e.memoizedProps,e!==o&&us(s),Be(s),ac(s,u,e,o,r)),null;case 27:if(sa(s),r=re.current,u=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==o&&us(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Be(s),null}e=G.current,Va(s)?Pu(s):(e=pm(u,o,r),s.stateNode=e,us(s))}return Be(s),null;case 5:if(sa(s),u=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==o&&us(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Be(s),null}if(f=G.current,Va(s))Pu(s);else{var b=Fi(re.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?b.createElement(u,{is:o.is}):b.createElement(u)}}f[nt]=s,f[mt]=o;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=f;e:switch(ct(f,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&us(s)}}return Be(s),ac(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,r),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==o&&us(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(e=re.current,Va(s)){if(e=s.stateNode,r=s.memoizedProps,o=null,u=it,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[nt]=s,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||im(e.nodeValue,r)),e||As(s,!0)}else e=Fi(e).createTextNode(o),e[nt]=s,s.stateNode=e}return Be(s),null;case 31:if(r=s.memoizedState,e===null||e.memoizedState!==null){if(o=Va(s),r!==null){if(e===null){if(!o)throw Error(i(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[nt]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),e=!1}else r=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return s.flags&256?(Ct(s),s):(Ct(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Be(s),null;case 13:if(o=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Va(s),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=s.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[nt]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),u=!1}else u=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return s.flags&256?(Ct(s),s):(Ct(s),null)}return Ct(s),(s.flags&128)!==0?(s.lanes=r,s):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=s.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)),r!==e&&r&&(s.child.flags|=8192),Ai(s,s.updateQueue),Be(s),null);case 4:return Me(),e===null&&_c(s.stateNode.containerInfo),Be(s),null;case 10:return ls(s.type),Be(s),null;case 19:if(P(Ie),o=s.memoizedState,o===null)return Be(s),null;if(u=(s.flags&128)!==0,f=o.rendering,f===null)if(u)rn(o,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(f=pi(e),f!==null){for(s.flags|=128,rn(o,!1),e=f.updateQueue,s.updateQueue=e,Ai(s,e),s.subtreeFlags=0,e=r,r=s.child;r!==null;)Mu(r,e),r=r.sibling;return X(Ie,Ie.current&1|2),Se&&ns(s,o.treeForkCount),s.child}e=e.sibling}o.tail!==null&&jt()>Ui&&(s.flags|=128,u=!0,rn(o,!1),s.lanes=4194304)}else{if(!u)if(e=pi(f),e!==null){if(s.flags|=128,u=!0,e=e.updateQueue,s.updateQueue=e,Ai(s,e),rn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Se)return Be(s),null}else 2*jt()-o.renderingStartTime>Ui&&r!==536870912&&(s.flags|=128,u=!0,rn(o,!1),s.lanes=4194304);o.isBackwards?(f.sibling=s.child,s.child=f):(e=o.last,e!==null?e.sibling=f:s.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=jt(),e.sibling=null,r=Ie.current,X(Ie,u?r&1|2:r&1),Se&&ns(s,o.treeForkCount),e):(Be(s),null);case 22:case 23:return Ct(s),Eo(),o=s.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(r&536870912)!==0&&(s.flags&128)===0&&(Be(s),s.subtreeFlags&6&&(s.flags|=8192)):Be(s),r=s.updateQueue,r!==null&&Ai(s,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==r&&(s.flags|=2048),e!==null&&P(ma),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),ls(Ye),Be(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function dp(e,s){switch(uo(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ls(Ye),Me(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return sa(s),null;case 31:if(s.memoizedState!==null){if(Ct(s),s.alternate===null)throw Error(i(340));ua()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Ct(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ua()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return P(Ie),null;case 4:return Me(),null;case 10:return ls(s.type),null;case 22:case 23:return Ct(s),Eo(),e!==null&&P(ma),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ls(Ye),null;case 25:return null;default:return null}}function uf(e,s){switch(uo(s),s.tag){case 3:ls(Ye),Me();break;case 26:case 27:case 5:sa(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&Ct(s);break;case 13:Ct(s);break;case 19:P(Ie);break;case 10:ls(s.type);break;case 22:case 23:Ct(s),Eo(),e!==null&&P(ma);break;case 24:ls(Ye)}}function nn(e,s){try{var r=s.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){o=void 0;var f=r.create,b=r.inst;o=f(),b.destroy=o}r=r.next}while(r!==u)}}catch(w){Ae(s,s.return,w)}}function Ms(e,s,r){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){var b=o.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,u=s;var D=r,$=w;try{$()}catch(I){Ae(u,D,I)}}}o=o.next}while(o!==f)}}catch(I){Ae(s,s.return,I)}}function hf(e){var s=e.updateQueue;if(s!==null){var r=e.stateNode;try{th(s,r)}catch(o){Ae(e,e.return,o)}}}function ff(e,s,r){r.props=ba(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ae(e,s,o)}}function ln(e,s){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(u){Ae(e,s,u)}}function Xt(e,s){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){Ae(e,s,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Ae(e,s,u)}else r.current=null}function mf(e){var s=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){Ae(e,e.return,u)}}function rc(e,s,r){try{var o=e.stateNode;kp(o,e.type,r,s),o[mt]=s}catch(u){Ae(e,e.return,u)}}function gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,s,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(e),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=ss));else if(o!==4&&(o===27&&Vs(e.type)&&(r=e.stateNode,s=null),e=e.child,e!==null))for(ic(e,s,r),e=e.sibling;e!==null;)ic(e,s,r),e=e.sibling}function Ri(e,s,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(o!==4&&(o===27&&Vs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ri(e,s,r),e=e.sibling;e!==null;)Ri(e,s,r),e=e.sibling}function xf(e){var s=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);ct(s,o,r),s[nt]=e,s[mt]=r}catch(f){Ae(e,e.return,f)}}var hs=!1,Xe=!1,lc=!1,pf=typeof WeakSet=="function"?WeakSet:Set,at=null;function up(e,s){if(e=e.containerInfo,Oc=Zi,e=Ou(e),Wl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var b=0,w=-1,D=-1,$=0,I=0,J=e,H=null;t:for(;;){for(var V;J!==r||u!==0&&J.nodeType!==3||(w=b+u),J!==f||o!==0&&J.nodeType!==3||(D=b+o),J.nodeType===3&&(b+=J.nodeValue.length),(V=J.firstChild)!==null;)H=J,J=V;for(;;){if(J===e)break t;if(H===r&&++$===u&&(w=b),H===f&&++I===o&&(D=b),(V=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=V}r=w===-1||D===-1?null:{start:w,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tc={focusedElem:e,selectionRange:r},Zi=!1,at=s;at!==null;)if(s=at,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,at=e;else for(;at!==null;){switch(s=at,f=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)u=e[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=s,u=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ne=ba(r.type,u);e=o.getSnapshotBeforeUpdate(ne,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(he){Ae(r,r.return,he)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,r=e.nodeType,r===9)kc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=s.sibling,e!==null){e.return=s.return,at=e;break}at=s.return}}function yf(e,s,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ms(e,r),o&4&&nn(5,r);break;case 1:if(ms(e,r),o&4)if(e=r.stateNode,s===null)try{e.componentDidMount()}catch(b){Ae(r,r.return,b)}else{var u=ba(r.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(u,s,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ae(r,r.return,b)}}o&64&&hf(r),o&512&&ln(r,r.return);break;case 3:if(ms(e,r),o&64&&(e=r.updateQueue,e!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{th(e,s)}catch(b){Ae(r,r.return,b)}}break;case 27:s===null&&o&4&&xf(r);case 26:case 5:ms(e,r),s===null&&o&4&&mf(r),o&512&&ln(r,r.return);break;case 12:ms(e,r);break;case 31:ms(e,r),o&4&&jf(e,r);break;case 13:ms(e,r),o&4&&Nf(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=vp.bind(null,r),Bp(e,r))));break;case 22:if(o=r.memoizedState!==null||hs,!o){s=s!==null&&s.memoizedState!==null||Xe,u=hs;var f=Xe;hs=o,(Xe=s)&&!f?gs(e,r,(r.subtreeFlags&8772)!==0):ms(e,r),hs=u,Xe=f}break;case 30:break;default:ms(e,r)}}function bf(e){var s=e.alternate;s!==null&&(e.alternate=null,bf(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&zl(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,xt=!1;function fs(e,s,r){for(r=r.child;r!==null;)vf(e,s,r),r=r.sibling}function vf(e,s,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ar,r)}catch{}switch(r.tag){case 26:Xe||Xt(r,s),fs(e,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Xe||Xt(r,s);var o=He,u=xt;Vs(r.type)&&(He=r.stateNode,xt=!1),fs(e,s,r),xn(r.stateNode),He=o,xt=u;break;case 5:Xe||Xt(r,s);case 6:if(o=He,u=xt,He=null,fs(e,s,r),He=o,xt=u,He!==null)if(xt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(r.stateNode)}catch(f){Ae(r,s,f)}else try{He.removeChild(r.stateNode)}catch(f){Ae(r,s,f)}break;case 18:He!==null&&(xt?(e=He,hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ur(e)):hm(He,r.stateNode));break;case 4:o=He,u=xt,He=r.stateNode.containerInfo,xt=!0,fs(e,s,r),He=o,xt=u;break;case 0:case 11:case 14:case 15:Ms(2,r,s),Xe||Ms(4,r,s),fs(e,s,r);break;case 1:Xe||(Xt(r,s),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ff(r,s,o)),fs(e,s,r);break;case 21:fs(e,s,r);break;case 22:Xe=(o=Xe)||r.memoizedState!==null,fs(e,s,r),Xe=o;break;default:fs(e,s,r)}}function jf(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ur(e)}catch(r){Ae(s,s.return,r)}}}function Nf(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ur(e)}catch(r){Ae(s,s.return,r)}}function hp(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new pf),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new pf),s;default:throw Error(i(435,e.tag))}}function ki(e,s){var r=hp(e);s.forEach(function(o){if(!r.has(o)){r.add(o);var u=jp.bind(null,e,o);o.then(u,u)}})}function pt(e,s){var r=s.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],f=e,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Vs(w.type)){He=w.stateNode,xt=!1;break e}break;case 5:He=w.stateNode,xt=!1;break e;case 3:case 4:He=w.stateNode.containerInfo,xt=!0;break e}w=w.return}if(He===null)throw Error(i(160));vf(f,b,u),He=null,xt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wf(s,e),s=s.sibling}var Vt=null;function wf(e,s){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(s,e),yt(e),o&4&&(Ms(3,e,e.return),nn(3,e),Ms(5,e,e.return));break;case 1:pt(s,e),yt(e),o&512&&(Xe||r===null||Xt(r,r.return)),o&64&&hs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=Vt;if(pt(s,e),yt(e),o&512&&(Xe||r===null||Xt(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Dr]||f[nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),ct(f,o,r),f[nt]=e,st(f),o=f;break e;case"link":var b=wm("link","href",u).get(o+(r.href||""));if(b){for(var w=0;w<b.length;w++)if(f=b[w],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(w,1);break t}}f=u.createElement(o),ct(f,o,r),u.head.appendChild(f);break;case"meta":if(b=wm("meta","content",u).get(o+(r.content||""))){for(w=0;w<b.length;w++)if(f=b[w],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(w,1);break t}}f=u.createElement(o),ct(f,o,r),u.head.appendChild(f);break;default:throw Error(i(468,o))}f[nt]=e,st(f),o=f}e.stateNode=o}else Sm(u,e.type,e.stateNode);else e.stateNode=Nm(u,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Sm(u,e.type,e.stateNode):Nm(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&rc(e,e.memoizedProps,r.memoizedProps)}break;case 27:pt(s,e),yt(e),o&512&&(Xe||r===null||Xt(r,r.return)),r!==null&&o&4&&rc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(pt(s,e),yt(e),o&512&&(Xe||r===null||Xt(r,r.return)),e.flags&32){u=e.stateNode;try{La(u,"")}catch(ne){Ae(e,e.return,ne)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,rc(e,u,r!==null?r.memoizedProps:u)),o&1024&&(lc=!0);break;case 6:if(pt(s,e),yt(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ne){Ae(e,e.return,ne)}}break;case 3:if(Yi=null,u=Vt,Vt=Ii(s.containerInfo),pt(s,e),Vt=u,yt(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ur(s.containerInfo)}catch(ne){Ae(e,e.return,ne)}lc&&(lc=!1,Sf(e));break;case 4:o=Vt,Vt=Ii(e.stateNode.containerInfo),pt(s,e),yt(e),Vt=o;break;case 12:pt(s,e),yt(e);break;case 31:pt(s,e),yt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ki(e,o)));break;case 13:pt(s,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Li=jt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ki(e,o)));break;case 22:u=e.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,$=hs,I=Xe;if(hs=$||u,Xe=I||D,pt(s,e),Xe=I,hs=$,yt(e),o&8192)e:for(s=e.stateNode,s._visibility=u?s._visibility&-2:s._visibility|1,u&&(r===null||D||hs||Xe||va(e)),r=null,s=e;;){if(s.tag===5||s.tag===26){if(r===null){D=r=s;try{if(f=D.stateNode,u)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var J=D.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ne){Ae(D,D.return,ne)}}}else if(s.tag===6){if(r===null){D=s;try{D.stateNode.nodeValue=u?"":D.memoizedProps}catch(ne){Ae(D,D.return,ne)}}}else if(s.tag===18){if(r===null){D=s;try{var V=D.stateNode;u?fm(V,!0):fm(D.stateNode,!1)}catch(ne){Ae(D,D.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ki(e,r))));break;case 19:pt(s,e),yt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ki(e,o)));break;case 30:break;case 21:break;default:pt(s,e),yt(e)}}function yt(e){var s=e.flags;if(s&2){try{for(var r,o=e.return;o!==null;){if(gf(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var u=r.stateNode,f=nc(e);Ri(e,f,u);break;case 5:var b=r.stateNode;r.flags&32&&(La(b,""),r.flags&=-33);var w=nc(e);Ri(e,w,b);break;case 3:case 4:var D=r.stateNode.containerInfo,$=nc(e);ic(e,$,D);break;default:throw Error(i(161))}}catch(I){Ae(e,e.return,I)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Sf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Sf(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function ms(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yf(e,s.alternate,s),s=s.sibling}function va(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Ms(4,s,s.return),va(s);break;case 1:Xt(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&ff(s,s.return,r),va(s);break;case 27:xn(s.stateNode);case 26:case 5:Xt(s,s.return),va(s);break;case 22:s.memoizedState===null&&va(s);break;case 30:va(s);break;default:va(s)}e=e.sibling}}function gs(e,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,u=e,f=s,b=f.flags;switch(f.tag){case 0:case 11:case 15:gs(u,f,r),nn(4,f);break;case 1:if(gs(u,f,r),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch($){Ae(o,o.return,$)}if(o=f,u=o.updateQueue,u!==null){var w=o.stateNode;try{var D=u.shared.hiddenCallbacks;if(D!==null)for(u.shared.hiddenCallbacks=null,u=0;u<D.length;u++)eh(D[u],w)}catch($){Ae(o,o.return,$)}}r&&b&64&&hf(f),ln(f,f.return);break;case 27:xf(f);case 26:case 5:gs(u,f,r),r&&o===null&&b&4&&mf(f),ln(f,f.return);break;case 12:gs(u,f,r);break;case 31:gs(u,f,r),r&&b&4&&jf(u,f);break;case 13:gs(u,f,r),r&&b&4&&Nf(u,f);break;case 22:f.memoizedState===null&&gs(u,f,r),ln(f,f.return);break;case 30:break;default:gs(u,f,r)}s=s.sibling}}function oc(e,s){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ir(r))}function cc(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Ir(e))}function Ft(e,s,r,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_f(e,s,r,o),s=s.sibling}function _f(e,s,r,o){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Ft(e,s,r,o),u&2048&&nn(9,s);break;case 1:Ft(e,s,r,o);break;case 3:Ft(e,s,r,o),u&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Ir(e)));break;case 12:if(u&2048){Ft(e,s,r,o),e=s.stateNode;try{var f=s.memoizedProps,b=f.id,w=f.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Ae(s,s.return,D)}}else Ft(e,s,r,o);break;case 31:Ft(e,s,r,o);break;case 13:Ft(e,s,r,o);break;case 23:break;case 22:f=s.stateNode,b=s.alternate,s.memoizedState!==null?f._visibility&2?Ft(e,s,r,o):on(e,s):f._visibility&2?Ft(e,s,r,o):(f._visibility|=2,er(e,s,r,o,(s.subtreeFlags&10256)!==0||!1)),u&2048&&oc(b,s);break;case 24:Ft(e,s,r,o),u&2048&&cc(s.alternate,s);break;default:Ft(e,s,r,o)}}function er(e,s,r,o,u){for(u=u&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=e,b=s,w=r,D=o,$=b.flags;switch(b.tag){case 0:case 11:case 15:er(f,b,w,D,u),nn(8,b);break;case 23:break;case 22:var I=b.stateNode;b.memoizedState!==null?I._visibility&2?er(f,b,w,D,u):on(f,b):(I._visibility|=2,er(f,b,w,D,u)),u&&$&2048&&oc(b.alternate,b);break;case 24:er(f,b,w,D,u),u&&$&2048&&cc(b.alternate,b);break;default:er(f,b,w,D,u)}s=s.sibling}}function on(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=e,o=s,u=o.flags;switch(o.tag){case 22:on(r,o),u&2048&&oc(o.alternate,o);break;case 24:on(r,o),u&2048&&cc(o.alternate,o);break;default:on(r,o)}s=s.sibling}}var cn=8192;function tr(e,s,r){if(e.subtreeFlags&cn)for(e=e.child;e!==null;)Ef(e,s,r),e=e.sibling}function Ef(e,s,r){switch(e.tag){case 26:tr(e,s,r),e.flags&cn&&e.memoizedState!==null&&Zp(r,Vt,e.memoizedState,e.memoizedProps);break;case 5:tr(e,s,r);break;case 3:case 4:var o=Vt;Vt=Ii(e.stateNode.containerInfo),tr(e,s,r),Vt=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cn,cn=16777216,tr(e,s,r),cn=o):tr(e,s,r));break;default:tr(e,s,r)}}function Cf(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function dn(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];at=o,Tf(o,e)}Cf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Of(e),e=e.sibling}function Of(e){switch(e.tag){case 0:case 11:case 15:dn(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:dn(e);break;case 12:dn(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Di(e)):dn(e);break;default:dn(e)}}function Di(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];at=o,Tf(o,e)}Cf(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Ms(8,s,s.return),Di(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Di(s));break;default:Di(s)}e=e.sibling}}function Tf(e,s){for(;at!==null;){var r=at;switch(r.tag){case 0:case 11:case 15:Ms(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ir(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,at=o;else e:for(r=e;at!==null;){o=at;var u=o.sibling,f=o.return;if(bf(o),o===r){at=null;break e}if(u!==null){u.return=f,at=u;break e}at=f}}}var fp={getCacheForType:function(e){var s=lt(Ye),r=s.data.get(e);return r===void 0&&(r=e(),s.data.set(e,r)),r},cacheSignal:function(){return lt(Ye).controller.signal}},mp=typeof WeakMap=="function"?WeakMap:Map,Oe=0,ze=null,be=null,Ne=0,Te=0,Ot=null,qs=!1,sr=!1,dc=!1,xs=0,Fe=0,$s=0,ja=0,uc=0,Tt=0,ar=0,un=null,bt=null,hc=!1,Li=0,Af=0,Ui=1/0,zi=null,Bs=null,Ze=0,Hs=null,rr=null,ps=0,fc=0,mc=null,Rf=null,hn=0,gc=null;function At(){return(Oe&2)!==0&&Ne!==0?Ne&-Ne:M.T!==null?jc():Id()}function kf(){if(Tt===0)if((Ne&536870912)===0||Se){var e=Vn;Vn<<=1,(Vn&3932160)===0&&(Vn=262144),Tt=e}else Tt=536870912;return e=Et.current,e!==null&&(e.flags|=32),Tt}function vt(e,s,r){(e===ze&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(nr(e,0),Ps(e,Ne,Tt,!1)),kr(e,r),((Oe&2)===0||e!==ze)&&(e===ze&&((Oe&2)===0&&(ja|=r),Fe===4&&Ps(e,Ne,Tt,!1)),Zt(e))}function Df(e,s,r){if((Oe&6)!==0)throw Error(i(327));var o=!r&&(s&127)===0&&(s&e.expiredLanes)===0||Rr(e,s),u=o?pp(e,s):pc(e,s,!0),f=o;do{if(u===0){sr&&!o&&Ps(e,s,0,!1);break}else{if(r=e.current.alternate,f&&!gp(r)){u=pc(e,s,!1),f=!1;continue}if(u===2){if(f=s,e.errorRecoveryDisabledLanes&f)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=e;u=un;var D=w.current.memoizedState.isDehydrated;if(D&&(nr(w,b).flags|=256),b=pc(w,b,!1),b!==2){if(dc&&!D){w.errorRecoveryDisabledLanes|=f,ja|=f,u=4;break e}f=bt,bt=u,f!==null&&(bt===null?bt=f:bt.push.apply(bt,f))}u=b}if(f=!1,u!==2)continue}}if(u===1){nr(e,0),Ps(e,s,0,!0);break}e:{switch(o=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ps(o,s,Tt,!qs);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(u=Li+300-jt(),10<u)){if(Ps(o,s,Tt,!qs),In(o,0,!0)!==0)break e;ps=s,o.timeoutHandle=dm(Lf.bind(null,o,r,bt,zi,hc,s,Tt,ja,ar,qs,f,"Throttled",-0,0),u);break e}Lf(o,r,bt,zi,hc,s,Tt,ja,ar,qs,f,null,-0,0)}}break}while(!0);Zt(e)}function Lf(e,s,r,o,u,f,b,w,D,$,I,J,H,V){if(e.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ss},Ef(s,f,J);var ne=(f&62914560)===f?Li-jt():(f&4194048)===f?Af-jt():0;if(ne=Wp(J,ne),ne!==null){ps=f,e.cancelPendingCommit=ne(Pf.bind(null,e,s,f,r,o,u,b,w,D,I,J,null,H,V)),Ps(e,f,b,!$);return}}Pf(e,s,f,r,o,u,b,w,D)}function gp(e){for(var s=e;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],f=u.getSnapshot;u=u.value;try{if(!St(f(),u))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ps(e,s,r,o){s&=~uc,s&=~ja,e.suspendedLanes|=s,e.pingedLanes&=~s,o&&(e.warmLanes|=s),o=e.expirationTimes;for(var u=s;0<u;){var f=31-wt(u),b=1<<f;o[f]=-1,u&=~b}r!==0&&Gd(e,r,s)}function Mi(){return(Oe&6)===0?(fn(0),!1):!0}function xc(){if(be!==null){if(Te===0)var e=be.return;else e=be,is=ha=null,ko(e),Ja=null,Yr=0,e=be;for(;e!==null;)uf(e.alternate,e),e=e.return;be=null}}function nr(e,s){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Up(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ps=0,xc(),ze=e,be=r=rs(e.current,null),Ne=s,Te=0,Ot=null,qs=!1,sr=Rr(e,s),dc=!1,ar=Tt=uc=ja=$s=Fe=0,bt=un=null,hc=!1,(s&8)!==0&&(s|=s&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=s;0<o;){var u=31-wt(o),f=1<<u;s|=e[u],o&=~f}return xs=s,ri(),r}function Uf(e,s){xe=null,M.H=sn,s===Ya||s===hi?(s=Qu(),Te=3):s===vo?(s=Qu(),Te=4):Te=s===Yo?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ot=s,be===null&&(Fe=1,Ei(e,Lt(s,e.current)))}function zf(){var e=Et.current;return e===null?!0:(Ne&4194048)===Ne?qt===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===qt:!1}function Mf(){var e=M.H;return M.H=sn,e===null?sn:e}function qf(){var e=M.A;return M.A=fp,e}function qi(){Fe=4,qs||(Ne&4194048)!==Ne&&Et.current!==null||(sr=!0),($s&134217727)===0&&(ja&134217727)===0||ze===null||Ps(ze,Ne,Tt,!1)}function pc(e,s,r){var o=Oe;Oe|=2;var u=Mf(),f=qf();(ze!==e||Ne!==s)&&(zi=null,nr(e,s)),s=!1;var b=Fe;e:do try{if(Te!==0&&be!==null){var w=be,D=Ot;switch(Te){case 8:xc(),b=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(s=!0);var $=Te;if(Te=0,Ot=null,ir(e,w,D,$),r&&sr){b=0;break e}break;default:$=Te,Te=0,Ot=null,ir(e,w,D,$)}}xp(),b=Fe;break}catch(I){Uf(e,I)}while(!0);return s&&e.shellSuspendCounter++,is=ha=null,Oe=o,M.H=u,M.A=f,be===null&&(ze=null,Ne=0,ri()),b}function xp(){for(;be!==null;)$f(be)}function pp(e,s){var r=Oe;Oe|=2;var o=Mf(),u=qf();ze!==e||Ne!==s?(zi=null,Ui=jt()+500,nr(e,s)):sr=Rr(e,s);e:do try{if(Te!==0&&be!==null){s=be;var f=Ot;t:switch(Te){case 1:Te=0,Ot=null,ir(e,s,f,1);break;case 2:case 9:if(Yu(f)){Te=0,Ot=null,Bf(s);break}s=function(){Te!==2&&Te!==9||ze!==e||(Te=7),Zt(e)},f.then(s,s);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Yu(f)?(Te=0,Ot=null,Bf(s)):(Te=0,Ot=null,ir(e,s,f,7));break;case 5:var b=null;switch(be.tag){case 26:b=be.memoizedState;case 5:case 27:var w=be;if(b?_m(b):w.stateNode.complete){Te=0,Ot=null;var D=w.sibling;if(D!==null)be=D;else{var $=w.return;$!==null?(be=$,$i($)):be=null}break t}}Te=0,Ot=null,ir(e,s,f,5);break;case 6:Te=0,Ot=null,ir(e,s,f,6);break;case 8:xc(),Fe=6;break e;default:throw Error(i(462))}}yp();break}catch(I){Uf(e,I)}while(!0);return is=ha=null,M.H=o,M.A=u,Oe=r,be!==null?0:(ze=null,Ne=0,ri(),Fe)}function yp(){for(;be!==null&&!Hx();)$f(be)}function $f(e){var s=cf(e.alternate,e,xs);e.memoizedProps=e.pendingProps,s===null?$i(e):be=s}function Bf(e){var s=e,r=s.alternate;switch(s.tag){case 15:case 0:s=sf(r,s,s.pendingProps,s.type,void 0,Ne);break;case 11:s=sf(r,s,s.pendingProps,s.type.render,s.ref,Ne);break;case 5:ko(s);default:uf(r,s),s=be=Mu(s,xs),s=cf(r,s,xs)}e.memoizedProps=e.pendingProps,s===null?$i(e):be=s}function ir(e,s,r,o){is=ha=null,ko(s),Ja=null,Yr=0;var u=s.return;try{if(ip(e,u,s,r,Ne)){Fe=1,Ei(e,Lt(r,e.current)),be=null;return}}catch(f){if(u!==null)throw be=u,f;Fe=1,Ei(e,Lt(r,e.current)),be=null;return}s.flags&32768?(Se||o===1?e=!0:sr||(Ne&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Et.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hf(s,e)):$i(s)}function $i(e){var s=e;do{if((s.flags&32768)!==0){Hf(s,qs);return}e=s.return;var r=cp(s.alternate,s,xs);if(r!==null){be=r;return}if(s=s.sibling,s!==null){be=s;return}be=s=e}while(s!==null);Fe===0&&(Fe=5)}function Hf(e,s){do{var r=dp(e.alternate,e);if(r!==null){r.flags&=32767,be=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(e=e.sibling,e!==null)){be=e;return}be=e=r}while(e!==null);Fe=6,be=null}function Pf(e,s,r,o,u,f,b,w,D){e.cancelPendingCommit=null;do Bi();while(Ze!==0);if((Oe&6)!==0)throw Error(i(327));if(s!==null){if(s===e.current)throw Error(i(177));if(f=s.lanes|s.childLanes,f|=ro,Xx(e,r,f,b,w,D),e===ze&&(be=ze=null,Ne=0),rr=s,Hs=e,ps=r,fc=f,mc=u,Rf=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Np(Pn,function(){return Kf(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,u=Q.p,Q.p=2,b=Oe,Oe|=4;try{up(e,s,r)}finally{Oe=b,Q.p=u,M.T=o}}Ze=1,Gf(),Vf(),Ff()}}function Gf(){if(Ze===1){Ze=0;var e=Hs,s=rr,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var o=Q.p;Q.p=2;var u=Oe;Oe|=4;try{wf(s,e);var f=Tc,b=Ou(e.containerInfo),w=f.focusedElem,D=f.selectionRange;if(b!==w&&w&&w.ownerDocument&&Cu(w.ownerDocument.documentElement,w)){if(D!==null&&Wl(w)){var $=D.start,I=D.end;if(I===void 0&&(I=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(I,w.value.length);else{var J=w.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var V=H.getSelection(),ne=w.textContent.length,he=Math.min(D.start,ne),Ue=D.end===void 0?he:Math.min(D.end,ne);!V.extend&&he>Ue&&(b=Ue,Ue=he,he=b);var z=Eu(w,he),U=Eu(w,Ue);if(z&&U&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==U.node||V.focusOffset!==U.offset)){var q=J.createRange();q.setStart(z.node,z.offset),V.removeAllRanges(),he>Ue?(V.addRange(q),V.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),V.addRange(q))}}}}for(J=[],V=w;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<J.length;w++){var K=J[w];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Zi=!!Oc,Tc=Oc=null}finally{Oe=u,Q.p=o,M.T=r}}e.current=s,Ze=2}}function Vf(){if(Ze===2){Ze=0;var e=Hs,s=rr,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var o=Q.p;Q.p=2;var u=Oe;Oe|=4;try{yf(e,s.alternate,s)}finally{Oe=u,Q.p=o,M.T=r}}Ze=3}}function Ff(){if(Ze===4||Ze===3){Ze=0,Px();var e=Hs,s=rr,r=ps,o=Rf;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ze=5:(Ze=0,rr=Hs=null,If(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Bs=null),Ll(r),s=s.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ar,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=M.T,u=Q.p,Q.p=2,M.T=null;try{for(var f=e.onRecoverableError,b=0;b<o.length;b++){var w=o[b];f(w.value,{componentStack:w.stack})}}finally{M.T=s,Q.p=u}}(ps&3)!==0&&Bi(),Zt(e),u=e.pendingLanes,(r&261930)!==0&&(u&42)!==0?e===gc?hn++:(hn=0,gc=e):hn=0,fn(0)}}function If(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Ir(s)))}function Bi(){return Gf(),Vf(),Ff(),Kf()}function Kf(){if(Ze!==5)return!1;var e=Hs,s=fc;fc=0;var r=Ll(ps),o=M.T,u=Q.p;try{Q.p=32>r?32:r,M.T=null,r=mc,mc=null;var f=Hs,b=ps;if(Ze=0,rr=Hs=null,ps=0,(Oe&6)!==0)throw Error(i(331));var w=Oe;if(Oe|=4,Of(f.current),_f(f,f.current,b,r),Oe=w,fn(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ar,f)}catch{}return!0}finally{Q.p=u,M.T=o,If(e,s)}}function Yf(e,s,r){s=Lt(r,s),s=Ko(e.stateNode,s,2),e=Ls(e,s,2),e!==null&&(kr(e,2),Zt(e))}function Ae(e,s,r){if(e.tag===3)Yf(e,e,r);else for(;s!==null;){if(s.tag===3){Yf(s,e,r);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){e=Lt(r,e),r=Yh(2),o=Ls(s,r,2),o!==null&&(Jh(r,o,s,e),kr(o,2),Zt(o));break}}s=s.return}}function yc(e,s,r){var o=e.pingCache;if(o===null){o=e.pingCache=new mp;var u=new Set;o.set(s,u)}else u=o.get(s),u===void 0&&(u=new Set,o.set(s,u));u.has(r)||(dc=!0,u.add(r),e=bp.bind(null,e,s,r),s.then(e,e))}function bp(e,s,r){var o=e.pingCache;o!==null&&o.delete(s),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ze===e&&(Ne&r)===r&&(Fe===4||Fe===3&&(Ne&62914560)===Ne&&300>jt()-Li?(Oe&2)===0&&nr(e,0):uc|=r,ar===Ne&&(ar=0)),Zt(e)}function Jf(e,s){s===0&&(s=Pd()),e=ca(e,s),e!==null&&(kr(e,s),Zt(e))}function vp(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Jf(e,r)}function jp(e,s){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),Jf(e,r)}function Np(e,s){return Al(e,s)}var Hi=null,lr=null,bc=!1,Pi=!1,vc=!1,Gs=0;function Zt(e){e!==lr&&e.next===null&&(lr===null?Hi=lr=e:lr=lr.next=e),Pi=!0,bc||(bc=!0,Sp())}function fn(e,s){if(!vc&&Pi){vc=!0;do for(var r=!1,o=Hi;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var b=o.suspendedLanes,w=o.pingedLanes;f=(1<<31-wt(42|e)+1)-1,f&=u&~(b&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wf(o,f))}else f=Ne,f=In(o,o===ze?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Rr(o,f)||(r=!0,Wf(o,f));o=o.next}while(r);vc=!1}}function wp(){Qf()}function Qf(){Pi=bc=!1;var e=0;Gs!==0&&Lp()&&(e=Gs);for(var s=jt(),r=null,o=Hi;o!==null;){var u=o.next,f=Xf(o,s);f===0?(o.next=null,r===null?Hi=u:r.next=u,u===null&&(lr=r)):(r=o,(e!==0||(f&3)!==0)&&(Pi=!0)),o=u}Ze!==0&&Ze!==5||fn(e),Gs!==0&&(Gs=0)}function Xf(e,s){for(var r=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var b=31-wt(f),w=1<<b,D=u[b];D===-1?((w&r)===0||(w&o)!==0)&&(u[b]=Qx(w,s)):D<=s&&(e.expiredLanes|=w),f&=~w}if(s=ze,r=Ne,r=In(e,e===s?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===s&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Rl(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Rr(e,r)){if(s=r&-r,s===e.callbackPriority)return s;switch(o!==null&&Rl(o),Ll(r)){case 2:case 8:r=Bd;break;case 32:r=Pn;break;case 268435456:r=Hd;break;default:r=Pn}return o=Zf.bind(null,e),r=Al(r,o),e.callbackPriority=s,e.callbackNode=r,s}return o!==null&&o!==null&&Rl(o),e.callbackPriority=2,e.callbackNode=null,2}function Zf(e,s){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Bi()&&e.callbackNode!==r)return null;var o=Ne;return o=In(e,e===ze?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Df(e,o,s),Xf(e,jt()),e.callbackNode!=null&&e.callbackNode===r?Zf.bind(null,e):null)}function Wf(e,s){if(Bi())return null;Df(e,s,!0)}function Sp(){zp(function(){(Oe&6)!==0?Al($d,wp):Qf()})}function jc(){if(Gs===0){var e=Ia;e===0&&(e=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),Gs=e}return Gs}function em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qn(""+e)}function tm(e,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,e.id&&r.setAttribute("form",e.id),s.parentNode.insertBefore(r,s),e=new FormData(e),r.parentNode.removeChild(r),e}function _p(e,s,r,o,u){if(s==="submit"&&r&&r.stateNode===u){var f=em((u[mt]||null).action),b=o.submitter;b&&(s=(s=b[mt]||null)?em(s.formAction):b.getAttribute("formAction"),s!==null&&(f=s,b=null));var w=new ei("action","action",null,o,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var D=b?tm(u,b):new FormData(u);Ho(r,{pending:!0,data:D,method:u.method,action:f},null,D)}}else typeof f=="function"&&(w.preventDefault(),D=b?tm(u,b):new FormData(u),Ho(r,{pending:!0,data:D,method:u.method,action:f},f,D))},currentTarget:u}]})}}for(var Nc=0;Nc<ao.length;Nc++){var wc=ao[Nc],Ep=wc.toLowerCase(),Cp=wc[0].toUpperCase()+wc.slice(1);Gt(Ep,"on"+Cp)}Gt(Ru,"onAnimationEnd"),Gt(ku,"onAnimationIteration"),Gt(Du,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(G0,"onTransitionRun"),Gt(V0,"onTransitionStart"),Gt(F0,"onTransitionCancel"),Gt(Lu,"onTransitionEnd"),ka("onMouseEnter",["mouseout","mouseover"]),ka("onMouseLeave",["mouseout","mouseover"]),ka("onPointerEnter",["pointerout","pointerover"]),ka("onPointerLeave",["pointerout","pointerover"]),na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),na("onBeforeInput",["compositionend","keypress","textInput","paste"]),na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mn));function sm(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],u=o.event;o=o.listeners;e:{var f=void 0;if(s)for(var b=o.length-1;0<=b;b--){var w=o[b],D=w.instance,$=w.currentTarget;if(w=w.listener,D!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=$;try{f(u)}catch(I){ai(I)}u.currentTarget=null,f=D}else for(b=0;b<o.length;b++){if(w=o[b],D=w.instance,$=w.currentTarget,w=w.listener,D!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=$;try{f(u)}catch(I){ai(I)}u.currentTarget=null,f=D}}}}function ve(e,s){var r=s[Ul];r===void 0&&(r=s[Ul]=new Set);var o=e+"__bubble";r.has(o)||(am(s,e,2,!1),r.add(o))}function Sc(e,s,r){var o=0;s&&(o|=4),am(r,e,o,s)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Gi]){e[Gi]=!0,Jd.forEach(function(r){r!=="selectionchange"&&(Op.has(r)||Sc(r,!1,e),Sc(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Gi]||(s[Gi]=!0,Sc("selectionchange",!1,s))}}function am(e,s,r,o){switch(km(s)){case 2:var u=sy;break;case 8:u=ay;break;default:u=Bc}r=u.bind(null,s,r,e),u=void 0,!Vl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(s,r,{capture:!0,passive:u}):e.addEventListener(s,r,!0):u!==void 0?e.addEventListener(s,r,{passive:u}):e.addEventListener(s,r,!1)}function Ec(e,s,r,o,u){var f=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var w=o.stateNode.containerInfo;if(w===u)break;if(b===4)for(b=o.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;w!==null;){if(b=Ta(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){o=f=b;continue e}w=w.parentNode}}o=o.return}lu(function(){var $=f,I=Pl(r),J=[];e:{var H=Uu.get(e);if(H!==void 0){var V=ei,ne=e;switch(e){case"keypress":if(Zn(r)===0)break e;case"keydown":case"keyup":V=j0;break;case"focusin":ne="focus",V=Yl;break;case"focusout":ne="blur",V=Yl;break;case"beforeblur":case"afterblur":V=Yl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=c0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=S0;break;case Ru:case ku:case Du:V=h0;break;case Lu:V=E0;break;case"scroll":case"scrollend":V=l0;break;case"wheel":V=O0;break;case"copy":case"cut":case"paste":V=m0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=hu;break;case"toggle":case"beforetoggle":V=A0}var he=(s&4)!==0,Ue=!he&&(e==="scroll"||e==="scrollend"),z=he?H!==null?H+"Capture":null:H;he=[];for(var U=$,q;U!==null;){var K=U;if(q=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||q===null||z===null||(K=Ur(U,z),K!=null&&he.push(gn(U,K,q))),Ue)break;U=U.return}0<he.length&&(H=new V(H,ne,null,r,I),J.push({event:H,listeners:he}))}}if((s&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",H&&r!==Hl&&(ne=r.relatedTarget||r.fromElement)&&(Ta(ne)||ne[Oa]))break e;if((V||H)&&(H=I.window===I?I:(H=I.ownerDocument)?H.defaultView||H.parentWindow:window,V?(ne=r.relatedTarget||r.toElement,V=$,ne=ne?Ta(ne):null,ne!==null&&(Ue=d(ne),he=ne.tag,ne!==Ue||he!==5&&he!==27&&he!==6)&&(ne=null)):(V=null,ne=$),V!==ne)){if(he=du,K="onMouseLeave",z="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(he=hu,K="onPointerLeave",z="onPointerEnter",U="pointer"),Ue=V==null?H:Lr(V),q=ne==null?H:Lr(ne),H=new he(K,U+"leave",V,r,I),H.target=Ue,H.relatedTarget=q,K=null,Ta(I)===$&&(he=new he(z,U+"enter",ne,r,I),he.target=q,he.relatedTarget=Ue,K=he),Ue=K,V&&ne)t:{for(he=Tp,z=V,U=ne,q=0,K=z;K;K=he(K))q++;K=0;for(var de=U;de;de=he(de))K++;for(;0<q-K;)z=he(z),q--;for(;0<K-q;)U=he(U),K--;for(;q--;){if(z===U||U!==null&&z===U.alternate){he=z;break t}z=he(z),U=he(U)}he=null}else he=null;V!==null&&rm(J,H,V,he,!1),ne!==null&&Ue!==null&&rm(J,Ue,ne,he,!0)}}e:{if(H=$?Lr($):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var _e=vu;else if(yu(H))if(ju)_e=B0;else{_e=q0;var le=M0}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?$&&Bl($.elementType)&&(_e=vu):_e=$0;if(_e&&(_e=_e(e,$))){bu(J,_e,r,I);break e}le&&le(e,H,$),e==="focusout"&&$&&H.type==="number"&&$.memoizedProps.value!=null&&$l(H,"number",H.value)}switch(le=$?Lr($):window,e){case"focusin":(yu(le)||le.contentEditable==="true")&&(qa=le,eo=$,Gr=null);break;case"focusout":Gr=eo=qa=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,Tu(J,r,I);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":Tu(J,r,I)}var ye;if(Ql)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ma?xu(e,r)&&(we="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(we="onCompositionStart");we&&(fu&&r.locale!=="ko"&&(Ma||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ma&&(ye=ou()):(Cs=I,Fl="value"in Cs?Cs.value:Cs.textContent,Ma=!0)),le=Vi($,we),0<le.length&&(we=new uu(we,e,null,r,I),J.push({event:we,listeners:le}),ye?we.data=ye:(ye=pu(r),ye!==null&&(we.data=ye)))),(ye=k0?D0(e,r):L0(e,r))&&(we=Vi($,"onBeforeInput"),0<we.length&&(le=new uu("onBeforeInput","beforeinput",null,r,I),J.push({event:le,listeners:we}),le.data=ye)),_p(J,e,$,r,I)}sm(J,s)})}function gn(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Vi(e,s){for(var r=s+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ur(e,r),u!=null&&o.unshift(gn(e,u,f)),u=Ur(e,s),u!=null&&o.push(gn(e,u,f))),e.tag===3)return o;e=e.return}return[]}function Tp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rm(e,s,r,o,u){for(var f=s._reactName,b=[];r!==null&&r!==o;){var w=r,D=w.alternate,$=w.stateNode;if(w=w.tag,D!==null&&D===o)break;w!==5&&w!==26&&w!==27||$===null||(D=$,u?($=Ur(r,f),$!=null&&b.unshift(gn(r,$,D))):u||($=Ur(r,f),$!=null&&b.push(gn(r,$,D)))),r=r.return}b.length!==0&&e.push({event:s,listeners:b})}var Ap=/\r\n?/g,Rp=/\u0000|\uFFFD/g;function nm(e){return(typeof e=="string"?e:""+e).replace(Ap,`
`).replace(Rp,"")}function im(e,s){return s=nm(s),nm(e)===s}function Le(e,s,r,o,u,f){switch(r){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||La(e,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&La(e,""+o);break;case"className":Yn(e,"class",o);break;case"tabIndex":Yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(e,r,o);break;case"style":nu(e,o,f);break;case"data":if(s!=="object"){Yn(e,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Qn(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(s!=="input"&&Le(e,s,"name",u.name,u,null),Le(e,s,"formEncType",u.formEncType,u,null),Le(e,s,"formMethod",u.formMethod,u,null),Le(e,s,"formTarget",u.formTarget,u,null)):(Le(e,s,"encType",u.encType,u,null),Le(e,s,"method",u.method,u,null),Le(e,s,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Qn(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ss);break;case"onScroll":o!=null&&ve("scroll",e);break;case"onScrollEnd":o!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Qn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Kn(e,"popover",o);break;case"xlinkActuate":ts(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ts(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ts(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ts(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ts(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ts(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ts(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ts(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ts(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Kn(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=n0.get(r)||r,Kn(e,r,o))}}function Cc(e,s,r,o,u,f){switch(r){case"style":nu(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof o=="string"?La(e,o):(typeof o=="number"||typeof o=="bigint")&&La(e,""+o);break;case"onScroll":o!=null&&ve("scroll",e);break;case"onScrollEnd":o!=null&&ve("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),s=r.slice(2,u?r.length-7:void 0),f=e[mt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(s,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(s,o,u);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Kn(e,r,o)}}}function ct(e,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var o=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var b=r[f];if(b!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Le(e,s,f,b,r,null)}}u&&Le(e,s,"srcSet",r.srcSet,r,null),o&&Le(e,s,"src",r.src,r,null);return;case"input":ve("invalid",e);var w=f=b=u=null,D=null,$=null;for(o in r)if(r.hasOwnProperty(o)){var I=r[o];if(I!=null)switch(o){case"name":u=I;break;case"type":b=I;break;case"checked":D=I;break;case"defaultChecked":$=I;break;case"value":f=I;break;case"defaultValue":w=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,s));break;default:Le(e,s,o,I,r,null)}}tu(e,f,w,D,$,b,u,!1);return;case"select":ve("invalid",e),o=b=f=null;for(u in r)if(r.hasOwnProperty(u)&&(w=r[u],w!=null))switch(u){case"value":f=w;break;case"defaultValue":b=w;break;case"multiple":o=w;default:Le(e,s,u,w,r,null)}s=f,r=b,e.multiple=!!o,s!=null?Da(e,!!o,s,!1):r!=null&&Da(e,!!o,r,!0);return;case"textarea":ve("invalid",e),f=u=o=null;for(b in r)if(r.hasOwnProperty(b)&&(w=r[b],w!=null))switch(b){case"value":o=w;break;case"defaultValue":u=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Le(e,s,b,w,r,null)}au(e,o,u,f);return;case"option":for(D in r)r.hasOwnProperty(D)&&(o=r[D],o!=null)&&(D==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Le(e,s,D,o,r,null));return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(o=0;o<mn.length;o++)ve(mn[o],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in r)if(r.hasOwnProperty($)&&(o=r[$],o!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Le(e,s,$,o,r,null)}return;default:if(Bl(s)){for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!==void 0&&Cc(e,s,I,o,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(o=r[w],o!=null&&Le(e,s,w,o,r,null))}function kp(e,s,r,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,b=null,w=null,D=null,$=null,I=null;for(V in r){var J=r[V];if(r.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":D=J;default:o.hasOwnProperty(V)||Le(e,s,V,null,o,J)}}for(var H in o){var V=o[H];if(J=r[H],o.hasOwnProperty(H)&&(V!=null||J!=null))switch(H){case"type":f=V;break;case"name":u=V;break;case"checked":$=V;break;case"defaultChecked":I=V;break;case"value":b=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:V!==J&&Le(e,s,H,V,o,J)}}ql(e,b,w,D,$,I,f,u);return;case"select":V=b=w=H=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":V=D;default:o.hasOwnProperty(f)||Le(e,s,f,null,o,D)}for(u in o)if(f=o[u],D=r[u],o.hasOwnProperty(u)&&(f!=null||D!=null))switch(u){case"value":H=f;break;case"defaultValue":w=f;break;case"multiple":b=f;default:f!==D&&Le(e,s,u,f,o,D)}s=w,r=b,o=V,H!=null?Da(e,!!r,H,!1):!!o!=!!r&&(s!=null?Da(e,!!r,s,!0):Da(e,!!r,r?[]:"",!1));return;case"textarea":V=H=null;for(w in r)if(u=r[w],r.hasOwnProperty(w)&&u!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Le(e,s,w,null,o,u)}for(b in o)if(u=o[b],f=r[b],o.hasOwnProperty(b)&&(u!=null||f!=null))switch(b){case"value":H=u;break;case"defaultValue":V=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&Le(e,s,b,u,o,f)}su(e,H,V);return;case"option":for(var ne in r)H=r[ne],r.hasOwnProperty(ne)&&H!=null&&!o.hasOwnProperty(ne)&&(ne==="selected"?e.selected=!1:Le(e,s,ne,null,o,H));for(D in o)H=o[D],V=r[D],o.hasOwnProperty(D)&&H!==V&&(H!=null||V!=null)&&(D==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Le(e,s,D,H,o,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in r)H=r[he],r.hasOwnProperty(he)&&H!=null&&!o.hasOwnProperty(he)&&Le(e,s,he,null,o,H);for($ in o)if(H=o[$],V=r[$],o.hasOwnProperty($)&&H!==V&&(H!=null||V!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:Le(e,s,$,H,o,V)}return;default:if(Bl(s)){for(var Ue in r)H=r[Ue],r.hasOwnProperty(Ue)&&H!==void 0&&!o.hasOwnProperty(Ue)&&Cc(e,s,Ue,void 0,o,H);for(I in o)H=o[I],V=r[I],!o.hasOwnProperty(I)||H===V||H===void 0&&V===void 0||Cc(e,s,I,H,o,V);return}}for(var z in r)H=r[z],r.hasOwnProperty(z)&&H!=null&&!o.hasOwnProperty(z)&&Le(e,s,z,null,o,H);for(J in o)H=o[J],V=r[J],!o.hasOwnProperty(J)||H===V||H==null&&V==null||Le(e,s,J,H,o,V)}function lm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var u=r[o],f=u.transferSize,b=u.initiatorType,w=u.duration;if(f&&w&&lm(b)){for(b=0,w=u.responseEnd,o+=1;o<r.length;o++){var D=r[o],$=D.startTime;if($>w)break;var I=D.transferSize,J=D.initiatorType;I&&lm(J)&&(D=D.responseEnd,b+=I*(D<w?1:(w-$)/(D-$)))}if(--o,s+=8*(f+b)/(u.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oc=null,Tc=null;function Fi(e){return e.nodeType===9?e:e.ownerDocument}function om(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cm(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Ac(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rc=null;function Lp(){var e=window.event;return e&&e.type==="popstate"?e===Rc?!1:(Rc=e,!0):(Rc=null,!1)}var dm=typeof setTimeout=="function"?setTimeout:void 0,Up=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,zp=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(e){return um.resolve(null).then(e).catch(Mp)}:dm;function Mp(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function hm(e,s){var r=s,o=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(u),ur(s);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")xn(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,xn(r);for(var f=r.firstChild;f;){var b=f.nextSibling,w=f.nodeName;f[Dr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=b}}else r==="body"&&xn(e.ownerDocument.body);r=u}while(r);ur(s)}function fm(e,s){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function kc(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":kc(r),zl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function qp(e,s,r,o){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Dr])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function $p(e,s,r){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=$t(e.nextSibling),e===null))return null;return e}function mm(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=$t(e.nextSibling),e===null))return null;return e}function Dc(e){return e.data==="$?"||e.data==="$~"}function Lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Bp(e,s){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||r.readyState!=="loading")s();else{var o=function(){s(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function $t(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Uc=null;function gm(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(s===0)return $t(e.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}e=e.nextSibling}return null}function xm(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return e;s--}else r!=="/$"&&r!=="/&"||s++}e=e.previousSibling}return null}function pm(e,s,r){switch(s=Fi(r),e){case"html":if(e=s.documentElement,!e)throw Error(i(452));return e;case"head":if(e=s.head,!e)throw Error(i(453));return e;case"body":if(e=s.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function xn(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);zl(e)}var Bt=new Map,ym=new Set;function Ii(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=Q.d;Q.d={f:Hp,r:Pp,D:Gp,C:Vp,L:Fp,m:Ip,X:Yp,S:Kp,M:Jp};function Hp(){var e=ys.f(),s=Mi();return e||s}function Pp(e){var s=Aa(e);s!==null&&s.tag===5&&s.type==="form"?Lh(s):ys.r(e)}var or=typeof document>"u"?null:document;function bm(e,s,r){var o=or;if(o&&typeof s=="string"&&s){var u=kt(s);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),ym.has(u)||(ym.add(u),e={rel:e,crossOrigin:r,href:s},o.querySelector(u)===null&&(s=o.createElement("link"),ct(s,"link",e),st(s),o.head.appendChild(s)))}}function Gp(e){ys.D(e),bm("dns-prefetch",e,null)}function Vp(e,s){ys.C(e,s),bm("preconnect",e,s)}function Fp(e,s,r){ys.L(e,s,r);var o=or;if(o&&e&&s){var u='link[rel="preload"][as="'+kt(s)+'"]';s==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+kt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+kt(r.imageSizes)+'"]')):u+='[href="'+kt(e)+'"]';var f=u;switch(s){case"style":f=cr(e);break;case"script":f=dr(e)}Bt.has(f)||(e=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:e,as:s},r),Bt.set(f,e),o.querySelector(u)!==null||s==="style"&&o.querySelector(pn(f))||s==="script"&&o.querySelector(yn(f))||(s=o.createElement("link"),ct(s,"link",e),st(s),o.head.appendChild(s)))}}function Ip(e,s){ys.m(e,s);var r=or;if(r&&e){var o=s&&typeof s.as=="string"?s.as:"script",u='link[rel="modulepreload"][as="'+kt(o)+'"][href="'+kt(e)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(e)}if(!Bt.has(f)&&(e=y({rel:"modulepreload",href:e},s),Bt.set(f,e),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yn(f)))return}o=r.createElement("link"),ct(o,"link",e),st(o),r.head.appendChild(o)}}}function Kp(e,s,r){ys.S(e,s,r);var o=or;if(o&&e){var u=Ra(o).hoistableStyles,f=cr(e);s=s||"default";var b=u.get(f);if(!b){var w={loading:0,preload:null};if(b=o.querySelector(pn(f)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":s},r),(r=Bt.get(f))&&zc(e,r);var D=b=o.createElement("link");st(D),ct(D,"link",e),D._p=new Promise(function($,I){D.onload=$,D.onerror=I}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ki(b,s,o)}b={type:"stylesheet",instance:b,count:1,state:w},u.set(f,b)}}}function Yp(e,s){ys.X(e,s);var r=or;if(r&&e){var o=Ra(r).hoistableScripts,u=dr(e),f=o.get(u);f||(f=r.querySelector(yn(u)),f||(e=y({src:e,async:!0},s),(s=Bt.get(u))&&Mc(e,s),f=r.createElement("script"),st(f),ct(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Jp(e,s){ys.M(e,s);var r=or;if(r&&e){var o=Ra(r).hoistableScripts,u=dr(e),f=o.get(u);f||(f=r.querySelector(yn(u)),f||(e=y({src:e,async:!0,type:"module"},s),(s=Bt.get(u))&&Mc(e,s),f=r.createElement("script"),st(f),ct(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function vm(e,s,r,o){var u=(u=re.current)?Ii(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=cr(r.href),r=Ra(u).hoistableStyles,o=r.get(s),o||(o={type:"style",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=cr(r.href);var f=Ra(u).hoistableStyles,b=f.get(e);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,b),(f=u.querySelector(pn(e)))&&!f._p&&(b.instance=f,b.state.loading=5),Bt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bt.set(e,r),f||Qp(u,e,r,b.state))),s&&o===null)throw Error(i(528,""));return b}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dr(r),r=Ra(u).hoistableScripts,o=r.get(s),o||(o={type:"script",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function cr(e){return'href="'+kt(e)+'"'}function pn(e){return'link[rel="stylesheet"]['+e+"]"}function jm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Qp(e,s,r,o){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=e.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),ct(s,"link",r),st(s),e.head.appendChild(s))}function dr(e){return'[src="'+kt(e)+'"]'}function yn(e){return"script[async]"+e}function Nm(e,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var o=e.querySelector('style[data-href~="'+kt(r.href)+'"]');if(o)return s.instance=o,st(o),o;var u=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),st(o),ct(o,"style",u),Ki(o,r.precedence,e),s.instance=o;case"stylesheet":u=cr(r.href);var f=e.querySelector(pn(u));if(f)return s.state.loading|=4,s.instance=f,st(f),f;o=jm(r),(u=Bt.get(u))&&zc(o,u),f=(e.ownerDocument||e).createElement("link"),st(f);var b=f;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),ct(f,"link",o),s.state.loading|=4,Ki(f,r.precedence,e),s.instance=f;case"script":return f=dr(r.src),(u=e.querySelector(yn(f)))?(s.instance=u,st(u),u):(o=r,(u=Bt.get(f))&&(o=y({},r),Mc(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),st(u),ct(u,"link",o),e.head.appendChild(u),s.instance=u);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Ki(o,r.precedence,e));return s.instance}function Ki(e,s,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,b=0;b<o.length;b++){var w=o[b];if(w.dataset.precedence===s)f=w;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(e,s.firstChild))}function zc(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Mc(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Yi=null;function wm(e,s,r){if(Yi===null){var o=new Map,u=Yi=new Map;u.set(r,o)}else u=Yi,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var f=r[u];if(!(f[Dr]||f[nt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(s)||"";b=e+b;var w=o.get(b);w?w.push(f):o.set(b,[f])}}return o}function Sm(e,s,r){e=e.ownerDocument||e,e.head.insertBefore(r,s==="title"?e.querySelector("head > title"):null)}function Xp(e,s,r){if(r===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zp(e,s,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=cr(o.href),f=s.querySelector(pn(u));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Ji.bind(e),s.then(e,e)),r.state.loading|=4,r.instance=f,st(f);return}f=s.ownerDocument||s,o=jm(o),(u=Bt.get(u))&&zc(o,u),f=f.createElement("link"),st(f);var b=f;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),ct(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ji.bind(e),s.addEventListener("load",r),s.addEventListener("error",r))}}var qc=0;function Wp(e,s){return e.stylesheets&&e.count===0&&Xi(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Xi(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+s);0<e.imgBytes&&qc===0&&(qc=62500*Dp());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xi(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>qc?50:800)+s);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qi=null;function Xi(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qi=new Map,s.forEach(ey,e),Qi=null,Ji.call(e))}function ey(e,s){if(!(s.state.loading&4)){var r=Qi.get(e);if(r)var o=r.get(null);else{r=new Map,Qi.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var b=u[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}u=s.instance,b=u.getAttribute("data-precedence"),f=r.get(b)||o,f===o&&r.set(null,u),r.set(b,u),this.count++,o=Ji.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),s.state.loading|=4}}var bn={$$typeof:E,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function ty(e,s,r,o,u,f,b,w,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.hiddenUpdates=kl(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Em(e,s,r,o,u,f,b,w,D,$,I,J){return e=new ty(e,s,r,b,D,$,I,J,w),s=1,f===!0&&(s|=24),f=_t(3,null,null,s),e.current=f,f.stateNode=e,s=po(),s.refCount++,e.pooledCache=s,s.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:s},jo(f),e}function Cm(e){return e?(e=Ha,e):Ha}function Om(e,s,r,o,u,f){u=Cm(u),o.context===null?o.context=u:o.pendingContext=u,o=Ds(s),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ls(e,o,s),r!==null&&(vt(r,e,s),Qr(r,e,s))}function Tm(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function $c(e,s){Tm(e,s),(e=e.alternate)&&Tm(e,s)}function Am(e){if(e.tag===13||e.tag===31){var s=ca(e,67108864);s!==null&&vt(s,e,67108864),$c(e,67108864)}}function Rm(e){if(e.tag===13||e.tag===31){var s=At();s=Dl(s);var r=ca(e,s);r!==null&&vt(r,e,s),$c(e,s)}}var Zi=!0;function sy(e,s,r,o){var u=M.T;M.T=null;var f=Q.p;try{Q.p=2,Bc(e,s,r,o)}finally{Q.p=f,M.T=u}}function ay(e,s,r,o){var u=M.T;M.T=null;var f=Q.p;try{Q.p=8,Bc(e,s,r,o)}finally{Q.p=f,M.T=u}}function Bc(e,s,r,o){if(Zi){var u=Hc(o);if(u===null)Ec(e,s,o,Wi,r),Dm(e,o);else if(ny(u,e,s,r,o))o.stopPropagation();else if(Dm(e,o),s&4&&-1<ry.indexOf(e)){for(;u!==null;){var f=Aa(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=ra(f.pendingLanes);if(b!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-wt(b);w.entanglements[1]|=D,b&=~D}Zt(f),(Oe&6)===0&&(Ui=jt()+500,fn(0))}}break;case 31:case 13:w=ca(f,2),w!==null&&vt(w,f,2),Mi(),$c(f,2)}if(f=Hc(o),f===null&&Ec(e,s,o,Wi,r),f===u)break;u=f}u!==null&&o.stopPropagation()}else Ec(e,s,o,null,r)}}function Hc(e){return e=Pl(e),Pc(e)}var Wi=null;function Pc(e){if(Wi=null,e=Ta(e),e!==null){var s=d(e);if(s===null)e=null;else{var r=s.tag;if(r===13){if(e=h(s),e!==null)return e;e=null}else if(r===31){if(e=m(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Wi=e,null}function km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gx()){case $d:return 2;case Bd:return 8;case Pn:case Vx:return 32;case Hd:return 268435456;default:return 32}default:return 32}}var Gc=!1,Fs=null,Is=null,Ks=null,vn=new Map,jn=new Map,Ys=[],ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,s){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":vn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(s.pointerId)}}function Nn(e,s,r,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:s,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},s!==null&&(s=Aa(s),s!==null&&Am(s)),e):(e.eventSystemFlags|=o,s=e.targetContainers,u!==null&&s.indexOf(u)===-1&&s.push(u),e)}function ny(e,s,r,o,u){switch(s){case"focusin":return Fs=Nn(Fs,e,s,r,o,u),!0;case"dragenter":return Is=Nn(Is,e,s,r,o,u),!0;case"mouseover":return Ks=Nn(Ks,e,s,r,o,u),!0;case"pointerover":var f=u.pointerId;return vn.set(f,Nn(vn.get(f)||null,e,s,r,o,u)),!0;case"gotpointercapture":return f=u.pointerId,jn.set(f,Nn(jn.get(f)||null,e,s,r,o,u)),!0}return!1}function Lm(e){var s=Ta(e.target);if(s!==null){var r=d(s);if(r!==null){if(s=r.tag,s===13){if(s=h(r),s!==null){e.blockedOn=s,Kd(e.priority,function(){Rm(r)});return}}else if(s===31){if(s=m(r),s!==null){e.blockedOn=s,Kd(e.priority,function(){Rm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Hc(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Hl=o,r.target.dispatchEvent(o),Hl=null}else return s=Aa(r),s!==null&&Am(s),e.blockedOn=r,!1;s.shift()}return!0}function Um(e,s,r){el(e)&&r.delete(s)}function iy(){Gc=!1,Fs!==null&&el(Fs)&&(Fs=null),Is!==null&&el(Is)&&(Is=null),Ks!==null&&el(Ks)&&(Ks=null),vn.forEach(Um),jn.forEach(Um)}function tl(e,s){e.blockedOn===s&&(e.blockedOn=null,Gc||(Gc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,iy)))}var sl=null;function zm(e){sl!==e&&(sl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){sl===e&&(sl=null);for(var s=0;s<e.length;s+=3){var r=e[s],o=e[s+1],u=e[s+2];if(typeof o!="function"){if(Pc(o||r)===null)continue;break}var f=Aa(r);f!==null&&(e.splice(s,3),s-=3,Ho(f,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function ur(e){function s(D){return tl(D,e)}Fs!==null&&tl(Fs,e),Is!==null&&tl(Is,e),Ks!==null&&tl(Ks,e),vn.forEach(s),jn.forEach(s);for(var r=0;r<Ys.length;r++){var o=Ys[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(r=Ys[0],r.blockedOn===null);)Lm(r),r.blockedOn===null&&Ys.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],b=u[mt]||null;if(typeof f=="function")b||zm(r);else if(b){var w=null;if(f&&f.hasAttribute("formAction")){if(u=f,b=f[mt]||null)w=b.formAction;else if(Pc(u)!==null)continue}else w=b.action;typeof w=="function"?r[o+1]=w:(r.splice(o,3),o-=3),zm(r)}}}function Mm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function s(){u!==null&&(u(),u=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),u!==null&&(u(),u=null)}}}function Vc(e){this._internalRoot=e}al.prototype.render=Vc.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,o=At();Om(r,o,e,s,null,null)},al.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Om(e.current,2,null,e,null,null),Mi(),s[Oa]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var s=Id();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Ys.length&&s!==0&&s<Ys[r].priority;r++);Ys.splice(r,0,e),r===0&&Lm(e)}};var qm=a.version;if(qm!=="19.2.4")throw Error(i(527,qm,"19.2.4"));Q.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(s),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var ly={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Ar=rl.inject(ly),Nt=rl}catch{}}return _n.createRoot=function(e,s){if(!c(e))throw Error(i(299));var r=!1,o="",u=Vh,f=Fh,b=Ih;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Em(e,1,!1,null,null,r,o,null,u,f,b,Mm),e[Oa]=s.current,_c(e),new Vc(s)},_n.hydrateRoot=function(e,s,r){if(!c(e))throw Error(i(299));var o=!1,u="",f=Vh,b=Fh,w=Ih,D=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),s=Em(e,1,!0,s,r??null,o,u,D,f,b,w,Mm),s.context=Cm(null),r=s.current,o=At(),o=Dl(o),u=Ds(o),u.callback=null,Ls(r,u,o),r=o,s.current.lanes=r,kr(s,r),Zt(s),e[Oa]=s.current,_c(e),new al(s)},_n.version="19.2.4",_n}var mg;function ob(){if(mg)return Yc.exports;mg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Yc.exports=lb(),Yc.exports}var cb=ob();var gg="popstate";function db(l={}){function a(i,c){let{pathname:d,search:h,hash:m}=i.location;return ud("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(i,c){return typeof c=="string"?c:Un(c)}return hb(a,n,null,l)}function tt(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function Yt(l,a){if(!l){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function ub(){return Math.random().toString(36).substring(2,10)}function xg(l,a){return{usr:l.state,key:l.key,idx:a}}function ud(l,a,n=null,i){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof a=="string"?Mn(a):a,state:n,key:a&&a.key||i||ub()}}function Un({pathname:l="/",search:a="",hash:n=""}){return a&&a!=="?"&&(l+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(l+=n.charAt(0)==="#"?n:"#"+n),l}function Mn(l){let a={};if(l){let n=l.indexOf("#");n>=0&&(a.hash=l.substring(n),l=l.substring(0,n));let i=l.indexOf("?");i>=0&&(a.search=l.substring(i),l=l.substring(0,i)),l&&(a.pathname=l)}return a}function hb(l,a,n,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,h=c.history,m="POP",g=null,x=p();x==null&&(x=0,h.replaceState({...h.state,idx:x},""));function p(){return(h.state||{idx:null}).idx}function y(){m="POP";let v=p(),T=v==null?null:v-x;x=v,g&&g({action:m,location:C.location,delta:T})}function _(v,T){m="PUSH";let O=ud(C.location,v,T);x=p()+1;let E=xg(O,x),L=C.createHref(O);try{h.pushState(E,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;c.location.assign(L)}d&&g&&g({action:m,location:C.location,delta:1})}function j(v,T){m="REPLACE";let O=ud(C.location,v,T);x=p();let E=xg(O,x),L=C.createHref(O);h.replaceState(E,"",L),d&&g&&g({action:m,location:C.location,delta:0})}function S(v){return fb(v)}let C={get action(){return m},get location(){return l(c,h)},listen(v){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(gg,y),g=v,()=>{c.removeEventListener(gg,y),g=null}},createHref(v){return a(c,v)},createURL:S,encodeLocation(v){let T=S(v);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:j,go(v){return h.go(v)}};return C}function fb(l,a=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let i=typeof l=="string"?l:Un(l);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ex(l,a,n="/"){return mb(l,a,n,!1)}function mb(l,a,n,i){let c=typeof a=="string"?Mn(a):a,d=Ns(c.pathname||"/",n);if(d==null)return null;let h=tx(l);gb(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let x=Eb(d);m=Sb(h[g],x,i)}return m}function tx(l,a=[],n=[],i="",c=!1){let d=(h,m,g=c,x)=>{let p={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&g)return;tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=js([i,p.relativePath]),_=n.concat(p);h.children&&h.children.length>0&&(tt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),tx(h.children,a,_,y,g)),!(h.path==null&&!h.index)&&a.push({path:y,score:Nb(y,h.index),routesMeta:_})};return l.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))d(h,m);else for(let g of sx(h.path))d(h,m,!0,g)}),a}function sx(l){let a=l.split("/");if(a.length===0)return[];let[n,...i]=a,c=n.endsWith("?"),d=n.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let h=sx(i.join("/")),m=[];return m.push(...h.map(g=>g===""?d:[d,g].join("/"))),c&&m.push(...h),m.map(g=>l.startsWith("/")&&g===""?"/":g)}function gb(l){l.sort((a,n)=>a.score!==n.score?n.score-a.score:wb(a.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var xb=/^:[\w-]+$/,pb=3,yb=2,bb=1,vb=10,jb=-2,pg=l=>l==="*";function Nb(l,a){let n=l.split("/"),i=n.length;return n.some(pg)&&(i+=jb),a&&(i+=yb),n.filter(c=>!pg(c)).reduce((c,d)=>c+(xb.test(d)?pb:d===""?bb:vb),i)}function wb(l,a){return l.length===a.length&&l.slice(0,-1).every((i,c)=>i===a[c])?l[l.length-1]-a[a.length-1]:0}function Sb(l,a,n=!1){let{routesMeta:i}=l,c={},d="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],x=m===i.length-1,p=d==="/"?a:a.slice(d.length)||"/",y=yl({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},p),_=g.route;if(!y&&x&&n&&!i[i.length-1].route.index&&(y=yl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},p)),!y)return null;Object.assign(c,y.params),h.push({params:c,pathname:js([d,y.pathname]),pathnameBase:Ab(js([d,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(d=js([d,y.pathnameBase]))}return h}function yl(l,a){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[n,i]=_b(l.path,l.caseSensitive,l.end),c=a.match(n);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:i.reduce((x,{paramName:p,isOptional:y},_)=>{if(p==="*"){let S=m[_]||"";h=d.slice(0,d.length-S.length).replace(/(.)\/+$/,"$1")}const j=m[_];return y&&!j?x[p]=void 0:x[p]=(j||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:h,pattern:l}}function _b(l,a=!1,n=!0){Yt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let i=[],c="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(i.push({paramName:"*"}),c+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":l!==""&&l!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),i]}function Eb(l){try{return l.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Yt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),l}}function Ns(l,a){if(a==="/")return l;if(!l.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,i=l.charAt(n);return i&&i!=="/"?null:l.slice(n)||"/"}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ob(l,a="/"){let{pathname:n,search:i="",hash:c=""}=typeof l=="string"?Mn(l):l,d;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?d=yg(n.substring(1),"/"):d=yg(n,a)):d=a,{pathname:d,search:Rb(i),hash:kb(c)}}function yg(l,a){let n=a.replace(/\/+$/,"").split("/");return l.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Zc(l,a,n,i){return`Cannot include a '${l}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tb(l){return l.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function ax(l){let a=Tb(l);return a.map((n,i)=>i===a.length-1?n.pathname:n.pathnameBase)}function rx(l,a,n,i=!1){let c;typeof l=="string"?c=Mn(l):(c={...l},tt(!c.pathname||!c.pathname.includes("?"),Zc("?","pathname","search",c)),tt(!c.pathname||!c.pathname.includes("#"),Zc("#","pathname","hash",c)),tt(!c.search||!c.search.includes("#"),Zc("#","search","hash",c)));let d=l===""||c.pathname==="",h=d?"/":c.pathname,m;if(h==null)m=n;else{let y=a.length-1;if(!i&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),y-=1;c.pathname=_.join("/")}m=y>=0?a[y]:"/"}let g=Ob(c,m),x=h&&h!=="/"&&h.endsWith("/"),p=(d||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(x||p)&&(g.pathname+="/"),g}var js=l=>l.join("/").replace(/\/\/+/g,"/"),Ab=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Rb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,kb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,Db=class{constructor(l,a,n,i=!1){this.status=l,this.statusText=a||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Lb(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function Ub(l){return l.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ix(l,a){let n=l;if(typeof n!="string"||!Cb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,c=!1;if(nx)try{let d=new URL(window.location.href),h=n.startsWith("//")?new URL(d.protocol+n):new URL(n),m=Ns(h.pathname,a);h.origin===d.origin&&m!=null?n=m+h.search+h.hash:c=!0}catch{Yt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:c,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lx=["POST","PUT","PATCH","DELETE"];new Set(lx);var zb=["GET",...lx];new Set(zb);var Or=N.createContext(null);Or.displayName="DataRouter";var Nl=N.createContext(null);Nl.displayName="DataRouterState";var Mb=N.createContext(!1),ox=N.createContext({isTransitioning:!1});ox.displayName="ViewTransition";var qb=N.createContext(new Map);qb.displayName="Fetchers";var $b=N.createContext(null);$b.displayName="Await";var Pt=N.createContext(null);Pt.displayName="Navigation";var wl=N.createContext(null);wl.displayName="Location";var ws=N.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var _d=N.createContext(null);_d.displayName="RouteError";var cx="REACT_ROUTER_ERROR",Bb="REDIRECT",Hb="ROUTE_ERROR_RESPONSE";function Pb(l){if(l.startsWith(`${cx}:${Bb}:{`))try{let a=JSON.parse(l.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Gb(l){if(l.startsWith(`${cx}:${Hb}:{`))try{let a=JSON.parse(l.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Db(a.status,a.statusText,a.data)}catch{}}function Vb(l,{relative:a}={}){tt(qn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Pt),{hash:c,pathname:d,search:h}=$n(l,{relative:a}),m=d;return n!=="/"&&(m=d==="/"?n:js([n,d])),i.createHref({pathname:m,search:h,hash:c})}function qn(){return N.useContext(wl)!=null}function Ss(){return tt(qn(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(wl).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ux(l){N.useContext(Pt).static||N.useLayoutEffect(l)}function Pe(){let{isDataRoute:l}=N.useContext(ws);return l?av():Fb()}function Fb(){tt(qn(),"useNavigate() may be used only in the context of a <Router> component.");let l=N.useContext(Or),{basename:a,navigator:n}=N.useContext(Pt),{matches:i}=N.useContext(ws),{pathname:c}=Ss(),d=JSON.stringify(ax(i)),h=N.useRef(!1);return ux(()=>{h.current=!0}),N.useCallback((g,x={})=>{if(Yt(h.current,dx),!h.current)return;if(typeof g=="number"){n.go(g);return}let p=rx(g,JSON.parse(d),c,x.relative==="path");l==null&&a!=="/"&&(p.pathname=p.pathname==="/"?a:js([a,p.pathname])),(x.replace?n.replace:n.push)(p,x.state,x)},[a,n,d,c,l])}N.createContext(null);function $n(l,{relative:a}={}){let{matches:n}=N.useContext(ws),{pathname:i}=Ss(),c=JSON.stringify(ax(n));return N.useMemo(()=>rx(l,JSON.parse(c),i,a==="path"),[l,c,i,a])}function Ib(l,a){return hx(l)}function hx(l,a,n,i,c){tt(qn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=N.useContext(Pt),{matches:h}=N.useContext(ws),m=h[h.length-1],g=m?m.params:{},x=m?m.pathname:"/",p=m?m.pathnameBase:"/",y=m&&m.route;{let O=y&&y.path||"";mx(x,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=Ss(),j;j=_;let S=j.pathname||"/",C=S;if(p!=="/"){let O=p.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let v=ex(l,{pathname:C});return Yt(y||v!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Yt(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Xb(v&&v.map(O=>Object.assign({},O,{params:Object.assign({},g,O.params),pathname:js([p,d.encodeLocation?d.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:js([p,d.encodeLocation?d.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),h,n,i,c)}function Kb(){let l=sv(),a=Lb(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),n=l instanceof Error?l.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",l),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:d},"ErrorBoundary")," or"," ",N.createElement("code",{style:d},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},a),n?N.createElement("pre",{style:c},n):null,h)}var Yb=N.createElement(Kb,null),fx=class extends N.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,a){return a.location!==l.location||a.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:a.error,location:a.location,revalidation:l.revalidation||a.revalidation}}componentDidCatch(l,a){this.props.onError?this.props.onError(l,a):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const n=Gb(l.digest);n&&(l=n)}let a=l!==void 0?N.createElement(ws.Provider,{value:this.props.routeContext},N.createElement(_d.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?N.createElement(Jb,{error:l},a):a}};fx.contextType=Mb;var Wc=new WeakMap;function Jb({children:l,error:a}){let{basename:n}=N.useContext(Pt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let i=Pb(a.digest);if(i){let c=Wc.get(a);if(c)throw c;let d=ix(i.location,n);if(nx&&!Wc.get(a))if(d.isExternal||i.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:i.replace}));throw Wc.set(a,h),h}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return l}function Qb({routeContext:l,match:a,children:n}){let i=N.useContext(Or);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),N.createElement(ws.Provider,{value:l},n)}function Xb(l,a=[],n=null,i=null,c=null){if(l==null){if(!n)return null;if(n.errors)l=n.matches;else if(a.length===0&&!n.initialized&&n.matches.length>0)l=n.matches;else return null}let d=l,h=n?.errors;if(h!=null){let p=d.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<d.length;p++){let y=d[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:_,errors:j}=n,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||S){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}let x=n&&i?(p,y)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ub(n.matches),errorInfo:y})}:void 0;return d.reduceRight((p,y,_)=>{let j,S=!1,C=null,v=null;n&&(j=h&&y.route.id?h[y.route.id]:void 0,C=y.route.errorElement||Yb,m&&(g<0&&_===0?(mx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,v=null):g===_&&(S=!0,v=y.route.hydrateFallbackElement||null)));let T=a.concat(d.slice(0,_+1)),O=()=>{let E;return j?E=C:S?E=v:y.route.Component?E=N.createElement(y.route.Component,null):y.route.element?E=y.route.element:E=p,N.createElement(Qb,{match:y,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:E})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?N.createElement(fx,{location:n.location,revalidation:n.revalidation,component:C,error:j,children:O(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:x}):O()},null)}function Ed(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zb(l){let a=N.useContext(Or);return tt(a,Ed(l)),a}function Wb(l){let a=N.useContext(Nl);return tt(a,Ed(l)),a}function ev(l){let a=N.useContext(ws);return tt(a,Ed(l)),a}function Cd(l){let a=ev(l),n=a.matches[a.matches.length-1];return tt(n.route.id,`${l} can only be used on routes that contain a unique "id"`),n.route.id}function tv(){return Cd("useRouteId")}function sv(){let l=N.useContext(_d),a=Wb("useRouteError"),n=Cd("useRouteError");return l!==void 0?l:a.errors?.[n]}function av(){let{router:l}=Zb("useNavigate"),a=Cd("useNavigate"),n=N.useRef(!1);return ux(()=>{n.current=!0}),N.useCallback(async(c,d={})=>{Yt(n.current,dx),n.current&&(typeof c=="number"?await l.navigate(c):await l.navigate(c,{fromRouteId:a,...d}))},[l,a])}var bg={};function mx(l,a,n){!a&&!bg[l]&&(bg[l]=!0,Yt(!1,n))}N.memo(rv);function rv({routes:l,future:a,state:n,onError:i}){return hx(l,void 0,n,i,a)}function nv({basename:l="/",children:a=null,location:n,navigationType:i="POP",navigator:c,static:d=!1,unstable_useTransitions:h}){tt(!qn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=l.replace(/^\/*/,"/"),g=N.useMemo(()=>({basename:m,navigator:c,static:d,unstable_useTransitions:h,future:{}}),[m,c,d,h]);typeof n=="string"&&(n=Mn(n));let{pathname:x="/",search:p="",hash:y="",state:_=null,key:j="default"}=n,S=N.useMemo(()=>{let C=Ns(x,m);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:j},navigationType:i}},[m,x,p,y,_,j,i]);return Yt(S!=null,`<Router basename="${m}"> is not able to match the URL "${x}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(Pt.Provider,{value:g},N.createElement(wl.Provider,{children:a,value:S}))}var hl="get",fl="application/x-www-form-urlencoded";function Sl(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function iv(l){return Sl(l)&&l.tagName.toLowerCase()==="button"}function lv(l){return Sl(l)&&l.tagName.toLowerCase()==="form"}function ov(l){return Sl(l)&&l.tagName.toLowerCase()==="input"}function cv(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function dv(l,a){return l.button===0&&(!a||a==="_self")&&!cv(l)}function hd(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((a,n)=>{let i=l[n];return a.concat(Array.isArray(i)?i.map(c=>[n,c]):[[n,i]])},[]))}function uv(l,a){let n=hd(l);return a&&a.forEach((i,c)=>{n.has(c)||a.getAll(c).forEach(d=>{n.append(c,d)})}),n}var il=null;function hv(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var fv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ed(l){return l!=null&&!fv.has(l)?(Yt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fl}"`),null):l}function mv(l,a){let n,i,c,d,h;if(lv(l)){let m=l.getAttribute("action");i=m?Ns(m,a):null,n=l.getAttribute("method")||hl,c=ed(l.getAttribute("enctype"))||fl,d=new FormData(l)}else if(iv(l)||ov(l)&&(l.type==="submit"||l.type==="image")){let m=l.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=l.getAttribute("formaction")||m.getAttribute("action");if(i=g?Ns(g,a):null,n=l.getAttribute("formmethod")||m.getAttribute("method")||hl,c=ed(l.getAttribute("formenctype"))||ed(m.getAttribute("enctype"))||fl,d=new FormData(m,l),!hv()){let{name:x,type:p,value:y}=l;if(p==="image"){let _=x?`${x}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else x&&d.append(x,y)}}else{if(Sl(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hl,i=null,c=fl,h=l}return d&&c==="text/plain"&&(h=d,d=void 0),{action:i,method:n.toLowerCase(),encType:c,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Od(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function gv(l,a,n,i){let c=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return n?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${i}`:c.pathname=`${c.pathname}.${i}`:c.pathname==="/"?c.pathname=`_root.${i}`:a&&Ns(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function xv(l,a){if(l.id in a)return a[l.id];try{let n=await import(l.module);return a[l.id]=n,n}catch(n){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pv(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function yv(l,a,n){let i=await Promise.all(l.map(async c=>{let d=a.routes[c.route.id];if(d){let h=await xv(d,n);return h.links?h.links():[]}return[]}));return Nv(i.flat(1).filter(pv).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function vg(l,a,n,i,c,d){let h=(g,x)=>n[x]?g.route.id!==n[x].route.id:!0,m=(g,x)=>n[x].pathname!==g.pathname||n[x].route.path?.endsWith("*")&&n[x].params["*"]!==g.params["*"];return d==="assets"?a.filter((g,x)=>h(g,x)||m(g,x)):d==="data"?a.filter((g,x)=>{let p=i.routes[g.route.id];if(!p||!p.hasLoader)return!1;if(h(g,x)||m(g,x))return!0;if(g.route.shouldRevalidate){let y=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function bv(l,a,{includeHydrateFallback:n}={}){return vv(l.map(i=>{let c=a.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function vv(l){return[...new Set(l)]}function jv(l){let a={},n=Object.keys(l).sort();for(let i of n)a[i]=l[i];return a}function Nv(l,a){let n=new Set;return new Set(a),l.reduce((i,c)=>{let d=JSON.stringify(jv(c));return n.has(d)||(n.add(d),i.push({key:d,link:c})),i},[])}function gx(){let l=N.useContext(Or);return Od(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function wv(){let l=N.useContext(Nl);return Od(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Td=N.createContext(void 0);Td.displayName="FrameworkContext";function xx(){let l=N.useContext(Td);return Od(l,"You must render this element inside a <HydratedRouter> element"),l}function Sv(l,a){let n=N.useContext(Td),[i,c]=N.useState(!1),[d,h]=N.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:x,onMouseLeave:p,onTouchStart:y}=a,_=N.useRef(null);N.useEffect(()=>{if(l==="render"&&h(!0),l==="viewport"){let C=T=>{T.forEach(O=>{h(O.isIntersecting)})},v=new IntersectionObserver(C,{threshold:.5});return _.current&&v.observe(_.current),()=>{v.disconnect()}}},[l]),N.useEffect(()=>{if(i){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[i]);let j=()=>{c(!0)},S=()=>{c(!1),h(!1)};return n?l!=="intent"?[d,_,{}]:[d,_,{onFocus:En(m,j),onBlur:En(g,S),onMouseEnter:En(x,j),onMouseLeave:En(p,S),onTouchStart:En(y,j)}]:[!1,_,{}]}function En(l,a){return n=>{l&&l(n),n.defaultPrevented||a(n)}}function _v({page:l,...a}){let{router:n}=gx(),i=N.useMemo(()=>ex(n.routes,l,n.basename),[n.routes,l,n.basename]);return i?N.createElement(Cv,{page:l,matches:i,...a}):null}function Ev(l){let{manifest:a,routeModules:n}=xx(),[i,c]=N.useState([]);return N.useEffect(()=>{let d=!1;return yv(l,a,n).then(h=>{d||c(h)}),()=>{d=!0}},[l,a,n]),i}function Cv({page:l,matches:a,...n}){let i=Ss(),{future:c,manifest:d,routeModules:h}=xx(),{basename:m}=gx(),{loaderData:g,matches:x}=wv(),p=N.useMemo(()=>vg(l,a,x,d,i,"data"),[l,a,x,d,i]),y=N.useMemo(()=>vg(l,a,x,d,i,"assets"),[l,a,x,d,i]),_=N.useMemo(()=>{if(l===i.pathname+i.search+i.hash)return[];let C=new Set,v=!1;if(a.forEach(O=>{let E=d.routes[O.route.id];!E||!E.hasLoader||(!p.some(L=>L.route.id===O.route.id)&&O.route.id in g&&h[O.route.id]?.shouldRevalidate||E.hasClientLoader?v=!0:C.add(O.route.id))}),C.size===0)return[];let T=gv(l,m,c.unstable_trailingSlashAwareDataRequests,"data");return v&&C.size>0&&T.searchParams.set("_routes",a.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[T.pathname+T.search]},[m,c.unstable_trailingSlashAwareDataRequests,g,i,d,p,a,l,h]),j=N.useMemo(()=>bv(y,d),[y,d]),S=Ev(y);return N.createElement(N.Fragment,null,_.map(C=>N.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),j.map(C=>N.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:v})=>N.createElement("link",{key:C,nonce:n.nonce,...v,crossOrigin:v.crossOrigin??n.crossOrigin})))}function Ov(...l){return a=>{l.forEach(n=>{typeof n=="function"?n(a):n!=null&&(n.current=a)})}}var Tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tv&&(window.__reactRouterVersion="7.13.0")}catch{}function Av({basename:l,children:a,unstable_useTransitions:n,window:i}){let c=N.useRef();c.current==null&&(c.current=db({window:i,v5Compat:!0}));let d=c.current,[h,m]=N.useState({action:d.action,location:d.location}),g=N.useCallback(x=>{n===!1?m(x):N.startTransition(()=>m(x))},[n]);return N.useLayoutEffect(()=>d.listen(g),[d,g]),N.createElement(nv,{basename:l,children:a,location:h.location,navigationType:h.action,navigator:d,unstable_useTransitions:n})}var px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yx=N.forwardRef(function({onClick:a,discover:n="render",prefetch:i="none",relative:c,reloadDocument:d,replace:h,state:m,target:g,to:x,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:_,...j},S){let{basename:C,unstable_useTransitions:v}=N.useContext(Pt),T=typeof x=="string"&&px.test(x),O=ix(x,C);x=O.to;let E=Vb(x,{relative:c}),[L,B,k]=Sv(i,j),A=Lv(x,{replace:h,state:m,target:g,preventScrollReset:p,relative:c,viewTransition:y,unstable_defaultShouldRevalidate:_,unstable_useTransitions:v});function Y(ie){a&&a(ie),ie.defaultPrevented||A(ie)}let te=N.createElement("a",{...j,...k,href:O.absoluteURL||E,onClick:O.isExternal||d?a:Y,ref:Ov(S,B),target:g,"data-discover":!T&&n==="render"?"true":void 0});return L&&!T?N.createElement(N.Fragment,null,te,N.createElement(_v,{page:E})):te});yx.displayName="Link";var Rv=N.forwardRef(function({"aria-current":a="page",caseSensitive:n=!1,className:i="",end:c=!1,style:d,to:h,viewTransition:m,children:g,...x},p){let y=$n(h,{relative:x.relative}),_=Ss(),j=N.useContext(Nl),{navigator:S,basename:C}=N.useContext(Pt),v=j!=null&&$v(y)&&m===!0,T=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=_.pathname,E=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(O=O.toLowerCase(),E=E?E.toLowerCase():null,T=T.toLowerCase()),E&&C&&(E=Ns(E,C)||E);const L=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let B=O===T||!c&&O.startsWith(T)&&O.charAt(L)==="/",k=E!=null&&(E===T||!c&&E.startsWith(T)&&E.charAt(T.length)==="/"),A={isActive:B,isPending:k,isTransitioning:v},Y=B?a:void 0,te;typeof i=="function"?te=i(A):te=[i,B?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let ie=typeof d=="function"?d(A):d;return N.createElement(yx,{...x,"aria-current":Y,className:te,ref:p,style:ie,to:h,viewTransition:m},typeof g=="function"?g(A):g)});Rv.displayName="NavLink";var kv=N.forwardRef(({discover:l="render",fetcherKey:a,navigate:n,reloadDocument:i,replace:c,state:d,method:h=hl,action:m,onSubmit:g,relative:x,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:_,...j},S)=>{let{unstable_useTransitions:C}=N.useContext(Pt),v=Mv(),T=qv(m,{relative:x}),O=h.toLowerCase()==="get"?"get":"post",E=typeof m=="string"&&px.test(m),L=B=>{if(g&&g(B),B.defaultPrevented)return;B.preventDefault();let k=B.nativeEvent.submitter,A=k?.getAttribute("formmethod")||h,Y=()=>v(k||B.currentTarget,{fetcherKey:a,method:A,navigate:n,replace:c,state:d,relative:x,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:_});C&&n!==!1?N.startTransition(()=>Y()):Y()};return N.createElement("form",{ref:S,method:O,action:T,onSubmit:i?g:L,...j,"data-discover":!E&&l==="render"?"true":void 0})});kv.displayName="Form";function Dv(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(l){let a=N.useContext(Or);return tt(a,Dv(l)),a}function Lv(l,{target:a,replace:n,state:i,preventScrollReset:c,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let x=Pe(),p=Ss(),y=$n(l,{relative:d});return N.useCallback(_=>{if(dv(_,a)){_.preventDefault();let j=n!==void 0?n:Un(p)===Un(y),S=()=>x(l,{replace:j,state:i,preventScrollReset:c,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:m});g?N.startTransition(()=>S()):S()}},[p,x,y,n,i,a,l,c,d,h,m,g])}function Ad(l){Yt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=N.useRef(hd(l)),n=N.useRef(!1),i=Ss(),c=N.useMemo(()=>uv(i.search,n.current?null:a.current),[i.search]),d=Pe(),h=N.useCallback((m,g)=>{const x=hd(typeof m=="function"?m(new URLSearchParams(c)):m);n.current=!0,d("?"+x,g)},[d,c]);return[c,h]}var Uv=0,zv=()=>`__${String(++Uv)}__`;function Mv(){let{router:l}=bx("useSubmit"),{basename:a}=N.useContext(Pt),n=tv(),i=l.fetch,c=l.navigate;return N.useCallback(async(d,h={})=>{let{action:m,method:g,encType:x,formData:p,body:y}=mv(d,a);if(h.navigate===!1){let _=h.fetcherKey||zv();await i(_,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:p,body:y,formMethod:h.method||g,formEncType:h.encType||x,flushSync:h.flushSync})}else await c(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:p,body:y,formMethod:h.method||g,formEncType:h.encType||x,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,c,a,n])}function qv(l,{relative:a}={}){let{basename:n}=N.useContext(Pt),i=N.useContext(ws);tt(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...$n(l||".",{relative:a})},h=Ss();if(l==null){d.search=h.search;let m=new URLSearchParams(d.search),g=m.getAll("index");if(g.some(p=>p==="")){m.delete("index"),g.filter(y=>y).forEach(y=>m.append("index",y));let p=m.toString();d.search=p?`?${p}`:""}}return(!l||l===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:js([n,d.pathname])),Un(d)}function $v(l,{relative:a}={}){let n=N.useContext(ox);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bx("useViewTransitionState"),c=$n(l,{relative:a});if(!n.isTransitioning)return!1;let d=Ns(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=Ns(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yl(c.pathname,h)!=null||yl(c.pathname,d)!=null}function Bv(){return t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[t.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),t.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),t.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const Hv="modulepreload",Pv=function(l){return"/"+l},jg={},Bn=function(a,n,i){let c=Promise.resolve();if(n&&n.length>0){let x=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var h=x;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");c=x(n.map(p=>{if(p=Pv(p),p in jg)return;jg[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const j=document.createElement("link");if(j.rel=y?"stylesheet":Hv,y||(j.as="script"),j.crossOrigin="",j.href=p,g&&j.setAttribute("nonce",g),document.head.appendChild(j),y)return new Promise((S,C)=>{j.addEventListener("load",S),j.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return c.then(m=>{for(const g of m||[])g.status==="rejected"&&d(g.reason);return a().catch(d)})},Gv=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...n)=>Bn(async()=>{const{default:i}=await Promise.resolve().then(()=>Tr);return{default:i}},[]).then(({default:i})=>i(...n)):a=fetch,(...n)=>a(...n)};class Rd extends Error{constructor(a,n="FunctionsError",i){super(a),this.name=n,this.context=i}}class Vv extends Rd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Ng extends Rd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class wg extends Rd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var fd;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(fd||(fd={}));var Fv=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};class Iv{constructor(a,{headers:n={},customFetch:i,region:c=fd.Any}={}){this.url=a,this.headers=n,this.region=c,this.fetch=Gv(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a,n={}){var i;return Fv(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=n;let m={},{region:g}=n;g||(g=this.region);const x=new URL(`${this.url}/${a}`);g&&g!=="any"&&(m["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let p;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=h):typeof h=="string"?(m["Content-Type"]="text/plain",p=h):typeof FormData<"u"&&h instanceof FormData?p=h:(m["Content-Type"]="application/json",p=JSON.stringify(h)));const y=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:p}).catch(C=>{throw new Vv(C)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new Ng(y);if(!y.ok)throw new wg(y);let j=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield y.json():j==="application/octet-stream"?S=yield y.blob():j==="text/event-stream"?S=y:j==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(c){return{data:null,error:c,response:c instanceof wg||c instanceof Ng?c.context:void 0}}})}}var rt={},gr={},xr={},pr={},yr={},br={},Kv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cr=Kv();const Yv=Cr.fetch,vx=Cr.fetch.bind(Cr),jx=Cr.Headers,Jv=Cr.Request,Qv=Cr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:jx,Request:Jv,Response:Qv,default:vx,fetch:Yv},Symbol.toStringTag,{value:"Module"})),Xv=dy(Tr);var ll={},Sg;function Nx(){if(Sg)return ll;Sg=1,Object.defineProperty(ll,"__esModule",{value:!0});class l extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ll.default=l,ll}var _g;function wx(){if(_g)return br;_g=1;var l=br&&br.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(br,"__esModule",{value:!0});const a=l(Xv),n=l(Nx());class i{constructor(d){var h,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var p,y,_,j;let S=null,C=null,v=null,T=x.status,O=x.statusText;if(x.ok){if(this.method!=="HEAD"){const k=await x.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?C=k:C=JSON.parse(k))}const L=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),B=(_=x.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");L&&B&&B.length>1&&(v=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(S={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,v=null,T=406,O="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const L=await x.text();try{S=JSON.parse(L),Array.isArray(S)&&x.status===404&&(C=[],S=null,T=200,O="OK")}catch{x.status===404&&L===""?(T=204,O="No Content"):S={message:L}}if(S&&this.isMaybeSingle&&(!((j=S?.details)===null||j===void 0)&&j.includes("0 rows"))&&(S=null,T=200,O="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:C,count:v,status:T,statusText:O}});return this.shouldThrowOnError||(g=g.catch(x=>{var p,y,_;return{error:{message:`${(p=x?.name)!==null&&p!==void 0?p:"FetchError"}: ${x?.message}`,details:`${(y=x?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=x?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,h)}returns(){return this}overrideTypes(){return this}}return br.default=i,br}var Eg;function Sx(){if(Eg)return yr;Eg=1;var l=yr&&yr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yr,"__esModule",{value:!0});const a=l(wx());class n extends a.default{select(c){let d=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const x=g?`${g}.order`:"order",p=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${p?`${p},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,x=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(x,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:x="text"}={}){var p;const y=[c?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${x}; for="${_}"; options=${y};`),x==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return yr.default=n,yr}var Cg;function kd(){if(Cg)return pr;Cg=1;var l=pr&&pr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pr,"__esModule",{value:!0});const a=l(Sx());class n extends a.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const x=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${g}fts${x}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return pr.default=n,pr}var Og;function _x(){if(Og)return xr;Og=1;var l=xr&&xr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xr,"__esModule",{value:!0});const a=l(kd());class n{constructor(c,{headers:d={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(c,{head:d=!1,count:h}={}){const m=d?"HEAD":"GET";let g=!1;const x=(c??"*").split("").map(p=>/\s/.test(p)&&!g?"":(p==='"'&&(g=!g),p)).join("");return this.url.searchParams.set("select",x),h&&this.headers.append("Prefer",`count=${h}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const x=c.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(x.length>0){const p=[...new Set(x)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){var x;const p="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((_,j)=>_.concat(Object.keys(j)),[]);if(y.length>0){const _=[...new Set(y)].map(j=>`"${j}"`);this.url.searchParams.set("columns",_.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}update(c,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return xr.default=n,xr}var Tg;function Zv(){if(Tg)return gr;Tg=1;var l=gr&&gr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(gr,"__esModule",{value:!0});const a=l(_x()),n=l(kd());class i{constructor(d,{headers:h={},schema:m,fetch:g}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=g}from(d){const h=new URL(`${this.url}/${d}`);return new a.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:g=!1,count:x}={}){var p;let y;const _=new URL(`${this.url}/rpc/${d}`);let j;m||g?(y=m?"HEAD":"GET",Object.entries(h).filter(([C,v])=>v!==void 0).map(([C,v])=>[C,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([C,v])=>{_.searchParams.append(C,v)})):(y="POST",j=h);const S=new Headers(this.headers);return x&&S.set("Prefer",`count=${x}`),new n.default({method:y,url:_,headers:S,schema:this.schemaName,body:j,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return gr.default=i,gr}var Ag;function Wv(){if(Ag)return rt;Ag=1;var l=rt&&rt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(rt,"__esModule",{value:!0}),rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const a=l(Zv());rt.PostgrestClient=a.default;const n=l(_x());rt.PostgrestQueryBuilder=n.default;const i=l(kd());rt.PostgrestFilterBuilder=i.default;const c=l(Sx());rt.PostgrestTransformBuilder=c.default;const d=l(wx());rt.PostgrestBuilder=d.default;const h=l(Nx());return rt.PostgrestError=h.default,rt.default={PostgrestClient:a.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},rt}var ej=Wv();const tj=cy(ej),{PostgrestClient:sj,PostgrestQueryBuilder:Gw,PostgrestFilterBuilder:Vw,PostgrestTransformBuilder:Fw,PostgrestBuilder:Iw,PostgrestError:Kw}=tj;class aj{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let n=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(n+=`

Suggested solution: ${a.workaround}`),new Error(n)}static createWebSocket(a,n){const i=this.getWebSocketConstructor();return new i(a,n)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const rj="2.15.5",nj=`realtime-js/${rj}`,ij="1.0.0",md=1e4,lj=1e3,oj=100;var An;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(An||(An={}));var We;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(We||(We={}));var Kt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Kt||(Kt={}));var gd;(function(l){l.websocket="websocket"})(gd||(gd={}));var _a;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(_a||(_a={}));class cj{constructor(){this.HEADER_LENGTH=1}decode(a,n){return a.constructor===ArrayBuffer?n(this._binaryDecode(a)):n(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const n=new DataView(a),i=new TextDecoder;return this._decodeBroadcast(a,n,i)}_decodeBroadcast(a,n,i){const c=n.getUint8(1),d=n.getUint8(2);let h=this.HEADER_LENGTH+2;const m=i.decode(a.slice(h,h+c));h=h+c;const g=i.decode(a.slice(h,h+d));h=h+d;const x=JSON.parse(i.decode(a.slice(h,a.byteLength)));return{ref:null,topic:m,event:g,payload:x}}}class Ex{constructor(a,n){this.callback=a,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(qe||(qe={}));const Rg=(l,a,n={})=>{var i;const c=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(a).reduce((d,h)=>(d[h]=dj(h,l,a,c),d),{})},dj=(l,a,n,i)=>{const c=a.find(m=>m.name===l),d=c?.type,h=n[l];return d&&!i.includes(d)?Cx(d,h):xd(h)},Cx=(l,a)=>{if(l.charAt(0)==="_"){const n=l.slice(1,l.length);return mj(a,n)}switch(l){case qe.bool:return uj(a);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return hj(a);case qe.json:case qe.jsonb:return fj(a);case qe.timestamp:return gj(a);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return xd(a);default:return xd(a)}},xd=l=>l,uj=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},hj=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},fj=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},mj=(l,a)=>{if(typeof l!="string")return l;const n=l.length-1,i=l[n];if(l[0]==="{"&&i==="}"){let d;const h=l.slice(1,n);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>Cx(a,m))}return l},gj=l=>typeof l=="string"?l.replace(" ","T"):l,Ox=l=>{let a=l;return a=a.replace(/^ws/i,"http"),a=a.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),a.replace(/\/+$/,"")+"/api/broadcast"};class td{constructor(a,n,i={},c=md){this.channel=a,this.event=n,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,n){var i;return this._hasReceived(a)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:n}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(n))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var kg;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(kg||(kg={}));class Rn{constructor(a,n){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rn.syncState(this.state,c,d,h),this.pendingDiffs.forEach(g=>{this.state=Rn.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Rn.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,n,i,c){const d=this.cloneDeep(a),h=this.transformState(n),m={},g={};return this.map(d,(x,p)=>{h[x]||(g[x]=p)}),this.map(h,(x,p)=>{const y=d[x];if(y){const _=p.map(v=>v.presence_ref),j=y.map(v=>v.presence_ref),S=p.filter(v=>j.indexOf(v.presence_ref)<0),C=y.filter(v=>_.indexOf(v.presence_ref)<0);S.length>0&&(m[x]=S),C.length>0&&(g[x]=C)}else m[x]=p}),this.syncDiff(d,{joins:m,leaves:g},i,c)}static syncDiff(a,n,i,c){const{joins:d,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var x;const p=(x=a[m])!==null&&x!==void 0?x:[];if(a[m]=this.cloneDeep(g),p.length>0){const y=a[m].map(j=>j.presence_ref),_=p.filter(j=>y.indexOf(j.presence_ref)<0);a[m].unshift(..._)}i(m,p,g)}),this.map(h,(m,g)=>{let x=a[m];if(!x)return;const p=g.map(y=>y.presence_ref);x=x.filter(y=>p.indexOf(y.presence_ref)<0),a[m]=x,c(m,x,g),x.length===0&&delete a[m]}),a}static map(a,n){return Object.getOwnPropertyNames(a).map(i=>n(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((n,i)=>{const c=a[i];return"metas"in c?n[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[i]=c,n},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dg;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Dg||(Dg={}));var kn;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(kn||(kn={}));var vs;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(vs||(vs={}));class Dd{constructor(a,n={config:{}},i){this.topic=a,this.params=n,this.socket=i,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new td(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new Ex(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Rn(this),this.broadcastEndpointURL=Ox(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(a,n=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,x=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(j=>j.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[kn.PRESENCE]&&this.bindings[kn.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,y={},_={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:p}),postgres_changes:x,private:g};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(j=>a?.(vs.CHANNEL_ERROR,j)),this._onClose(()=>a?.(vs.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var S;if(this.socket.setAuth(),j===void 0){a?.(vs.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,v=(S=C?.length)!==null&&S!==void 0?S:0,T=[];for(let O=0;O<v;O++){const E=C[O],{filter:{event:L,schema:B,table:k,filter:A}}=E,Y=j&&j[O];if(Y&&Y.event===L&&Y.schema===B&&Y.table===k&&Y.filter===A)T.push(Object.assign(Object.assign({},E),{id:Y.id}));else{this.unsubscribe(),this.state=We.errored,a?.(vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,a&&a(vs.SUBSCRIBED);return}}).receive("error",j=>{this.state=We.errored,a?.(vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{a?.(vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,n={}){return await this.send({type:"presence",event:"track",payload:a},n.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,n,i){return this.state===We.joined&&a===kn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,n,i)}async send(a,n={}){var i,c;if(!this._canPush()&&a.type==="broadcast"){const{event:d,payload:h}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,g;const x=this._push(a.type,a,n.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=We.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new td(this,Kt.leave,{},a),i.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(a,n,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),h=await this.socket.fetch(a,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(d),h}_push(a,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new td(this,a,n,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>oj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(a,n,i){return n}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,n,i){var c,d;const h=a.toLocaleLowerCase(),{close:m,error:g,leave:x,join:p}=Kt;if(i&&[m,g,x,p].indexOf(h)>=0&&i!==this._joinRef())return;let _=this._onMessage(h,n,i);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var S,C,v;return((S=j.filter)===null||S===void 0?void 0:S.event)==="*"||((v=(C=j.filter)===null||C===void 0?void 0:C.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===h}).map(j=>j.callback(_,i)):(d=this.bindings[h])===null||d===void 0||d.filter(j=>{var S,C,v,T,O,E;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const L=j.id,B=(S=j.filter)===null||S===void 0?void 0:S.event;return L&&((C=n.ids)===null||C===void 0?void 0:C.includes(L))&&(B==="*"||B?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const L=(O=(T=j?.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return L==="*"||L===((E=n?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:C,table:v,commit_timestamp:T,type:O,errors:E}=S;_=Object.assign(Object.assign({},{schema:C,table:v,commit_timestamp:T,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(S))}j.callback(_,i)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,n,i){const c=a.toLocaleLowerCase(),d={type:c,filter:n,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,n){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&Dd.isEqual(c.filter,n))})),this}static isEqual(a,n){if(Object.keys(a).length!==Object.keys(n).length)return!1;for(const i in a)if(a[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Kt.close,{},a)}_onError(a){this._on(Kt.error,{},n=>a(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const n={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(n.new=Rg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(n.old=Rg(a.columns,a.old_record)),n}}const sd=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xj=[1e3,2e3,5e3,1e4],pj=1e4,yj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bj{constructor(a,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=md,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sd,this.ref=0,this.reconnectTimer=null,this.logger=sd,this.conn=null,this.sendBuffer=[],this.serializer=new cj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>Bn(async()=>{const{default:m}=await Promise.resolve().then(()=>Tr);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${a}/${gd.websocket}`,this.httpEndpoint=Ox(a),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aj.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const n=a.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ij}))}disconnect(a,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},a?this.conn.close(a,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const n=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const a=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,n,i){this.logger(a,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return _a.Connecting;case An.open:return _a.Open;case An.closing:return _a.Closing;default:return _a.Closed}}isConnected(){return this.connectionState()===_a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,n={config:{}}){const i=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new Dd(`realtime:${a}`,n,this);return this.channels.push(d),d}}push(a){const{topic:n,event:i,payload:c,ref:d}=a,h=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${n} ${i} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(lj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let n=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${a}"`),n.unsubscribe())}_remove(a){this.channels=this.channels.filter(n=>n.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:h}=n,m=h?`(${h})`:"",g=d.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),d),this.channels.filter(x=>x._isMember(i)).forEach(x=>x._trigger(c,d,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(a){var n;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var n;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Kt.error))}_appendParams(a,n){if(Object.keys(n).length===0)return a;const i=a.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${a}${i}${c}`}_workerObjectUrl(a){let n;if(a)n=a;else{const i=new Blob([yj],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(a,n=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(a=null){let n;a?n=a:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const c={access_token:n,version:nj};n&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(Kt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${a}`,n)})}_triggerStateCallbacks(a,n){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(n)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ex(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var n,i,c,d,h,m,g,x,p;if(this.transport=(n=a?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:md,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:ol.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:sd,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(y=>xj[y-1]||pj),this.encode=(x=a?.encode)!==null&&x!==void 0?x:((y,_)=>_(JSON.stringify(y))),this.decode=(p=a?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class Ld extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function et(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class vj extends Ld{constructor(a,n,i){super(a),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pd extends Ld{constructor(a,n){super(a),this.name="StorageUnknownError",this.originalError=n}}var jj=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};const Tx=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...n)=>Bn(async()=>{const{default:i}=await Promise.resolve().then(()=>Tr);return{default:i}},void 0).then(({default:i})=>i(...n)):a=fetch,(...n)=>a(...n)},Nj=()=>jj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bn(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),yd=l=>{if(Array.isArray(l))return l.map(n=>yd(n));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([n,i])=>{const c=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=yd(i)}),a},wj=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var Ea=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};const ad=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Sj=(l,a,n)=>Ea(void 0,void 0,void 0,function*(){const i=yield Nj();l instanceof i&&!n?.noResolveJson?l.json().then(c=>{const d=l.status||500,h=c?.statusCode||d+"";a(new vj(ad(c),d,h))}).catch(c=>{a(new pd(ad(c),c))}):a(new pd(ad(l),l))}),_j=(l,a,n,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"||!i?c:(wj(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),n))};function Hn(l,a,n,i,c,d){return Ea(this,void 0,void 0,function*(){return new Promise((h,m)=>{l(n,_j(a,i,c,d)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Sj(g,m,i))})})}function bl(l,a,n,i){return Ea(this,void 0,void 0,function*(){return Hn(l,"GET",a,n,i)})}function Wt(l,a,n,i,c){return Ea(this,void 0,void 0,function*(){return Hn(l,"POST",a,i,c,n)})}function bd(l,a,n,i,c){return Ea(this,void 0,void 0,function*(){return Hn(l,"PUT",a,i,c,n)})}function Ej(l,a,n,i){return Ea(this,void 0,void 0,function*(){return Hn(l,"HEAD",a,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Ax(l,a,n,i,c){return Ea(this,void 0,void 0,function*(){return Hn(l,"DELETE",a,i,c,n)})}var ft=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};const Cj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oj{constructor(a,n={},i,c){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.bucketId=i,this.fetch=Tx(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,n,i,c){return ft(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Lg),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const x=this._removeEmptyFolders(n),p=this._getFinalPath(x),y=yield(a=="PUT"?bd:Wt)(this.fetch,`${this.url}/object/${p}`,d,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:x,id:y.Id,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(et(d))return{data:null,error:d};throw d}})}upload(a,n,i){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,n,i)})}uploadToSignedUrl(a,n,i,c){return ft(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",n);try{let g;const x=Object.assign({upsert:Lg.upsert},c),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",x.cacheControl)):(g=i,p["cache-control"]=`max-age=${x.cacheControl}`,p["content-type"]=x.contentType);const y=yield bd(this.fetch,m.toString(),g,{headers:p});return{data:{path:d,fullPath:y.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(et(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,n){return ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(a);const c=Object.assign({},this.headers);n?.upsert&&(c["x-upsert"]="true");const d=yield Wt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new Ld("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}update(a,n,i){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,n,i)})}move(a,n,i){return ft(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}copy(a,n,i){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUrl(a,n,i){return ft(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=yield Wt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUrls(a,n,i){return ft(this,void 0,void 0,function*(){try{const c=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:a},{headers:this.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}download(a,n){return ft(this,void 0,void 0,function*(){const c=typeof n?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(n?.transform||{}),h=d?`?${d}`:"";try{const m=this._getFinalPath(a);return{data:yield(yield bl(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(et(m))return{data:null,error:m};throw m}})}info(a){return ft(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{const i=yield bl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}exists(a){return ft(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{return yield Ej(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i)&&i instanceof pd){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(a,n){const i=this._getFinalPath(a),c=[],d=n?.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&c.push(d);const m=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&c.push(g);let x=c.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${x}`)}}}remove(a){return ft(this,void 0,void 0,function*(){try{return{data:yield Ax(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}list(a,n,i){return ft(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Cj),n),{prefix:a||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}listV2(a,n){return ft(this,void 0,void 0,function*(){try{const i=Object.assign({},a);return{data:yield Wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}}const Tj="2.12.1",Aj={"X-Client-Info":`storage-js/${Tj}`};var vr=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};class Rj{constructor(a,n={},i,c){this.shouldThrowOnError=!1;const d=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Aj),n),this.fetch=Tx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vr(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}getBucket(a){return vr(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}createBucket(a,n={public:!1}){return vr(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}updateBucket(a,n){return vr(this,void 0,void 0,function*(){try{return{data:yield bd(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}emptyBucket(a){return vr(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(a){return vr(this,void 0,void 0,function*(){try{return{data:yield Ax(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}class kj extends Rj{constructor(a,n={},i,c){super(a,n,i,c)}from(a){return new Oj(this.url,this.headers,a,this.fetch)}}const Dj="2.57.4";let On="";typeof Deno<"u"?On="deno":typeof document<"u"?On="web":typeof navigator<"u"&&navigator.product==="ReactNative"?On="react-native":On="node";const Lj={"X-Client-Info":`supabase-js-${On}/${Dj}`},Uj={headers:Lj},zj={schema:"public"},Mj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qj={};var $j=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};const Bj=l=>{let a;return l?a=l:typeof fetch>"u"?a=vx:a=fetch,(...n)=>a(...n)},Hj=()=>typeof Headers>"u"?jx:Headers,Pj=(l,a,n)=>{const i=Bj(n),c=Hj();return(d,h)=>$j(void 0,void 0,void 0,function*(){var m;const g=(m=yield a())!==null&&m!==void 0?m:l;let x=new c(h?.headers);return x.has("apikey")||x.set("apikey",l),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),i(d,Object.assign(Object.assign({},h),{headers:x}))})};var Gj=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};function Vj(l){return l.endsWith("/")?l:l+"/"}function Fj(l,a){var n,i;const{db:c,auth:d,realtime:h,global:m}=l,{db:g,auth:x,realtime:p,global:y}=a,_={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},x),d),realtime:Object.assign(Object.assign({},p),h),storage:{},global:Object.assign(Object.assign(Object.assign({},y),m),{headers:Object.assign(Object.assign({},(n=y?.headers)!==null&&n!==void 0?n:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Gj(this,void 0,void 0,function*(){return""})};return l.accessToken?_.accessToken=l.accessToken:delete _.accessToken,_}function Ij(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vj(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rx="2.71.1",_r=30*1e3,vd=3,rd=vd*_r,Kj="http://localhost:9999",Yj="supabase.auth.token",Jj={"X-Client-Info":`gotrue-js/${Rx}`},jd="X-Supabase-Api-Version",kx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xj=600*1e3;class Ud extends Error{constructor(a,n,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function pe(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Zj extends Ud{constructor(a,n,i){super(a,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Wj(l){return pe(l)&&l.name==="AuthApiError"}class Dx extends Ud{constructor(a,n){super(a),this.name="AuthUnknownError",this.originalError=n}}class ta extends Ud{constructor(a,n,i,c){super(a,i,c),this.name=n,this.status=i}}class Xs extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eN(l){return pe(l)&&l.name==="AuthSessionMissingError"}class cl extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dl extends ta{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ul extends ta{constructor(a,n=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tN(l){return pe(l)&&l.name==="AuthImplicitGrantRedirectError"}class Ug extends ta{constructor(a,n=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nd extends ta{constructor(a,n){super(a,"AuthRetryableFetchError",n,void 0)}}function nd(l){return pe(l)&&l.name==="AuthRetryableFetchError"}class zg extends ta{constructor(a,n,i){super(a,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class wd extends ta{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mg=` 	
\r=`.split(""),sN=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Mg.length;a+=1)l[Mg[a].charCodeAt(0)]=-2;for(let a=0;a<vl.length;a+=1)l[vl[a].charCodeAt(0)]=a;return l})();function qg(l,a,n){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;n(vl[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;n(vl[i]),a.queuedBits-=6}}function Lx(l,a,n){const i=sN[l];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)n(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function $g(l){const a=[],n=h=>{a.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{nN(h,i,n)};for(let h=0;h<l.length;h+=1)Lx(l.charCodeAt(h),c,d);return a.join("")}function aN(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function rN(l,a){for(let n=0;n<l.length;n+=1){let i=l.charCodeAt(n);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}aN(i,a)}}function nN(l,a,n){if(a.utf8seq===0){if(l<=127){n(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&n(a.codepoint)}}function iN(l){const a=[],n={queue:0,queuedBits:0},i=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)Lx(l.charCodeAt(c),n,i);return new Uint8Array(a)}function lN(l){const a=[];return rN(l,n=>a.push(n)),new Uint8Array(a)}function oN(l){const a=[],n={queue:0,queuedBits:0},i=c=>{a.push(c)};return l.forEach(c=>qg(c,n,i)),qg(null,n,i),a.join("")}function cN(l){return Math.round(Date.now()/1e3)+l}function dN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const a=Math.random()*16|0;return(l=="x"?a:a&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},Ux=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function uN(l){const a={},n=new URL(l);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return n.searchParams.forEach((i,c)=>{a[c]=i}),a}const zx=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...n)=>Bn(async()=>{const{default:i}=await Promise.resolve().then(()=>Tr);return{default:i}},void 0).then(({default:i})=>i(...n)):a=fetch,(...n)=>a(...n)},hN=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Er=async(l,a,n)=>{await l.setItem(a,JSON.stringify(n))},wa=async(l,a)=>{const n=await l.getItem(a);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qs=async(l,a)=>{await l.removeItem(a)};class _l{constructor(){this.promise=new _l.promiseConstructor((a,n)=>{this.resolve=a,this.reject=n})}}_l.promiseConstructor=Promise;function id(l){const a=l.split(".");if(a.length!==3)throw new wd("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!Qj.test(a[i]))throw new wd("JWT not in base64url format");return{header:JSON.parse($g(a[0])),payload:JSON.parse($g(a[1])),signature:iN(a[2]),raw:{header:a[0],payload:a[1]}}}async function fN(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function mN(l,a){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await l(d);if(!a(d,null,h)){i(h);return}}catch(h){if(!a(d,h)){c(h);return}}})()})}function gN(l){return("0"+l.toString(16)).substr(-2)}function xN(){const a=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let c="";for(let d=0;d<56;d++)c+=n.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(a),Array.from(a,gN).join("")}async function pN(l){const n=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function yN(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const n=await pN(l);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(l,a,n=!1){const i=xN();let c=i;n&&(c+="/PASSWORD_RECOVERY"),await Er(l,`${a}-code-verifier`,c);const d=await yN(i);return[d,i===d?"plain":"s256"]}const bN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vN(l){const a=l.headers.get(jd);if(!a||!a.match(bN))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function jN(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function NN(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(l){if(!wN.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ld(){const l={};return new Proxy(l,{get:(a,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bg(l){return JSON.parse(JSON.stringify(l))}var SN=function(l,a){var n={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&a.indexOf(i)<0&&(n[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(n[i[c]]=l[i[c]]);return n};const Sa=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),_N=[502,503,504];async function Hg(l){var a;if(!hN(l))throw new Nd(Sa(l),0);if(_N.includes(l.status))throw new Nd(Sa(l),l.status);let n;try{n=await l.json()}catch(d){throw new Dx(Sa(d),d)}let i;const c=vN(l);if(c&&c.getTime()>=kx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new zg(Sa(n),l.status,((a=n.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new Xs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new zg(Sa(n),l.status,n.weak_password.reasons);throw new Zj(Sa(n),l.status||500,i)}const EN=(l,a,n,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),n))};async function je(l,a,n,i){var c;const d=Object.assign({},i?.headers);d[jd]||(d[jd]=kx["2024-01-01"].name),i?.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const h=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(h.redirect_to=i.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await CN(l,a,n+m,{headers:d,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function CN(l,a,n,i,c,d){const h=EN(a,i,c,d);let m;try{m=await l(n,Object.assign({},h))}catch(g){throw console.error(g),new Nd(Sa(g),0)}if(m.ok||await Hg(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await Hg(g)}}function bs(l){var a;let n=null;RN(l)&&(n=Object.assign({},l),l.expires_at||(n.expires_at=cN(l.expires_in)));const i=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:n,user:i},error:null}}function Pg(l){const a=bs(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Zs(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function ON(l){return{data:l,error:null}}function TN(l){const{action_link:a,email_otp:n,hashed_token:i,redirect_to:c,verification_type:d}=l,h=SN(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:n,hashed_token:i,redirect_to:c,verification_type:d},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function AN(l){return l}function RN(l){return l.access_token&&l.refresh_token&&l.expires_in}const od=["global","local","others"];var kN=function(l,a){var n={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&a.indexOf(i)<0&&(n[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(n[i[c]]=l[i[c]]);return n};class DN{constructor({url:a="",headers:n={},fetch:i}){this.url=a,this.headers=n,this.fetch=zx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(a,n=od[0]){if(od.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${od.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:n}=a,i=kN(a,["options"]),c=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:TN,redirectTo:n?.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(a){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Zs})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(a){var n,i,c,d,h,m,g;try{const x={nextPage:null,lastPage:0,total:0},p=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:AN});if(p.error)throw p.error;const y=await p.json(),_=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(g=(m=p.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(S=>{const C=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(S.split(";")[1].split("=")[1]);x[`${v}Page`]=C}),x.total=parseInt(_)),{data:Object.assign(Object.assign({},y),x),error:null}}catch(x){if(pe(x))return{data:{users:[]},error:x};throw x}}async getUserById(a){Nr(a);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Zs})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(a,n){Nr(a);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:n,headers:this.headers,xform:Zs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,n=!1){Nr(a);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){Nr(a.userId);try{const{data:n,error:i}=await je(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:i}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(a){Nr(a.userId),Nr(a.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function Gg(l={}){return{getItem:a=>l[a]||null,setItem:(a,n)=>{l[a]=n},removeItem:a=>{delete l[a]}}}function LN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wr={debug:!!(globalThis&&Ux()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mx extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class UN extends Mx{}async function zN(l,a,n){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await n()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new UN(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(wr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}LN();const MN={url:Kj,storageKey:Yj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vg(l,a,n){return await n()}const Sr={};class zn{constructor(a){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zn.nextInstanceID,zn.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},MN),a);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new DN({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=zx(c.fetch),this.lock=c.lock||Vg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:It()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=zN:this.lock=Vg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Ux()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Gg(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var a,n;return(n=(a=Sr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(a){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,n;return(n=(a=Sr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:a})}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rx}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const n=uN(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),It()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(n,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),tN(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new Dx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var n,i,c;try{const d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=a?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:bs}),{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(d){if(pe(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(a){var n,i,c;try{let d;if("email"in a){const{email:p,password:y,options:_}=a;let j=null,S=null;this.flowType==="pkce"&&([j,S]=await jr(this.storage,this.storageKey)),d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:p,password:y,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:j,code_challenge_method:S},xform:bs})}else if("phone"in a){const{phone:p,password:y,options:_}=a;d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(c=_?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:bs})}else throw new dl("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(d){if(pe(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(a){try{let n;if("email"in a){const{email:d,password:h,options:m}=a;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Pg})}else if("phone"in a){const{phone:d,password:h,options:m}=a;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Pg})}else throw new dl("You must provide either an email or phone number and a password");const{data:i,error:c}=n;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new cl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(a){var n,i,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(n=a.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:n}=a;if(n==="solana")return await this.signInWithSolana(a);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(a){var n,i,c,d,h,m,g,x,p,y,_,j;let S,C;if("message"in a)S=a.message,C=a.signature;else{const{chain:v,wallet:T,statement:O,options:E}=a;let L;if(It())if(typeof T=="object")L=T;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))L=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=T}const B=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const k=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),O?{statement:O}:null));let A;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")A=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)A=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)S=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),C=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${B.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(c=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=E?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((g=E?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((x=E?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const k=await L.signMessage(new TextEncoder().encode(S),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=k}}try{const{data:v,error:T}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:oN(C)},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:bs});if(T)throw T;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new cl}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:T})}catch(v){if(pe(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(a){const n=await wa(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(n??"").split("/");try{const{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:bs});if(await Qs(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new cl}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(pe(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(a){try{const{options:n,provider:i,token:c,access_token:d,nonce:h}=a,m=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:bs}),{data:g,error:x}=m;return x?{data:{user:null,session:null},error:x}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new cl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:x})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(a){var n,i,c,d,h;try{if("email"in a){const{email:m,options:g}=a;let x=null,p=null;this.flowType==="pkce"&&([x,p]=await jr(this.storage,this.storageKey));const{error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:p},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in a){const{phone:m,options:g}=a,{data:x,error:p}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:x?.message_id},error:p}}throw new dl("You must provide either an email or phone number.")}catch(m){if(pe(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(a){var n,i;try{let c,d;"options"in a&&(c=(n=a.options)===null||n===void 0?void 0:n.redirectTo,d=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:bs});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,x=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(c){if(pe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(a){var n,i,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await jr(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(n=a.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:ON})}catch(d){if(pe(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)throw i;if(!n)throw new Xs;const{error:c}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:c}})}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const n=`${this.url}/resend`;if("email"in a){const{email:i,type:c,options:d}=a,{error:h}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in a){const{phone:i,type:c,options:d}=a,{data:h,error:m}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new dl("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(a,n){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await a(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const n=await wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?a=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const h=await wa(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=ld()}if(this.storage.isServer&&a.user){let h=this.suppressGetSessionWarning;a=new Proxy(a,{get:(g,x,p)=>(!h&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,x,p))})}return{data:{session:a},error:null}}const{session:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Zs}):await this._useSession(async n=>{var i,c,d;const{data:h,error:m}=n;if(m)throw m;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xs}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Zs})})}catch(n){if(pe(n))return eN(n)&&(await this._removeSession(),await Qs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(a,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,n))}async _updateUser(a,n={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Xs;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await jr(this.storage,this.storageKey));const{data:x,error:p}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:Zs});if(p)throw p;return h.user=x.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Xs;const n=Date.now()/1e3;let i=n,c=!0,d=null;const{payload:h}=id(a.access_token);if(h.exp&&(i=h.exp,c=i<=n),c){const{session:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async n=>{var i;if(!a){const{data:h,error:m}=n;if(m)throw m;a=(i=h.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new Xs;const{session:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(a,n){try{if(!It())throw new ul("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ul(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ug("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Ug("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(a.code);if(E)throw E;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:g,token_type:x}=a;if(!d||!m||!h||!x)throw new ul("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(m);let _=p+y;g&&(_=parseInt(g));const j=_-p;j*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${y}s`);const S=_-y;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,p);const{data:C,error:v}=await this._getUser(d);if(v)throw v;const T={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:y,expires_at:_,refresh_token:h,token_type:x,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:a.type},error:null}}catch(i){if(pe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const n=await wa(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&n)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:c,error:d}=n;if(d)return{error:d};const h=(i=c.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(Wj(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return a!=="others"&&(await this._removeSession(),await Qs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const n=dN(),i={id:n,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async n=>{var i,c;try{const{data:{session:d},error:h}=n;if(h)throw h;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,n={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await jr(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(pe(d))return{data:null,error:d};throw d}}async getUserIdentities(){var a;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(a=n.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(a){var n;try{const{data:i,error:c}=await this._useSession(async d=>{var h,m,g,x,p;const{data:y,error:_}=d;if(_)throw _;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",j,{headers:this.headers,jwt:(p=(x=y.session)===null||x===void 0?void 0:x.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return It()&&!(!((n=a.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:a.provider,url:i?.url},error:null}}catch(i){if(pe(i))return{data:{provider:a.provider,url:null},error:i};throw i}}async unlinkIdentity(a){try{return await this._useSession(async n=>{var i,c;const{data:d,error:h}=n;if(h)throw h;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(a){const n=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await mN(async c=>(c>0&&await fN(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:bs})),(c,d)=>{const h=200*Math.pow(2,c);return d&&nd(d)&&Date.now()+h-i<_r})}catch(i){if(this._debug(n,"error",i),pe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",n,"url",i),It()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await wa(this.storage,this.storageKey);if(c&&this.userStorage){let h=await wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Er(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:ld()}else if(c&&!c.user&&!c.user){const h=await wa(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await Qs(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,c)):c.user=ld()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rd;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${rd}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),nd(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var n,i;if(!a)throw new Xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new _l;const{data:d,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!d.session)throw new Xs;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={session:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),pe(d)){const h={session:null,error:d};return nd(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,n,i=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:n});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,n)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const n=Object.assign({},a),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Er(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const d=Bg(c);await Er(this.storage,this.storageKey,d)}else{const c=Bg(n);await Er(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Qs(this.storage,this.storageKey),await Qs(this.storage,this.storageKey+"-code-verifier"),await Qs(this.storage,this.storageKey+"-user"),this.userStorage&&await Qs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&It()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-a)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${_r}ms, refresh threshold is ${vd} ticks`),c<=vd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Mx)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const n=`#_onVisibilityChanged(${a})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,n,i){const c=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,h]=await jr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(i?.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;return d?{data:null,error:d}:await je(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(a){try{return await this._useSession(async n=>{var i,c;const{data:d,error:h}=n;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:{issuer:a.issuer}),{data:g,error:x}=await je(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d?.session)===null||i===void 0?void 0:i.access_token});return x?{data:null,error:x}:(a.factorType==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;if(d)return{data:null,error:d};const{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:{code:a.code,challenge_id:a.challengeId},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;return d?{data:null,error:d}:await je(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:{channel:a.channel},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(a){const{data:n,error:i}=await this._challenge({factorId:a.factorId});return i?{data:null,error:i}:await this._verify({factorId:a.factorId,challengeId:n.id,code:a.code})}async _listFactors(){const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=a?.factors||[],c=i.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=i.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:i,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var n,i;const{data:{session:c},error:d}=a;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=id(c.access_token);let m=null;h.aal&&(m=h.aal);let g=m;((i=(n=c.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const p=h.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(a,n={keys:[]}){let i=n.keys.find(m=>m.kid===a);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+Xj>c)return i;const{data:d,error:h}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,n={}){try{let i=a;if(!i){const{data:j,error:S}=await this.getSession();if(S||!j.session)return{data:null,error:S};i=j.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:g}}=id(i);n?.allowExpired||jN(d.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!x){const{error:j}=await this.getUser(i);if(j)throw j;return{data:{claims:d,header:c,signature:h},error:null}}const p=NN(c.alg),y=await crypto.subtle.importKey("jwk",x,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,h,lN(`${m}.${g}`)))throw new wd("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}}zn.nextInstanceID=0;const qN=zn;class $N extends qN{constructor(a){super(a)}}var BN=function(l,a,n,i){function c(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function m(p){try{x(i.next(p))}catch(y){h(y)}}function g(p){try{x(i.throw(p))}catch(y){h(y)}}function x(p){p.done?d(p.value):c(p.value).then(m,g)}x((i=i.apply(l,a||[])).next())})};class HN{constructor(a,n,i){var c,d,h;this.supabaseUrl=a,this.supabaseKey=n;const m=Ij(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,x={db:zj,realtime:qj,auth:Object.assign(Object.assign({},Mj),{storageKey:g}),global:Uj},p=Fj(i??{},x);this.storageKey=(c=p.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=p.global.headers)!==null&&d!==void 0?d:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=p.auth)!==null&&h!==void 0?h:{},this.headers,p.global.fetch),this.fetch=Pj(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new sj(new URL("rest/v1",m).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new kj(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Iv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a,n;return BN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:d,storageKey:h,flowType:m,lock:g,debug:x},p,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $N({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:h,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:d,flowType:m,lock:g,debug:x,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new bj(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PN=(l,a,n)=>new HN(l,a,n);function GN(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}GN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VN="https://aypxbyzmaolnnlzjclev.supabase.co",FN="sb_publishable_osKLmTl4_-mmcabr-wvCxQ_lNgmpD7S",Z=PN(VN,FN);function Re(){const l=Pe(),a=Ss(),[n,i]=N.useState(!1),[c,d]=N.useState(null),[h,m]=N.useState(!1),[g,x]=N.useState(0),[p,y]=N.useState(""),[_,j]=N.useState(!1),S=()=>{j(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async E=>{const{latitude:L,longitude:B}=E.coords;try{const A=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${L}&lon=${B}&accept-language=fr`)).json(),Y=A.address?.city||A.address?.town||A.address?.village||"Localisation inconnue";y(Y),localStorage.setItem("userLocation",Y),localStorage.setItem("userCoordinates",JSON.stringify({latitude:L,longitude:B}))}catch(k){console.error("Erreur lors de la rcupration de l'adresse:",k),y("Localisation inconnue")}finally{j(!1)}},E=>{console.error("Erreur de golocalisation:",E),y("Localisation dsactive"),j(!1)}):(y("Golocalisation non supporte"),j(!1))},C=()=>{try{const E=localStorage.getItem("cart");if(E){const L=JSON.parse(E);if(typeof L=="object"&&L!==null){const B=Object.values(L).reduce((k,A)=>k+(typeof A=="number"?A:0),0);x(B)}else x(0)}else x(0)}catch(E){console.error("Erreur lors de la mise  jour du compteur du panier:",E),x(0)}},v=async()=>{if(!c){l("/auth");return}try{const{data:E}=await Z.from("restaurants").select("*").eq("owner_id",c.id).eq("status","approved").single();if(E){l("/restaurant-dashboard"),m(!1);return}const{data:L}=await Z.from("admins").select("*").eq("email",c.email).single();if(L){l("/admin"),m(!1);return}l("/profile"),m(!1)}catch(E){console.error("     :",E),l("/profile"),m(!1)}};N.useEffect(()=>{(async()=>{const{data:{session:Y}}=await Z.auth.getSession();d(Y?.user||null)})();const{data:{subscription:L}}=Z.auth.onAuthStateChange((Y,te)=>{d(te?.user||null)});C();const B=()=>{C()};window.addEventListener("cartUpdated",B),window.addEventListener("storage",B);const k=setInterval(C,1e3),A=localStorage.getItem("userLocation");return A&&y(A),()=>{L.unsubscribe(),window.removeEventListener("cartUpdated",B),window.removeEventListener("storage",B),clearInterval(k)}},[]);const T=async()=>{await Z.auth.signOut(),m(!1),l("/")},O=E=>a.pathname===E;return t.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center",children:t.jsxs("button",{onClick:()=>l("/"),className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-white text-lg"})}),t.jsx("span",{className:"text-xl font-bold text-gray-800",style:{fontFamily:'"Pacifico", serif'},children:"logo"})]})}),t.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[t.jsx("button",{onClick:()=>l("/"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/")?"text-orange-500":""}`,children:"Accueil"}),t.jsx("button",{onClick:()=>l("/restaurants"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/restaurants")?"text-orange-500":""}`,children:"Restaurants"}),t.jsx("button",{onClick:()=>l("/offers"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/offers")?"text-orange-500":""}`,children:"Offres"}),t.jsx("button",{onClick:()=>l("/track-order"),className:`text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/track-order")?"text-orange-500":""}`,children:"Suivre commande"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:S,disabled:_,className:"hidden md:flex items-center gap-2 px-3 py-2 text-gray-700 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors cursor-pointer whitespace-nowrap",title:"Obtenir ma localisation",children:[t.jsx("i",{className:`ri-map-pin-line text-lg ${_?"animate-pulse":""}`}),t.jsx("span",{className:"text-sm font-medium max-w-[120px] truncate",children:_?"Chargement...":p||"Ma localisation"})]}),t.jsxs("button",{onClick:()=>l("/cart"),className:"relative p-2 text-gray-700 hover:text-orange-500 cursor-pointer",children:[t.jsx("i",{className:"ri-shopping-cart-line text-xl"}),g>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:g>99?"99+":g})]}),c?t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>m(!h),className:"flex items-center gap-2 p-2 text-gray-700 hover:text-orange-500 cursor-pointer",children:[t.jsx("i",{className:"ri-user-line text-xl"}),t.jsx("span",{className:"hidden md:block font-medium",children:"Mon compte"}),t.jsx("i",{className:"ri-arrow-down-s-line text-sm"})]}),h&&t.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("button",{onClick:v,className:"w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-user-line text-lg"}),"Profil"]}),t.jsxs("button",{onClick:()=>{l("/orders"),m(!1)},className:"w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-file-list-line text-lg"}),"Mes commandes"]}),t.jsxs("button",{onClick:()=>{l("/favorites"),m(!1)},className:"w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-heart-line text-lg"}),"Favoris"]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{onClick:T,className:"w-full text-right px-4 py-2 text-red-600 hover:bg-red-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-logout-box-line text-lg"}),"Dconnexion"]})]})]}):t.jsx("button",{onClick:()=>l("/auth"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Se connecter"}),t.jsx("button",{onClick:()=>i(!n),className:"md:hidden p-2 text-gray-700 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:`ri-${n?"close":"menu"}-line text-xl`})})]})]}),n&&t.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:t.jsxs("div",{className:"flex flex-col space-y-4",children:[t.jsxs("button",{onClick:()=>{S(),i(!1)},disabled:_,className:"flex items-center gap-3 text-gray-700 hover:text-orange-500 font-medium cursor-pointer",children:[t.jsx("i",{className:`ri-map-pin-line text-lg ${_?"animate-pulse":""}`}),t.jsx("span",{className:"truncate",children:_?"Chargement...":p||"Ma localisation"})]}),t.jsx("button",{onClick:()=>{l("/"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/")?"text-orange-500":""}`,children:"Accueil"}),t.jsx("button",{onClick:()=>{l("/restaurants"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/restaurants")?"text-orange-500":""}`,children:"Restaurants"}),t.jsx("button",{onClick:()=>{l("/offers"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/offers")?"text-orange-500":""}`,children:"Offres"}),t.jsx("button",{onClick:()=>{l("/track-order"),i(!1)},className:`text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer ${O("/track-order")?"text-orange-500":""}`,children:"Suivre commande"}),c&&t.jsxs(t.Fragment,{children:[t.jsx("hr",{className:"border-gray-200"}),t.jsxs("button",{onClick:()=>{v(),i(!1)},className:"text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-user-line text-lg"}),"Profil"]}),t.jsxs("button",{onClick:()=>{l("/orders"),i(!1)},className:"text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-file-list-line text-lg"}),"Mes commandes"]}),t.jsxs("button",{onClick:()=>{l("/favorites"),i(!1)},className:"text-right text-gray-700 hover:text-orange-500 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-heart-line text-lg"}),"Favoris"]}),t.jsxs("button",{onClick:()=>{T(),i(!1)},className:"text-right text-red-600 hover:text-red-700 font-medium cursor-pointer flex items-center gap-3",children:[t.jsx("i",{className:"ri-logout-box-line text-lg"}),"Dconnexion"]})]})]})})]})})}function ke(){return t.jsx("footer",{className:"bg-gray-900 text-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"col-span-1 md:col-span-2",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",style:{fontFamily:'"Pacifico", serif'},children:"Eat to Eat"}),t.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"La plateforme de livraison de nourriture leader qui vous connecte aux meilleurs restaurants de votre rgion. Nous offrons un service de livraison rapide et fiable pour des repas dlicieux."}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-facebook-fill text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-twitter-fill text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-instagram-fill text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-linkedin-fill text-xl"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Liens rapides"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:" propos"})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Comment a marche"})}),t.jsx("li",{children:t.jsx("a",{href:"/restaurant-signup",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Rejoindre comme restaurant"})}),t.jsx("li",{children:t.jsx("a",{href:"/driver-signup",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Rejoindre comme livreur"})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 cursor-pointer",children:"Aide et support"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contactez-nous"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-phone-line text-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"+33 1 23 45 67 89"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-mail-line text-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"info@eat-to-eat.fr"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"Paris, France"})]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[t.jsx("p",{className:"text-gray-300 text-sm",children:" 2024 Eat to Eat. Tous droits rservs."}),t.jsxs("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:[t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 text-sm cursor-pointer",children:"Politique de confidentialit"}),t.jsx("a",{href:"#",className:"text-gray-300 hover:text-orange-500 text-sm cursor-pointer",children:"Conditions d'utilisation"}),t.jsx("a",{href:"https://readdy.ai/?origin=logo",className:"text-gray-300 hover:text-orange-500 text-sm cursor-pointer",children:"Powered by Readdy"})]})]})]})})}function IN(){const l=Pe();return t.jsx("div",{className:"relative min-h-screen bg-cover bg-center bg-no-repeat flex items-center",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://readdy.ai/api/search-image?query=Modern%20food%20delivery%20service%20with%20fresh%20ingredients%2C%20professional%20kitchen%20background%2C%20warm%20lighting%2C%20appetizing%20dishes%2C%20clean%20and%20inviting%20restaurant%20atmosphere%2C%20high%20quality%20food%20photography&width=1920&height=1080&seq=hero-bg-001&orientation=landscape')"},children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:"Livraison rapide et dlicieuse"}),t.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Dcouvrez les meilleurs restaurants de votre ville et faites-vous livrer vos plats prfrs en quelques minutes"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[t.jsx("button",{onClick:()=>l("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-full text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:"Commander maintenant"}),t.jsx("button",{onClick:()=>l("/restaurant-signup"),className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-gray-900 px-8 py-4 rounded-full text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:"Rejoindre comme restaurant"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-xl text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold text-lg",children:"Livraison rapide"}),t.jsx("div",{className:"text-gray-200",children:"En 30 minutes"})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-xl text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold text-lg",children:"Restaurants de qualit"}),t.jsx("div",{className:"text-gray-200",children:"Slectionns avec soin"})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-shield-check-line text-xl text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold text-lg",children:"Paiement scuris"}),t.jsx("div",{className:"text-gray-200",children:"100% protg"})]})]})]})]})})})}function KN({userLocation:l,isLoading:a,onLocationChange:n}){const[i,c]=N.useState(""),[d,h]=N.useState(!1),[m,g]=N.useState(!1),x=()=>{if(navigator.geolocation){const j={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(S=>{const{latitude:C,longitude:v,accuracy:T}=S.coords;console.log(`Localisation dtermine: ${C}, ${v} - prcision: ${T} mtres`),n({lat:S.coords.latitude,lng:S.coords.longitude})},S=>{console.error("Error getting location:",S);let C="Impossible d'obtenir votre localisation actuelle";switch(S.code){case S.PERMISSION_DENIED:C="Permission d'accs  la localisation refuse. Veuillez autoriser l'accs  la localisation dans les paramtres du navigateur";break;case S.POSITION_UNAVAILABLE:C="Localisation actuellement indisponible. Assurez-vous que le GPS est activ";break;case S.TIMEOUT:C="Dlai de localisation expir. Veuillez ressayer";break}alert(C)},j)}else alert("Votre navigateur ne prend pas en charge la golocalisation")},p=async j=>{try{g(!0);const C=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j)}&countrycodes=fr&limit=5&addressdetails=1&accept-language=fr,en&extratags=1&namedetails=1`)).json();if(C&&C.length>0){const L=C[0];return{lat:parseFloat(L.lat),lng:parseFloat(L.lon)}}const T=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j+", France")}&limit=3&addressdetails=1`)).json();if(T&&T.length>0){const L=T[0];return{lat:parseFloat(L.lat),lng:parseFloat(L.lon)}}const E=await(await fetch(`https://api.bigdatacloud.net/data/forward-geocode-client?query=${encodeURIComponent(j+", France")}&localityLanguage=fr`)).json();if(E&&E.results&&E.results.length>0){const L=E.results[0];return{lat:L.latitude,lng:L.longitude}}throw new Error("Localisation non trouve")}catch(S){throw console.error("Geocoding error:",S),S}finally{g(!1)}},y=async()=>{if(i.trim())try{const j=await p(i.trim());n(j),h(!1),c("")}catch{alert("Localisation saisie non trouve. Veuillez vrifier l'exactitude de l'adresse ou essayer une adresse plus dtaille.")}},_=j=>{j.key==="Enter"&&y()};return t.jsx("div",{className:"flex-1 max-w-md",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg bg-white",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500 text-xl"}),t.jsx("div",{className:"flex-1",children:a?t.jsx("span",{className:"text-gray-500",children:"Localisation en cours avec haute prcision..."}):l?t.jsx("span",{className:"text-gray-700",children:"Votre localisation actuelle dtermine avec prcision"}):t.jsx("span",{className:"text-gray-500",children:"Localisation non dtermine"})}),t.jsx("button",{onClick:x,className:"text-orange-500 hover:text-orange-600 cursor-pointer",disabled:a,title:"Localiser avec haute prcision",children:t.jsx("i",{className:`ri-crosshair-line text-xl ${a?"animate-pulse":""}`})})]}),d?t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("input",{type:"text",value:i,onChange:j=>c(j.target.value),onKeyPress:_,placeholder:"Ex: Paris, Lyon, Marseille, Toulouse, Nice...",className:"flex-1 p-2 border border-gray-300 rounded text-sm",disabled:m}),t.jsx("button",{onClick:y,disabled:m||!i.trim(),className:"bg-orange-500 text-white px-4 py-2 rounded text-sm hover:bg-orange-600 whitespace-nowrap cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsx("i",{className:"ri-loader-4-line animate-spin"}):"Confirmer"}),t.jsx("button",{onClick:()=>{h(!1),c("")},className:"text-gray-500 hover:text-gray-700 px-2 cursor-pointer",children:t.jsx("i",{className:"ri-close-line"})})]}):t.jsx("button",{onClick:()=>h(!0),className:"mt-2 text-sm text-orange-500 hover:text-orange-600 cursor-pointer",children:"Ou saisir votre localisation manuellement"})]})})}function YN({userLocation:l}){const[a,n]=N.useState([]),[i,c]=N.useState([]),[d,h]=N.useState(!0),[m,g]=N.useState(""),[x,p]=N.useState([]);Pe(),N.useEffect(()=>{S(),y()},[l]),N.useEffect(()=>{if(m.trim()==="")c(a.slice(0,8));else{const v=a.filter(T=>T.name.toLowerCase().includes(m.toLowerCase())||T.description.toLowerCase().includes(m.toLowerCase())||T.restaurant.name.toLowerCase().includes(m.toLowerCase()));c(v)}},[m,a]);const y=()=>{try{const v=localStorage.getItem("favorites");v&&p(JSON.parse(v))}catch(v){console.error("Error loading favorites:",v)}},_=v=>x.some(T=>T.id===v&&T.type==="product"),j=(v,T)=>{T.stopPropagation();const O={id:v.id,type:"product",name:v.name,description:v.description,image:v.image_url,rating:v.restaurant.rating,price:v.price,addedAt:new Date().toISOString()};let E;_(v.id)?E=x.filter(L=>!(L.id===v.id&&L.type==="product")):E=[...x,O],p(E),localStorage.setItem("favorites",JSON.stringify(E))},S=async()=>{try{h(!0);const{data:v,error:T}=await Z.from("products").select("*").eq("is_available",!0);if(T)throw T;const{data:O,error:E}=await Z.from("restaurants").select("*");if(E)throw E;const B=(v||[]).map(k=>{const A=O?.find(te=>te.id===k.restaurant_id);if(!A)return null;const Y=l?C(l.lat,l.lng,A.latitude,A.longitude):0;return{...k,restaurant:A,distance:Y}}).filter(Boolean).sort((k,A)=>l?k.distance-A.distance:A.restaurant.rating-k.restaurant.rating);n(B),c(B.slice(0,8))}catch(v){console.error("Error fetching products:",v)}finally{h(!1)}},C=(v,T,O,E)=>{const B=(O-v)*Math.PI/180,k=(E-T)*Math.PI/180,A=Math.sin(B/2)*Math.sin(B/2)+Math.cos(v*Math.PI/180)*Math.cos(O*Math.PI/180)*Math.sin(k/2)*Math.sin(k/2);return 6371*(2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A)))};return d?t.jsx("section",{className:"py-12 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Produits prs de chez vous"}),t.jsx("p",{className:"text-gray-600",children:"Dcouvrez les plats les plus dlicieux des restaurants proches"})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((v,T)=>t.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse",children:[t.jsx("div",{className:"w-full h-48 bg-gray-200"}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2 w-2/3"})]})]},T))})]})}):t.jsx("section",{className:"py-12 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-8 gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Produits prs de chez vous"}),t.jsx("p",{className:"text-gray-600",children:"Dcouvrez les plats les plus dlicieux des restaurants proches"})]}),t.jsx("div",{className:"w-full lg:w-96",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:m,onChange:v=>g(v.target.value),placeholder:"Rechercher un produit ou restaurant...",className:"w-full p-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"}),t.jsx("i",{className:"ri-search-line absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})})]}),i.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),t.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun rsultat"}),t.jsx("p",{className:"text-gray-500",children:"Nous n'avons trouv aucun produit correspondant  votre recherche"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(v=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>window.REACT_APP_NAVIGATE(`/product?id=${v.id}`),children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("img",{src:v.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation%20with%20garnish%2C%20restaurant%20quality%20meal&width=400&height=300&seq=product-${v.id}&orientation=landscape`,alt:v.name,className:"w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"}),t.jsx("button",{onClick:T=>j(v,T),className:"absolute top-3 left-3 w-10 h-10 bg-white hover:bg-gray-50 rounded-full flex items-center justify-center shadow-lg transition-all cursor-pointer z-10",children:t.jsx("i",{className:`${_(v.id)?"ri-heart-fill text-red-500":"ri-heart-line text-gray-600"} text-xl`})}),l&&t.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1",children:[t.jsx("i",{className:"ri-map-pin-line text-teal-600"}),v.distance.toFixed(1)," km"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-1 group-hover:text-teal-600 transition-colors",children:v.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:v.description}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("i",{className:"ri-store-2-line text-gray-400 text-sm"}),t.jsx("span",{className:"text-xs text-gray-500",children:v.restaurant.name})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-lg font-bold text-teal-600",children:[v.price," DH"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-400 text-sm"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.restaurant.rating})]})]})]})]},v.id))})]})})}const JN=new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD",minimumFractionDigits:2,maximumFractionDigits:2});function Ws(l){return JN.format(l)}function QN({userLocation:l}){const[a,n]=N.useState([]),[i,c]=N.useState(!0),[d,h]=N.useState([]),m=Pe();N.useEffect(()=>{y(),g()},[l]);const g=()=>{try{const S=localStorage.getItem("favorites");S&&h(JSON.parse(S))}catch(S){console.error("Error loading favorites:",S)}},x=S=>d.some(C=>C.id===S&&C.type==="restaurant"),p=(S,C)=>{C.stopPropagation();const v={id:S.id,type:"restaurant",name:S.name,description:S.cuisine_type,image:S.image_url,rating:S.rating,deliveryTime:S.delivery_time,deliveryFee:S.delivery_fee,addedAt:new Date().toISOString()};let T;x(S.id)?T=d.filter(O=>!(O.id===S.id&&O.type==="restaurant")):T=[...d,v],h(T),localStorage.setItem("favorites",JSON.stringify(T))},y=async()=>{try{c(!0);const{data:S,error:C}=await Z.from("restaurants").select("*").eq("is_open",!0);if(C)throw C;const T=(S||[]).map(O=>{const E=l?_(l.lat,l.lng,O.latitude,O.longitude):0;return{...O,distance:E}}).sort((O,E)=>l?O.distance-E.distance:E.rating-O.rating);n(T.slice(0,8))}catch(S){console.error("Error fetching restaurants:",S)}finally{c(!1)}},_=(S,C,v,T)=>{const E=(v-S)*Math.PI/180,L=(T-C)*Math.PI/180,B=Math.sin(E/2)*Math.sin(E/2)+Math.cos(S*Math.PI/180)*Math.cos(v*Math.PI/180)*Math.sin(L/2)*Math.sin(L/2);return 6371*(2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)))},j=S=>{m(`/restaurant?id=${S}`)};return i?t.jsx("section",{className:"py-12 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Restaurants prs de chez vous"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((S,C)=>t.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse",children:[t.jsx("div",{className:"w-full h-48 bg-gray-200"}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2 w-2/3"})]})]},C))})]})}):t.jsx("section",{className:"py-12 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Restaurants prs de chez vous"}),t.jsx("p",{className:"text-gray-600",children:"Dcouvrez les meilleurs restaurants de votre rgion"})]}),t.jsx("button",{onClick:()=>m("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Voir tout"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(S=>t.jsxs("div",{onClick:()=>j(S.id),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden cursor-pointer group",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"}),t.jsx("button",{onClick:C=>p(S,C),className:"absolute top-3 left-3 w-10 h-10 bg-white hover:bg-gray-50 rounded-full flex items-center justify-center shadow-lg transition-all cursor-pointer z-10",children:t.jsx("i",{className:`${x(S.id)?"ri-heart-fill text-red-500":"ri-heart-line text-gray-600"} text-xl`})}),l&&t.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500"}),S.distance.toFixed(1)," km"]}),t.jsxs("div",{className:"absolute bottom-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-400"}),S.rating]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-1 group-hover:text-orange-500 transition-colors",children:S.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.cuisine_type}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-time-line text-orange-500"}),t.jsx("span",{children:S.delivery_time})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-e-bike-line text-orange-500"}),t.jsx("span",{children:S.delivery_fee===0?"Gratuit":Ws(S.delivery_fee)})]})]})]})]},S.id))})]})})}function XN(){const[l,a]=N.useState(null),[n,i]=N.useState(!0);return N.useEffect(()=>{if(navigator.geolocation){const c={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(d=>{const{latitude:h,longitude:m,accuracy:g}=d.coords;console.log(`Localisation dtermine sur la page d'accueil: ${h}, ${m} - prcision: ${g} mtres`),a({lat:h,lng:m}),i(!1)},d=>{console.error("Error getting location:",d),i(!1);let h="chec de la localisation";switch(d.code){case d.PERMISSION_DENIED:h="Permission d'accs  la localisation refuse. Veuillez autoriser l'accs  la localisation pour afficher les restaurants prs de chez vous.";break;case d.POSITION_UNAVAILABLE:h="Localisation actuellement indisponible. Assurez-vous que le GPS est activ.";break;case d.TIMEOUT:h="Dlai de localisation expir. Vous pouvez saisir votre localisation manuellement.";break}console.warn(h)},c)}else console.warn("Votre navigateur ne prend pas en charge la golocalisation"),i(!1)},[]),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx(IN,{}),t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:t.jsx(KN,{userLocation:l,isLoading:n,onLocationChange:a})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Produits prs de chez vous"}),t.jsx("i",{className:"ri-restaurant-2-line text-3xl text-teal-600"})]}),t.jsx(YN,{userLocation:l})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Restaurants prs de chez vous"}),t.jsx("i",{className:"ri-store-2-line text-3xl text-teal-600"})]}),t.jsx(QN,{userLocation:l})]}),t.jsx(ke,{})]})}function ea({rating:l,onRatingChange:a,readonly:n=!1,size:i="md",showCount:c=!1,count:d=0}){const[h,m]=N.useState(0),g={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},x={sm:"text-sm",md:"text-base",lg:"text-lg"},p=S=>{!n&&a&&a(S)},y=S=>{n||m(S)},_=()=>{n||m(0)},j=h||l;return t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex items-center",onMouseLeave:_,children:[1,2,3,4,5].map(S=>t.jsx("button",{type:"button",className:`${g[i]} flex items-center justify-center ${n?"cursor-default":"cursor-pointer hover:scale-110"} transition-transform`,onClick:()=>p(S),onMouseEnter:()=>y(S),disabled:n,children:t.jsx("i",{className:`ri-star-${S<=j?"fill":"line"} ${g[i]} ${S<=j?"text-yellow-400":"text-gray-300"}`})},S))}),c&&t.jsxs("span",{className:`text-gray-600 ${x[i]} mr-1`,children:["(",d,")"]}),t.jsx("span",{className:`text-gray-700 font-medium ${x[i]}`,children:l.toFixed(1)})]})}function zd({isOpen:l,onClose:a,onSubmit:n,title:i,itemName:c,existingRating:d=0,existingComment:h=""}){const[m,g]=N.useState(d),[x,p]=N.useState(h),[y,_]=N.useState(!1);if(N.useEffect(()=>{l&&(g(d),p(h))},[l,d,h]),!l)return null;const j=async S=>{if(S.preventDefault(),m!==0){_(!0);try{await n(m,x),g(0),p("")}catch(C){console.error("   :",C)}finally{_(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i}),t.jsx("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx("i",{className:"ri-close-line w-6 h-6"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("p",{className:"text-gray-600 mb-4",children:["    ",c,""]}),t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx(ea,{rating:m,onRatingChange:g,size:"lg"})}),t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),t.jsx("textarea",{value:x,onChange:S=>p(S.target.value),placeholder:" ...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",rows:4,maxLength:500}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.length,"/500 "]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer",children:""}),t.jsx("button",{type:"submit",disabled:m===0||y,className:"flex-1 px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap cursor-pointer",children:y?" ...":" "})]})]})]})]})})}function ZN(){const[l,a]=N.useState([]),[n,i]=N.useState(!0),[c,d]=N.useState([]),[h,m]=N.useState(!1),[g,x]=N.useState(null),[p,y]=N.useState({}),_=async()=>{try{i(!0);const{data:E,error:L}=await Z.from("restaurants").select("*");L?console.error("   :",L):a(E||[])}catch(E){console.error("   :",E)}finally{i(!1)}};N.useEffect(()=>{_(),j()},[]);const j=()=>{try{const E=localStorage.getItem("favorites");E&&d(JSON.parse(E))}catch(E){console.error("Error loading favorites:",E)}},S=(E,L)=>c.some(B=>B.id===E&&B.type===L),C=(E,L="restaurant")=>{let B;S(E,L)?B=c.filter(k=>!(k.id===E&&k.type===L)):B=[...c,{id:E,type:L}],d(B),localStorage.setItem("favorites",JSON.stringify(B))},v=async()=>{if(l.length!==0)try{const{data:{session:E}}=await Z.auth.getSession(),L={"Content-Type":"application/json"};E?.access_token&&(L.Authorization=`Bearer ${E.access_token}`);const k=(await Promise.all(l.map(async A=>{try{const Y=await fetch(`https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings?restaurant_id=${A.id}`,{headers:L});if(!Y.ok)return null;const te=await Y.json();return[A.id,{rating:te.average_rating||0,count:te.total_count||0}]}catch(Y){return console.error(`     ${A.id}:`,Y),null}}))).reduce((A,Y)=>(Y&&(A[Y[0]]=Y[1]),A),{});y(k)}catch(E){console.error("   :",E)}},T=(E,L)=>{x({id:E,name:L}),m(!0)},O=async(E,L)=>{if(g)try{const{data:{session:B}}=await Z.auth.getSession();if(!B){alert("    "),m(!1),x(null);return}const k=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings",{method:"POST",headers:{Authorization:`Bearer ${B.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({restaurant_id:g.id,rating:E,comment:L})});if(!k.ok){const te=(await k.json().catch(()=>({}))).error||"    ";throw console.error("  :",te),alert(te),new Error(te)}const A=await k.json();if(A.success)await v(),m(!1),x(null),alert("   !");else throw new Error(A.error||"  ")}catch(B){console.error("   :",B);const k=B.message||"    ";alert(k)}};return N.useEffect(()=>{l.length>0&&v()},[l]),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsxs("main",{className:"pt-20",children:[t.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-orange-500 to-red-500",children:[t.jsx("img",{src:"https://readdy.ai/api/search-image?query=Modern%20restaurant%20interior%20with%20warm%20lighting%2C%20elegant%20dining%20tables%2C%20contemporary%20design%2C%20professional%20food%20service%20atmosphere%2C%20clean%20and%20inviting%20space%20with%20orange%20and%20red%20color%20accents&width=1200&height=400&seq=restaurants-hero&orientation=landscape",alt:"",className:"w-full h-full object-cover object-top"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("h1",{className:"text-4xl font-bold mb-4",children:"  "}),t.jsx("p",{className:"text-xl",children:"      "})]})})]}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:n?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(E=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden animate-pulse",children:[t.jsx("div",{className:"h-48 bg-gray-200"}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]})]},E))}):l.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"    "})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(E=>{const L=p[E.id];return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:E.image||`https://readdy.ai/api/search-image?query=modern%20restaurant%20exterior%20with%20inviting%20entrance%2C%20professional%20photography%2C%20warm%20lighting%20and%20welcoming%20atmosphere%2C%20clean%20and%20elegant%20design&width=400&height=300&seq=restaurant-${E.id}&orientation=landscape`,alt:E.name,className:"w-full h-48 object-cover object-top"}),t.jsx("button",{onClick:()=>C(E.id,"restaurant"),className:"absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${S(E.id,"restaurant")?"fill text-red-500":"line text-gray-600"} w-4 h-4`})}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.status==="closed"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:E.status==="closed"?"":""})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-bold text-gray-900 flex-1",children:E.name}),t.jsx("button",{onClick:()=>T(E.id,E.name),className:"text-orange-500 hover:text-orange-600 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-star-line w-4 h-4"})})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:E.description||"    "}),L&&t.jsx("div",{className:"mb-3",children:t.jsx(ea,{rating:L.rating,readonly:!0,size:"sm",showCount:!0,count:L.count})}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-time-line w-4 h-4"}),t.jsx("span",{children:E.delivery_time||"30-45 "})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-truck-line w-4 h-4"}),t.jsxs("span",{children:[E.delivery_fee||15," ."]})]})]}),t.jsx("button",{onClick:()=>window.REACT_APP_NAVIGATE(`/restaurant?id=${E.id}`),className:"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:" "})]})]},E.id)})})})]}),t.jsx(ke,{}),t.jsx(zd,{isOpen:h,onClose:()=>{m(!1),x(null)},onSubmit:O,title:" ",itemName:g?.name||""})]})}function qx({reviews:l,loading:a}){if(a)return t.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]})]}),t.jsx("div",{className:"h-16 bg-gray-200 rounded"})]},i))});if(l.length===0)return t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"ri-chat-3-line w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"   "}),t.jsx("p",{className:"text-sm text-gray-400",children:"     "})]});const n=i=>new Date(i).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"});return t.jsx("div",{className:"space-y-4",children:l.map(i=>t.jsx("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line w-5 h-5 text-orange-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:i.user_name||""}),t.jsx("p",{className:"text-sm text-gray-500",children:n(i.created_at)})]}),t.jsx(ea,{rating:i.rating,readonly:!0,size:"sm"})]}),i.comment&&t.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.comment})]})]})},i.id))})}function WN(){const[l]=Ad(),a=l.get("id"),[n,i]=N.useState(null),[c,d]=N.useState([]),[h,m]=N.useState(!0),[g,x]=N.useState({}),[p,y]=N.useState([]),[_,j]=N.useState(!1),[S,C]=N.useState(null),[v,T]=N.useState([]),[O,E]=N.useState(0),[L,B]=N.useState(0),[k,A]=N.useState(!1),[Y,te]=N.useState({}),ie="https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings",Ce=async(G=!1)=>{const{data:{session:se}}=await Z.auth.getSession();if(G&&!se?.access_token)throw new Error("AUTH_REQUIRED");const re={"Content-Type":"application/json"};return se?.access_token&&(re.Authorization=`Bearer ${se.access_token}`),{headers:re,session:se}},W=async()=>{if(!a){m(!1);return}try{m(!0);const{data:G,error:se}=await Z.from("restaurants").select("*").eq("id",a).single();if(se){console.error("    :",se),i(null);return}i(G);const{data:re,error:fe}=await Z.from("products").select("*").eq("restaurant_id",a);fe?console.error("   :",fe):d(re||[])}catch(G){console.error("   :",G)}finally{m(!1)}};N.useEffect(()=>{a&&(W(),F(),ae())},[a]);const F=()=>{try{const G=localStorage.getItem("favorites");G&&y(JSON.parse(G))}catch(G){console.error("Error loading favorites:",G)}},ae=()=>{try{const G=localStorage.getItem("cart");G&&x(JSON.parse(G))}catch(G){console.error("Error loading cart:",G)}},ce=G=>{localStorage.setItem("cart",JSON.stringify(G)),window.dispatchEvent(new CustomEvent("cartUpdated"))},M=(G,se)=>p.some(re=>re.id===G&&re.type===se),Q=(G,se="restaurant")=>{let re;M(G,se)?re=p.filter(fe=>!(fe.id===G&&fe.type===se)):re=[...p,{id:G,type:se}],y(re),localStorage.setItem("favorites",JSON.stringify(re))},ee=async()=>{if(a){A(!0);try{const{headers:G}=await Ce(),se=new URLSearchParams;se.append("restaurant_id",a);const re=await fetch(`${ie}?${se.toString()}`,{headers:G});if(!re.ok)throw new Error("  ");const fe=await re.json();T(fe.ratings||[]),E(fe.average_rating||0),B(fe.total_count||0)}catch(G){console.error("   :",G),T([]),E(0),B(0)}finally{A(!1)}}},ue=async G=>{try{const{headers:se}=await Ce(),re=new URLSearchParams;re.append("product_id",G);const fe=await fetch(`${ie}?${re.toString()}`,{headers:se});if(!fe.ok)return;const Ge=await fe.json();te(Me=>({...Me,[G]:{average:Ge.average_rating||0,count:Ge.total_count||0}}))}catch(se){console.error(`     ${G}:`,se)}};N.useEffect(()=>{a&&n&&ee()},[a,n]),N.useEffect(()=>{c.length!==0&&c.forEach(G=>{ue(G.id)})},[c]);const oe=(G,se,re)=>{C({type:G,id:se,name:re}),j(!0)},R=async(G,se)=>{if(S)try{const{headers:re}=await Ce(!0),fe={rating:G,comment:se,...S.type==="restaurant"?{restaurant_id:S.id}:{product_id:S.id}},Ge=await fetch(ie,{method:"POST",headers:re,body:JSON.stringify(fe)});if(!Ge.ok){const sa=(await Ge.json().catch(()=>({}))).error||"    ";throw console.error("  :",sa),new Error(sa)}const Me=await Ge.json();if(Me.success)S.type==="restaurant"?await ee():await ue(S.id),j(!1),C(null),alert("   !");else throw new Error(Me.error||"  ")}catch(re){if(re.message==="AUTH_REQUIRED")alert("    "),j(!1),C(null);else{const fe=re.message||"    ";throw console.error("   :",re),alert(fe),re}}},P=G=>{const se={...g,[G.id]:(g[G.id]||0)+1};x(se),ce(se)},X=G=>{const se={...g};se[G]>1?se[G]--:delete se[G],x(se),ce(se)};return h?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"   ..."})]})}),t.jsx(ke,{})]}):n?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"pt-20",children:t.jsxs("div",{children:[t.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-orange-500 to-red-500",children:[t.jsx("img",{src:n.image||`https://readdy.ai/api/search-image?query=modern%20restaurant%20interior%20with%20warm%20lighting%20and%20elegant%20dining%20atmosphere%2C%20professional%20food%20photography%20style%2C%20clean%20and%20inviting%20ambiance&width=800&height=400&seq=restaurant-${n.id}&orientation=landscape`,alt:n.name,className:"w-full h-full object-cover object-top"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("button",{onClick:()=>Q(n.id,"restaurant"),className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${M(n.id,"restaurant")?"fill text-red-500":"line text-gray-600"} w-5 h-5`})})})]}),t.jsx("div",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.name}),t.jsx("p",{className:"text-gray-600 mb-4",children:n.description||"    "}),t.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(ea,{rating:O,readonly:!0,showCount:!0,count:L})}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx("i",{className:"ri-time-line w-4 h-4"}),t.jsx("span",{children:n.delivery_time||"30-45 "})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx("i",{className:"ri-truck-line w-4 h-4"}),t.jsxs("span",{children:[n.delivery_fee||15," ."]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.status==="closed"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:n.status==="closed"?"":""})})]}),t.jsxs("button",{onClick:()=>oe("restaurant",n.id,n.name),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:[t.jsx("i",{className:"ri-star-line w-4 h-4 ml-2"})," "]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:""}),c.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"    "})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(G=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:G.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation%20with%20garnish%2C%20restaurant%20quality%20meal&width=400&height=300&seq=product-${G.id}&orientation=landscape`,alt:G.name,className:"w-full h-48 object-cover object-top"}),t.jsx("button",{onClick:()=>Q(G.id,"product"),className:"absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${M(G.id,"product")?"fill text-red-500":"line text-gray-600"} w-4 h-4`})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:G.name}),t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:G.description||"  "}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[G.price," ."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[Y[G.id]?.count?t.jsx(ea,{rating:Y[G.id].average,readonly:!0,size:"sm",showCount:!0,count:Y[G.id].count}):t.jsx("span",{className:"text-xs text-gray-400",children:"  "}),t.jsx("button",{onClick:()=>oe("product",G.id,G.name),className:"text-orange-500 hover:text-orange-600 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-star-line w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[g[G.id]>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>X(G.id),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-subtract-line w-4 h-4"})}),t.jsx("span",{className:"font-medium",children:g[G.id]})]}),t.jsx("button",{onClick:()=>P(G),className:"flex-1 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:g[G.id]>0?" ":" "})]})]})]},G.id))})]}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-600",children:O.toFixed(1)}),t.jsx(ea,{rating:O,readonly:!0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:" "}),t.jsxs("p",{className:"text-sm text-gray-500",children:[L," "]})]})]})})}),t.jsx(qx,{reviews:v,loading:k})]})})]})}),t.jsx(ke,{}),t.jsx(zd,{isOpen:_,onClose:()=>{j(!1),C(null)},onSubmit:R,title:S?.type==="restaurant"?" ":" ",itemName:S?.name||""})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  "})]})}),t.jsx(ke,{})]})}function ew(){const[l]=Ad(),a=l.get("id"),[n,i]=N.useState(null),[c,d]=N.useState(null),[h,m]=N.useState(!0),[g,x]=N.useState({}),[p,y]=N.useState([]),[_,j]=N.useState(!1),[S,C]=N.useState([]),[v,T]=N.useState(0),[O,E]=N.useState(0),[L,B]=N.useState(!1),[k,A]=N.useState(1),Y="https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/ratings",te=async(R=!1)=>{const{data:{session:P}}=await Z.auth.getSession();if(R&&!P?.access_token)throw new Error("AUTH_REQUIRED");const X={"Content-Type":"application/json"};return P?.access_token&&(X.Authorization=`Bearer ${P.access_token}`),{headers:X,session:P}},ie=async()=>{if(!a){m(!1);return}try{m(!0);const{data:R,error:P}=await Z.from("products").select("*, restaurants(*)").eq("id",a).single();if(P){console.error("    :",P),i(null);return}i(R),d(R.restaurants)}catch(R){console.error("   :",R)}finally{m(!1)}};N.useEffect(()=>{a&&(ie(),Ce(),W(),M(a))},[a]);const Ce=()=>{try{const R=localStorage.getItem("favorites");R&&y(JSON.parse(R))}catch(R){console.error("Error loading favorites:",R)}},W=()=>{try{const R=localStorage.getItem("cart");R&&x(JSON.parse(R))}catch(R){console.error("Error loading cart:",R)}},F=R=>{localStorage.setItem("cart",JSON.stringify(R)),window.dispatchEvent(new CustomEvent("cartUpdated"))},ae=(R,P)=>p.some(X=>X.id===R&&X.type===P),ce=(R,P="product")=>{let X;ae(R,P)?X=p.filter(G=>!(G.id===R&&G.type===P)):X=[...p,{id:R,type:P}],y(X),localStorage.setItem("favorites",JSON.stringify(X))},M=async R=>{B(!0);try{const{headers:P}=await te(),X=new URLSearchParams;X.append("product_id",R);const G=await fetch(`${Y}?${X.toString()}`,{headers:P});if(!G.ok)throw new Error("  ");const se=await G.json(),re=typeof se.average_rating=="number"?se.average_rating:0;C(se.ratings||[]),T(Number(re.toFixed(1))),E(se.total_count||0)}catch(P){console.error("   :",P),C([]),T(0),E(0)}finally{B(!1)}},Q=()=>{j(!0)},ee=async(R,P)=>{if(a)try{const{headers:X}=await te(!0),G=await fetch(Y,{method:"POST",headers:X,body:JSON.stringify({product_id:a,rating:R,comment:P})});if(!G.ok){const fe=(await G.json().catch(()=>({}))).error||"    ";throw console.error("  :",fe),new Error(fe)}const se=await G.json();if(se.success)await M(a),j(!1),alert("   !");else throw new Error(se.error||"  ")}catch(X){if(X.message==="AUTH_REQUIRED")alert("    "),j(!1);else{const G=X.message||"    ";throw console.error("   :",X),alert(G),X}}},ue=()=>{if(!n)return;const R={...g,[n.id]:(g[n.id]||0)+k};x(R),F(R),A(1)},oe=R=>{R>=1&&A(R)};return h?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"   ..."})]})}),t.jsx(ke,{})]}):n?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"pt-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:n.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation%20with%20garnish%2C%20restaurant%20quality%20meal&width=600&height=600&seq=product-detail-${n.id}&orientation=squarish`,alt:n.name,className:"w-full h-96 lg:h-full object-cover object-top"}),t.jsx("button",{onClick:()=>ce(n.id,"product"),className:"absolute top-4 right-4 w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform cursor-pointer",children:t.jsx("i",{className:`ri-heart-${ae(n.id,"product")?"fill text-red-500":"line text-gray-600"} w-6 h-6`})})]}),t.jsxs("div",{className:"p-6 lg:p-8",children:[t.jsx("div",{className:"mb-4",children:t.jsx("button",{onClick:()=>window.REACT_APP_NAVIGATE(`/restaurant?id=${c?.id}`),className:"text-orange-500 hover:text-orange-600 text-sm font-medium cursor-pointer",children:c?.name})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.name}),t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(ea,{rating:v,readonly:!0,showCount:!0,count:O}),t.jsxs("button",{onClick:Q,className:"text-orange-500 hover:text-orange-600 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-star-line w-4 h-4 ml-1"})," "]})]}),t.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:n.description||"     "}),t.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-8",children:[n.price," DH"]}),t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:":"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>oe(k-1),className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-subtract-line w-4 h-4"})}),t.jsx("span",{className:"text-xl font-medium w-12 text-center",children:k}),t.jsx("button",{onClick:()=>oe(k+1),className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-add-line w-4 h-4"})})]})]}),t.jsxs("button",{onClick:ue,className:"w-full bg-orange-500 text-white py-4 rounded-lg text-lg font-semibold hover:bg-orange-600 transition-colors whitespace-nowrap cursor-pointer",children:[t.jsx("i",{className:"ri-shopping-cart-line w-5 h-5 ml-2"}),"  (",k,"  ",n.price," = ",k*n.price," DH)"]}),g[n.id]>0&&t.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:t.jsxs("p",{className:"text-green-800 text-sm",children:[t.jsx("i",{className:"ri-check-line w-4 h-4 ml-1"})," ",g[n.id],"     "]})})]})]})}),t.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-600",children:v.toFixed(1)}),t.jsx(ea,{rating:v,readonly:!0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:" "}),t.jsxs("p",{className:"text-sm text-gray-500",children:[O," "]})]})]})})}),t.jsx(qx,{reviews:S,loading:L})]})]})}),t.jsx(ke,{}),t.jsx(zd,{isOpen:_,onClose:()=>j(!1),onSubmit:ee,title:" ",itemName:n?.name||""})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-product-hunt-line text-4xl text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  "})]})}),t.jsx(ke,{})]})}const tw=[{id:1,title:"50% de rduction sur la premire commande",description:"Obtenez 50% de rduction sur votre premire commande de n'importe quel restaurant",discount:"50%",code:"FIRST50",validUntil:"2024-12-31",image:"https://readdy.ai/api/search-image?query=Food%20delivery%20discount%20offer%20banner%20with%2050%25%20off%20text%2C%20colorful%20design%2C%20appetizing%20food%20items%2C%20promotional%20style%2C%20modern%20graphics&width=400&height=200&seq=offer-1&orientation=landscape",minOrder:50,restaurants:"Tous les restaurants"},{id:2,title:`Livraison gratuite pour les commandes de plus de ${Ws(100)}`,description:`Profitez de la livraison gratuite pour une commande de ${Ws(100)} ou plus`,discount:"Livraison gratuite",code:"FREE100",validUntil:"2024-12-25",image:"https://readdy.ai/api/search-image?query=Free%20delivery%20promotion%20banner%20with%20delivery%20truck%20icon%2C%20green%20colors%2C%20food%20packages%2C%20promotional%20design%2C%20modern%20style&width=400&height=200&seq=offer-2&orientation=landscape",minOrder:100,restaurants:"Restaurants slectionns"},{id:3,title:"Offre spciale pizza",description:"Commandez une pizza et obtenez la deuxime gratuitement",discount:"1+1",code:"PIZZA2",validUntil:"2024-12-20",image:"https://readdy.ai/api/search-image?query=Pizza%20special%20offer%20banner%20with%20two%20pizzas%2C%20Italian%20style%2C%20cheese%20melting%2C%20promotional%20design%2C%20appetizing%20presentation&width=400&height=200&seq=offer-3&orientation=landscape",minOrder:0,restaurants:"Pizzerias"},{id:4,title:"30% de rduction sur les repas sains",description:"Rduction spciale sur tous les repas sains et salades",discount:"30%",code:"HEALTHY30",validUntil:"2024-12-28",image:"https://readdy.ai/api/search-image?query=Healthy%20food%20discount%20banner%20with%20fresh%20salads%2C%20vegetables%2C%20clean%20eating%20concept%2C%20green%20colors%2C%20promotional%20style&width=400&height=200&seq=offer-4&orientation=landscape",minOrder:40,restaurants:"Restaurants sains"},{id:5,title:"Offre week-end",description:"25% de rduction sur toutes les commandes le week-end",discount:"25%",code:"WEEKEND25",validUntil:"2024-12-22",image:"https://readdy.ai/api/search-image?query=Weekend%20special%20offer%20banner%20with%20family%20dining%2C%20various%20cuisines%2C%20festive%20colors%2C%20promotional%20design%2C%20appetizing%20food%20spread&width=400&height=200&seq=offer-5&orientation=landscape",minOrder:60,restaurants:"Tous les restaurants"},{id:6,title:"Offre spciale desserts",description:"40% de rduction sur tous les types de desserts et gteaux",discount:"40%",code:"SWEET40",validUntil:"2024-12-30",image:"https://readdy.ai/api/search-image?query=Desserts%20special%20offer%20banner%20with%20cakes%2C%20sweets%2C%20colorful%20pastries%2C%20promotional%20design%2C%20appetizing%20dessert%20display&width=400&height=200&seq=offer-6&orientation=landscape",minOrder:30,restaurants:"Ptisseries"}];function sw(){const l=a=>{navigator.clipboard.writeText(a)};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Offres spciales"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Dcouvrez les meilleures offres et rductions sur votre nourriture prfre"})]}),t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl p-8 text-white mb-12",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[t.jsxs("div",{className:"lg:w-1/2 mb-6 lg:mb-0",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Offre limite !"}),t.jsx("p",{className:"text-xl mb-6",children:"50% de rduction sur votre premire commande + livraison gratuite"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"bg-white text-orange-500 px-4 py-2 rounded-lg font-bold",children:"FIRST50"}),t.jsx("button",{onClick:()=>l("FIRST50"),className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:"Copier le code"})]})]}),t.jsxs("div",{className:"lg:w-1/2 text-center",children:[t.jsx("div",{className:"text-6xl font-bold mb-2",children:"50%"}),t.jsx("div",{className:"text-xl",children:"de rduction"})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:tw.map(a=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover"}),t.jsx("div",{className:"absolute top-4 right-4 bg-orange-500 text-white px-3 py-1 rounded-full font-bold",children:a.discount})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:a.title}),t.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Minimum :"}),t.jsx("span",{className:"font-medium",children:a.minOrder>0?Ws(a.minOrder):"Aucun minimum"})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Restaurants :"}),t.jsx("span",{className:"font-medium",children:a.restaurants})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Valable jusqu\\'au :"}),t.jsx("span",{className:"font-medium",children:a.validUntil})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 bg-gray-100 rounded-lg p-3 text-center",children:t.jsx("span",{className:"font-mono font-bold text-gray-800",children:a.code})}),t.jsx("button",{onClick:()=>l(a.code),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:t.jsx("i",{className:"ri-file-copy-line"})})]})]})]},a.id))}),t.jsxs("div",{className:"bg-white rounded-xl p-8 mt-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Comment utiliser les offres"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-file-copy-line text-2xl text-orange-500"})}),t.jsx("h3",{className:"font-semibold mb-2",children:"Copiez le code"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Copiez le code de rduction de l'offre souhaite"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-shopping-cart-line text-2xl text-orange-500"})}),t.jsx("h3",{className:"font-semibold mb-2",children:"Commandez votre repas"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Choisissez votre restaurant prfr et ajoutez la nourriture au panier"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-discount-percent-line text-2xl text-orange-500"})}),t.jsx("h3",{className:"font-semibold mb-2",children:"Appliquez le code"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Collez le code lors du paiement et profitez de la rduction"})]})]})]})]}),t.jsx(ke,{})]})}const Ht={confirmed:{title:"  ",description:"    ",icon:"ri-check-line",color:"text-blue-500",bgColor:"bg-blue-100"},preparing:{title:" ",description:"   ",icon:"ri-restaurant-line",color:"text-orange-500",bgColor:"bg-orange-100"},ready:{title:" ",description:"   ",icon:"ri-time-line",color:"text-purple-500",bgColor:"bg-purple-100"},on_way:{title:"  ",description:"    ",icon:"ri-truck-line",color:"text-green-500",bgColor:"bg-green-100"},delivered:{title:" ",description:"   ",icon:"ri-check-double-line",color:"text-green-600",bgColor:"bg-green-100"}};function aw(){const[l,a]=N.useState(""),[n,i]=N.useState(null),[c,d]=N.useState(!1),[h,m]=N.useState([]),[g,x]=N.useState(!1),[p,y]=N.useState(null),[_,j]=N.useState(!0),S=Pe();N.useEffect(()=>{C()},[]);const C=async()=>{try{j(!0);const{data:{user:k}}=await Z.auth.getUser();y(k),k&&v(k.id)}catch(k){console.error("    :",k)}finally{j(!1)}},v=k=>{try{const A=localStorage.getItem("orders");if(A){const te=JSON.parse(A).filter(ie=>ie.user_id===k);te.sort((ie,Ce)=>new Date(Ce.orderTime).getTime()-new Date(ie.orderTime).getTime()),m(te)}else m([])}catch(A){console.error("   :",A),m([])}};N.useEffect(()=>{if(p){v(p.id),T();const k=setInterval(()=>{T(),v(p.id)},3e4);return()=>clearInterval(k)}},[p]);const T=()=>{if(p)try{const k=localStorage.getItem("orders"),A=JSON.parse(localStorage.getItem("clearedCartOrders")||"[]");if(k){const te=JSON.parse(k).filter(ie=>ie.user_id===p.id&&ie.status==="preparing"&&!A.includes(ie.id));if(te.length>0){const ie=localStorage.getItem("cart");if(ie)try{const Ce=JSON.parse(ie);if(Array.isArray(Ce)&&Ce.length>0){localStorage.removeItem("cart"),window.dispatchEvent(new CustomEvent("cartUpdated"));const W=[...A,...te.map(F=>F.id)];localStorage.setItem("clearedCartOrders",JSON.stringify(W)),x(!0),setTimeout(()=>x(!1),5e3)}}catch(Ce){console.error("   :",Ce)}}}}catch(k){console.error("   :",k)}},O=async()=>{if(!l.trim()){alert("   ");return}if(!p){alert("   "),S("/auth");return}d(!0);try{await new Promise(Y=>setTimeout(Y,1e3));let k=null;const A=localStorage.getItem("orders");A&&(k=JSON.parse(A).find(te=>te.id===l.trim()&&te.user_id===p.id)),i(k||null),k||alert("    .      .")}catch(k){console.error("  :",k),alert("   .   .")}finally{d(!1)}},E=k=>{const A=["confirmed","preparing","ready","on_way","delivered"],Y=A.indexOf(k);return Y>=0?(Y+1)/A.length*100:0},L=k=>{a(k.id),i(k),window.scrollTo({top:0,behavior:"smooth"})},B=k=>{k.key==="Enter"&&O()};return _?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[t.jsx("i",{className:"ri-loader-4-line text-6xl text-orange-500 mb-4 animate-spin"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" ..."}),t.jsx("p",{className:"text-gray-600",children:"   "})]})}),t.jsx(ke,{})]}):p?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[g&&t.jsxs("div",{className:"bg-orange-100 border border-orange-300 text-orange-700 px-4 py-3 rounded-lg mb-6 flex items-center gap-3",children:[t.jsx("i",{className:"ri-information-line text-xl"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"   "}),t.jsx("p",{className:"text-sm",children:"       "})]})]}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"     "})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",value:l,onChange:k=>a(k.target.value),onKeyPress:B,placeholder:"   (: ORD-2024-001)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",disabled:c})}),t.jsx("button",{onClick:O,disabled:c,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center gap-2",children:c?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"})," ..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-search-line"})," "]})})]})}),n&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[" : ",n.id]}),t.jsx("p",{className:"text-gray-600",children:n.restaurant}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" : ",n.orderTime]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:Ws(n.total)}),t.jsx("div",{className:`text-xs px-3 py-1 rounded-full mt-2 ${Ht[n.status]?.bgColor} ${Ht[n.status]?.color}`,children:Ht[n.status]?.title||" "})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:" "}),t.jsxs("span",{className:"text-sm text-gray-500",children:[" : ",n.estimatedTime]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:"bg-orange-500 h-3 rounded-full transition-all duration-500",style:{width:`${E(n.status)}%`}})})]}),Ht[n.status]&&t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg mb-6",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${Ht[n.status].bgColor}`,children:t.jsx("i",{className:`${Ht[n.status].icon} text-xl ${Ht[n.status].color}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:Ht[n.status].title}),t.jsx("p",{className:"text-gray-600 text-sm",children:Ht[n.status].description})]})]}),(n.status==="on_way"||n.status==="ready")&&n.driver&&t.jsxs("div",{className:"border-t pt-6 mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:" "}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-xl text-gray-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:n.driver.name}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("i",{className:"ri-star-fill text-yellow-400"}),t.jsx("span",{children:n.driver.rating})]})]})]}),t.jsx("a",{href:`tel:${n.driver.phone}`,className:"bg-green-500 hover:bg-green-600 text-white p-3 rounded-full transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-phone-line text-lg"})})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:" "}),t.jsxs("div",{className:"space-y-3",children:[n.items.map((k,A)=>t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-gray-800 font-medium",children:k.name}),k.price&&t.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",Ws(k.price),")"]})]}),t.jsx("span",{className:"text-gray-600 font-medium",children:k.quantity?`${k.quantity}x`:"1x"})]},A)),t.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[t.jsx("span",{className:"font-bold text-gray-800",children:":"}),t.jsx("span",{className:"font-bold text-gray-800 text-lg",children:Ws(n.total)})]})]})]}),n.deliveryInfo&&t.jsxs("div",{className:"border-t pt-6 mt-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:" "}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600 text-sm",children:":"}),t.jsx("p",{className:"font-medium text-gray-800",children:n.deliveryInfo.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600 text-sm",children:":"}),t.jsx("p",{className:"font-medium text-gray-800",children:n.deliveryInfo.phone})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("span",{className:"text-gray-600 text-sm",children:":"}),t.jsxs("p",{className:"font-medium text-gray-800",children:[n.deliveryInfo.address,", ",n.deliveryInfo.city]})]})]})})]})]}),n===null&&l&&!c&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center mb-8",children:[t.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"    "}),t.jsx("p",{className:"text-gray-500 mb-4",children:"      "}),t.jsx("button",{onClick:()=>S("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:" "})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:" "}),h.length>0?t.jsx("div",{className:"space-y-4",children:h.slice(0,10).map(k=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:k.id}),t.jsx("p",{className:"text-gray-600 text-sm",children:k.restaurant}),t.jsx("p",{className:"text-gray-500 text-xs mt-1",children:k.orderTime})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-gray-800",children:Ws(k.total)}),t.jsx("div",{className:`text-xs px-2 py-1 rounded-full mt-1 ${Ht[k.status]?.bgColor} ${Ht[k.status]?.color}`,children:Ht[k.status]?.title||" "})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[k.items.length,"  - ",k.estimatedTime]}),t.jsxs("button",{onClick:()=>L(k),className:"text-orange-500 hover:text-orange-600 text-sm font-medium cursor-pointer flex items-center gap-1",children:[t.jsx("i",{className:"ri-eye-line"})," "]})]})]},k.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"ri-file-list-line text-6xl text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-500 mb-4",children:"    "}),t.jsx("button",{onClick:()=>S("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:"  "})]})]})]}),t.jsx(ke,{})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[t.jsx("i",{className:"ri-lock-line text-6xl text-orange-500 mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600 mb-6",children:"     "}),t.jsx("button",{onClick:()=>S("/auth"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})}),t.jsx(ke,{})]})}function rw(){const l=Pe(),[a,n]=N.useState([]),[i,c]=N.useState(!0),[d,h]=N.useState(""),[m,g]=N.useState(null);N.useEffect(()=>{x();const E=()=>{x()};return window.addEventListener("cartUpdated",E),()=>{window.removeEventListener("cartUpdated",E)}},[]);const x=async()=>{try{c(!0);const E=localStorage.getItem("cart");if(!E){n([]),c(!1);return}const L=JSON.parse(E),B=Object.keys(L);if(B.length===0){n([]),c(!1);return}const{data:k,error:A}=await Z.from("products").select("*, restaurants(id, name)").in("id",B);if(A){console.error("   :",A),n([]),c(!1);return}const Y=k.map(te=>({id:te.id,name:te.name,restaurant:te.restaurants?.name||"  ",restaurant_id:te.restaurant_id,price:te.price,quantity:L[te.id],image:te.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation&width=100&height=100&seq=cart-${te.id}&orientation=squarish`}));n(Y),c(!1)}catch(E){console.error("   :",E),n([]),c(!1)}},p=(E,L)=>{try{const B=localStorage.getItem("cart");if(!B)return;const k=JSON.parse(B);L===0?(delete k[E],n(a.filter(A=>A.id!==E))):(k[E]=L,n(a.map(A=>A.id===E?{...A,quantity:L}:A))),localStorage.setItem("cart",JSON.stringify(k)),window.dispatchEvent(new CustomEvent("cartUpdated"))}catch(B){console.error("   :",B)}},y=E=>{try{const L=localStorage.getItem("cart");if(!L)return;const B=JSON.parse(L);delete B[E],localStorage.setItem("cart",JSON.stringify(B)),n(a.filter(k=>k.id!==E)),window.dispatchEvent(new CustomEvent("cartUpdated"))}catch(L){console.error("   :",L)}},_=()=>{d==="FIRST50"?g({code:"FIRST50",discount:50,type:"percentage"}):d==="FREE100"?g({code:"FREE100",discount:40,type:"fixed"}):d.trim()&&alert("   ")},j=()=>{g(null),h("")},S=()=>{if(a.length===0){alert(" ");return}m?localStorage.setItem("appliedPromo",JSON.stringify(m)):localStorage.removeItem("appliedPromo"),l("/checkout")},C=a.reduce((E,L)=>E+L.price*L.quantity,0),v=25,T=m?m.type==="percentage"?C*(m.discount/100):m.discount:0,O=C+v-T;return i?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-loader-4-line text-6xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}),t.jsx(ke,{})]}):a.length===0?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-shopping-cart-line text-8xl text-gray-300 mb-6"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:" "}),t.jsx("p",{className:"text-gray-500 mb-8",children:"     "}),t.jsx("button",{onClick:()=>l("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})}),t.jsx(ke,{})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pt-24",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:""}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:[" (",a.length,")"]}),t.jsx("div",{className:"space-y-6",children:a.map(E=>t.jsxs("div",{className:"flex gap-4 pb-6 border-b border-gray-200 last:border-b-0",children:[t.jsx("img",{src:E.image,alt:E.name,className:"w-20 h-20 object-cover object-top rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:E.name}),t.jsx("button",{onClick:()=>l(`/restaurant?id=${E.restaurant_id}`),className:"text-sm text-orange-500 hover:text-orange-600 cursor-pointer",children:E.restaurant})]}),t.jsx("button",{onClick:()=>y(E.id),className:"text-gray-400 hover:text-red-500 cursor-pointer",children:t.jsx("i",{className:"ri-close-line text-lg"})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>p(E.id,E.quantity-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 cursor-pointer",children:t.jsx("i",{className:"ri-subtract-line text-sm"})}),t.jsx("span",{className:"font-medium w-8 text-center",children:E.quantity}),t.jsx("button",{onClick:()=>p(E.id,E.quantity+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 cursor-pointer",children:t.jsx("i",{className:"ri-add-line text-sm"})})]}),t.jsxs("div",{className:"font-bold text-gray-800",children:[E.price*E.quantity," DH"]})]})]})]},E.id))})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:" "}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),m?t.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-check-line text-green-500"}),t.jsx("span",{className:"text-sm font-medium text-green-700",children:m.code})]}),t.jsx("button",{onClick:j,className:"text-green-500 hover:text-green-600 cursor-pointer",children:t.jsx("i",{className:"ri-close-line"})})]}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value.toUpperCase()),placeholder:"  ",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",onKeyPress:E=>E.key==="Enter"&&_()}),t.jsx("button",{onClick:_,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:""})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:": FIRST50  FREE100"})]}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[C.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[v.toFixed(2)," DH"]})]}),m&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:[" (",m.code,")"]}),t.jsxs("span",{children:["-",T.toFixed(2)," DH"]})]}),t.jsx("div",{className:"border-t pt-3",children:t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:""}),t.jsxs("span",{className:"text-orange-600",children:[O.toFixed(2)," DH"]})]})})]}),t.jsx("button",{onClick:S,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>l("/restaurants"),className:"text-orange-500 hover:text-orange-600 text-sm cursor-pointer",children:"   "})})]})})]})]}),t.jsx(ke,{})]})}function Fg(){const[l,a]=N.useState(!0),[n,i]=N.useState(!1),[c,d]=N.useState({email:"",password:"",name:"",phone:""}),[h,m]=N.useState(!1),[g,x]=N.useState(""),[p,y]=N.useState("success"),[_,j]=N.useState(!1),S=Pe(),[C]=Ad();N.useEffect(()=>{v(),C.get("mode")==="restaurant"&&(i(!0),a(!0),x("       "),y("success"))},[C]);const v=async()=>{const{data:{user:B}}=await Z.auth.getUser();B&&await T(B)},T=async B=>{try{const{data:k,error:A}=await Z.from("restaurants").select("*").eq("owner_id",B.id).eq("status","approved").single();if(k&&!A){S("/restaurant-dashboard");return}const{data:Y,error:te}=await Z.from("admins").select("*").eq("email",B.email).single();if(Y&&!te){S("/admin");return}const{data:ie}=await Z.from("restaurants").select("*").eq("owner_id",B.id).eq("status","pending").single();if(ie){S("/");return}S("/")}catch(k){console.error("    :",k),S("/")}},O=B=>{const{name:k,value:A}=B.target;d(Y=>({...Y,[k]:A}))},E=()=>{if(!c.email.trim())return x("   "),y("error"),!1;if(!c.email.includes("@"))return x("    "),y("error"),!1;if(!c.password.trim())return x("   "),y("error"),!1;if(!l){if(!c.name.trim())return x("  "),y("error"),!1;if(c.password.length<6)return x("     6   "),y("error"),!1}return!0},L=async B=>{if(B.preventDefault(),!!E()){m(!0),x("");try{if(l){const{data:k,error:A}=await Z.auth.signInWithPassword({email:c.email.trim(),password:c.password});if(A){A.message.includes("Invalid login credentials")?x("      "):A.message.includes("Email not confirmed")?x("    "):A.message.includes("Too many requests")?x("  .   "):x("   : "+A.message),y("error");return}k.user&&(x("   !"),y("success"),setTimeout(async()=>{await T(k.user)},1e3))}else{const{data:k,error:A}=await Z.auth.signUp({email:c.email.trim(),password:c.password,options:{data:{name:c.name.trim(),phone:c.phone.trim(),user_type:"customer"}}});if(A){A.message.includes("already registered")?x("    "):A.message.includes("Password should be at least")?x("     6   "):x("   : "+A.message),y("error");return}k.user&&(x("   !    "),y("success"),d({email:"",password:"",name:"",phone:""}),a(!0))}}catch(k){console.error("  :",k),x("   .    ."),y("error")}finally{m(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:t.jsx("i",{className:"ri-user-line text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:l?n?"   ":" ":"  "}),t.jsx("p",{className:"text-gray-600",children:l?n?"        ":"    ":"    "})]}),g&&t.jsx("div",{className:`mb-6 p-4 rounded-xl border ${p==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:`ri-${p==="success"?"check-circle":"error-warning"}-line`}),t.jsx("span",{children:g})]})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("form",{onSubmit:L,className:"space-y-6",children:[!l&&!n&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:O,required:!l,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"your@email.com"})]}),!l&&!n&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:O,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"+966 50 123 4567"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:_?"text":"password",id:"password",name:"password",value:c.password,onChange:O,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:l?" ":"  (6   )"}),t.jsx("button",{type:"button",onClick:()=>j(!_),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:_?"ri-eye-off-line":"ri-eye-line"})})]})]}),t.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:h?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:l?"  ...":"  ..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:`ri-${l?"login-box":"user-add"}-line`}),t.jsx("span",{children:l?" ":" "})]})})]}),!n&&t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-gray-600",children:[l?"  ":"  ",t.jsx("button",{type:"button",onClick:()=>{a(!l),x(""),d({email:"",password:"",name:"",phone:""})},className:"mr-2 text-orange-600 hover:text-orange-700 font-semibold cursor-pointer",children:l?"  ":" "})]})}),!n&&t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-3",children:"    "}),t.jsx("button",{type:"button",onClick:()=>S("/restaurant-signup"),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-restaurant-line"}),t.jsx("span",{children:"  "})]})})]})})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 mb-2",children:[t.jsx("i",{className:"ri-information-line"}),t.jsx("span",{className:"font-semibold",children:" "})]}),t.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[t.jsx("li",{children:"        "}),t.jsx("li",{children:"      "}),t.jsx("li",{children:"    "})]})]})})]})}),t.jsx(ke,{})]})}function nw(){const l=Pe(),[a,n]=N.useState([]),[i,c]=N.useState(!0),[d,h]=N.useState({name:"",phone:"",address:"",city:"",notes:""}),[m,g]=N.useState("cash"),[x,p]=N.useState(!1),[y,_]=N.useState({}),[j,S]=N.useState(null),[C,v]=N.useState(null);N.useEffect(()=>{T(),O(),E(),L()},[]);const T=async()=>{try{const{data:{user:W}}=await Z.auth.getUser();v(W)}catch(W){console.error("    :",W)}},O=async()=>{try{c(!0);const W=localStorage.getItem("cart");if(!W){n([]),c(!1);return}const F=JSON.parse(W),ae=Object.keys(F);if(ae.length===0){n([]),c(!1);return}const{data:ce,error:M}=await Z.from("products").select("*, restaurants(id, name)").in("id",ae);if(M){console.error("   :",M),n([]),c(!1);return}const Q=ce.map(ee=>({id:ee.id,name:ee.name,restaurant:ee.restaurants?.name||"  ",restaurant_id:ee.restaurant_id,price:ee.price,quantity:F[ee.id],image:ee.image_url||`https://readdy.ai/api/search-image?query=delicious%20$%7Bproduct.name%7D%20food%20dish%20on%20white%20plate%2C%20professional%20food%20photography%2C%20appetizing%20presentation&width=100&height=100&seq=cart-${ee.id}&orientation=squarish`}));n(Q),c(!1)}catch(W){console.error("   :",W),n([]),c(!1)}},E=()=>{try{const W=localStorage.getItem("deliveryInfo");if(W){const F=JSON.parse(W);h(F)}}catch(W){console.error("    :",W)}},L=()=>{try{const W=localStorage.getItem("appliedPromo");W&&S(JSON.parse(W))}catch(W){console.error("   :",W)}},B=()=>{const W={};return d.name.trim()?d.name.trim().length<2&&(W.name="      "):W.name=" ",d.phone.trim()?/^[0-9+\-\s()]{10,15}$/.test(d.phone.trim())||(W.phone="   "):W.phone="  ",d.address.trim()?d.address.trim().length<10&&(W.address="    "):W.address=" ",d.city||(W.city=" "),_(W),Object.keys(W).length===0},k=(W,F)=>{h(ce=>({...ce,[W]:F})),y[W]&&_(ce=>({...ce,[W]:""}));const ae={...d,[W]:F};localStorage.setItem("deliveryInfo",JSON.stringify(ae))},A=a.reduce((W,F)=>W+F.price*F.quantity,0),Y=25,te=j?j.type==="percentage"?A*(j.discount/100):j.discount:0,ie=A+Y-te,Ce=async()=>{if(!B()){const W=Object.keys(y)[0],F=document.querySelector(`[name="${W}"]`);F&&F.scrollIntoView({behavior:"smooth",block:"center"});return}if(a.length===0){alert(" .    .");return}if(!C){alert("    "),l("/auth");return}p(!0);try{const{data:W,error:F}=await Z.from("orders").insert({customer_id:C.id,restaurant_id:a[0]?.restaurant_id||null,status:"pending",subtotal:A,delivery_fee:Y,total:ie,customer_name:d.name,customer_phone:d.phone,delivery_address:d.address,delivery_city:d.city,delivery_latitude:null,delivery_longitude:null,notes:d.notes||null}).select("*").single();if(F||!W)throw console.error("     Supabase:",F),new Error("  .    .");const ae=W.id,ce=a.map(oe=>({order_id:ae,product_id:oe.id,name:oe.name,quantity:oe.quantity,unit_price:oe.price,total_price:oe.price*oe.quantity})),{error:M}=await Z.from("order_items").insert(ce);if(M)throw console.error("      Supabase:",M),new Error("        .");const Q=new Date().toLocaleString("ar-MA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ee={id:ae,user_id:C.id,restaurant:a[0]?.restaurant||" ",items:a.map(oe=>({id:oe.id,name:oe.name,price:oe.price,quantity:oe.quantity,image:oe.image})),total:ie,status:"confirmed",estimatedTime:"30-45 ",orderTime:Q,deliveryInfo:d,paymentMethod:m,subtotal:A,deliveryFee:Y,discount:te,createdAt:new Date().toISOString(),estimatedDelivery:new Date(Date.now()+2700*1e3).toISOString()};await new Promise(oe=>setTimeout(oe,2e3));const ue=JSON.parse(localStorage.getItem("orders")||"[]");ue.push(ee),localStorage.setItem("orders",JSON.stringify(ue)),localStorage.setItem("currentOrder",JSON.stringify(ee)),localStorage.removeItem("cart"),localStorage.removeItem("appliedPromo"),n([]),window.dispatchEvent(new CustomEvent("cartUpdated")),setTimeout(()=>{const oe={...ee,status:"preparing"},R=JSON.parse(localStorage.getItem("orders")||"[]"),P=R.findIndex(X=>X.id===ae);P!==-1&&(R[P]=oe,localStorage.setItem("orders",JSON.stringify(R)),localStorage.setItem("currentOrder",JSON.stringify(oe)))},3e4),l("/track-order",{state:{orderId:ae}})}catch(W){console.error("   :",W),alert("    .    .")}finally{p(!1)}};return i?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8 pt-24",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-loader-4-line text-6xl text-orange-500 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-600",children:"   ..."})]})}),t.jsx(ke,{})]}):a.length===0?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8 pt-24",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-shopping-cart-line text-8xl text-gray-300 mb-6"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:" "}),t.jsx("p",{className:"text-gray-500 mb-8",children:"       "}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:()=>l("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),t.jsx("br",{}),t.jsx("button",{onClick:()=>l("/cart"),className:"text-orange-500 hover:text-orange-600 text-sm cursor-pointer",children:"  "})]})]})}),t.jsx(ke,{})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pt-24",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("button",{onClick:()=>l("/cart"),className:"text-gray-600 hover:text-orange-500 cursor-pointer",children:t.jsx("i",{className:"ri-arrow-right-line text-xl"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[t.jsx("i",{className:"ri-user-line text-orange-500 w-5 h-5 flex items-center justify-center"})," "]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",name:"name",value:d.name,onChange:W=>k("name",W.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm ${y.name?"border-red-500":"border-gray-300"}`,placeholder:"  ",required:!0}),y.name&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:W=>k("phone",W.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm ${y.phone?"border-red-500":"border-gray-300"}`,placeholder:"0612345678",required:!0}),y.phone&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.phone})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",name:"address",value:d.address,onChange:W=>k("address",W.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm ${y.address?"border-red-500":"border-gray-300"}`,placeholder:"     ",required:!0}),y.address&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.address})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),t.jsxs("select",{name:"city",value:d.city,onChange:W=>k("city",W.target.value),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm pr-8 ${y.city?"border-red-500":"border-gray-300"}`,required:!0,children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:" ",children:" "}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]}),y.city&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.city})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("textarea",{value:d.notes,onChange:W=>k("notes",W.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",rows:3,maxLength:500,placeholder:"    ()..."}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.notes.length,"/500 "]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[t.jsx("i",{className:"ri-bank-card-line text-orange-500 w-5 h-5 flex items-center justify-center"})," "]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${m==="cash"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>g("cash"),children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${m==="cash"?"border-orange-500":"border-gray-300"}`,children:m==="cash"&&t.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),t.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-gray-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-800",children:"   "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]})}),t.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${m==="card"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>g("card"),children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${m==="card"?"border-orange-500":"border-gray-300"}`,children:m==="card"&&t.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})}),t.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:t.jsx("i",{className:"ri-bank-card-line text-xl text-gray-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-800",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]})]})})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[t.jsx("i",{className:"ri-file-list-line text-orange-500 w-5 h-5 flex items-center justify-center"})," "]}),t.jsx("div",{className:"space-y-4 mb-6 max-h-64 overflow-y-auto",children:a.map(W=>t.jsxs("div",{className:"flex gap-3 p-2 rounded-lg hover:bg-gray-50",children:[t.jsx("img",{src:W.image,alt:W.name,className:"w-12 h-12 object-cover object-top rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-800 text-sm",children:W.name}),t.jsx("p",{className:"text-xs text-gray-600",children:W.restaurant}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[": ",W.quantity]}),t.jsxs("span",{className:"font-medium text-sm text-orange-600",children:[W.price*W.quantity," DH"]})]})]})]},W.id))}),t.jsxs("div",{className:"space-y-3 mb-6 border-t pt-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[A.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:" "}),t.jsxs("span",{className:"font-medium",children:[Y.toFixed(2)," DH"]})]}),j&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:[" (",j.code,")"]}),t.jsxs("span",{children:["-",te.toFixed(2)," DH"]})]}),t.jsx("div",{className:"border-t pt-3",children:t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:" "}),t.jsxs("span",{className:"text-orange-600",children:[ie.toFixed(2)," DH"]})]})})]}),t.jsx("button",{onClick:Ce,disabled:x,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"}),"  ..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-check-line w-5 h-5 flex items-center justify-center"}),"  (",ie.toFixed(2)," DH)"]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>l("/cart"),className:"text-orange-500 hover:text-orange-600 text-sm cursor-pointer",children:"  "})}),t.jsx("div",{className:"mt-6 pt-4 border-t",children:t.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-time-line text-orange-500 w-4 h-4 flex items-center justify-center"}),t.jsx("span",{children:"  : 30-45 "})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-shield-check-line text-green-500 w-4 h-4 flex items-center justify-center"}),t.jsx("span",{children:"  "})]})]})})]})})]})]}),t.jsx(ke,{})]})}function iw(){const[l,a]=N.useState(null),[n,i]=N.useState(null),[c,d]=N.useState({name:"",phone:""}),[h,m]=N.useState(!0),[g,x]=N.useState(!1),[p,y]=N.useState(""),[_,j]=N.useState("success"),S=Pe();N.useEffect(()=>{C()},[]);const C=async()=>{try{const{data:{user:k}}=await Z.auth.getUser();if(!k){S("/auth");return}const{data:A}=await Z.from("restaurants").select("*").eq("owner_id",k.id).eq("status","approved").single();if(A){S("/restaurant-dashboard");return}const{data:Y}=await Z.from("admins").select("*").eq("email",k.email).single();if(Y){S("/admin");return}a(k),await v(k.id)}catch(k){console.error("    :",k),S("/auth")}},v=async k=>{try{const{data:A,error:Y}=await Z.from("users").select("*").eq("auth_id",k).single();if(Y&&Y.code==="PGRST116"){console.log("    ..."),await T(k);return}Y?(console.error("    :",Y),y("    "),j("error")):A&&(i(A),d({name:A.name,phone:A.phone}))}catch(A){console.error("  :",A),y("   "),j("error")}finally{m(!1)}},T=async k=>{try{const{data:{session:A}}=await Z.auth.getSession();if(!A)throw new Error("   ");const Y=A.user,{data:te,error:ie}=await Z.functions.invoke("create-user",{body:{auth_id:k,name:Y.user_metadata?.name||Y.email?.split("@")[0]||" ",email:Y.email,phone:Y.user_metadata?.phone||""}});if(ie||!te?.success)throw new Error(te?.error||"    ");await v(k)}catch(A){console.error("    :",A),y("     "),j("error"),m(!1)}},O=k=>{const{name:A,value:Y}=k.target;d(te=>({...te,[A]:Y}))},E=()=>c.name.trim()?!0:(y("  "),j("error"),!1),L=async k=>{if(k.preventDefault(),!!E()){x(!0),y("");try{const{error:A}=await Z.from("users").update({name:c.name.trim(),phone:c.phone.trim()}).eq("auth_id",l.id);if(A){console.error("    :",A),y("    "),j("error");return}y("    !"),j("success"),await v(l.id)}catch(A){console.error("  :",A),y("   "),j("error")}finally{x(!1)}}},B=async()=>{try{await Z.auth.signOut(),S("/")}catch(k){console.error("   :",k)}};return h?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-md mx-auto",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:" ..."})]})})}),t.jsx(ke,{})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:t.jsx("i",{className:"ri-user-line text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),p&&t.jsx("div",{className:`mb-6 p-4 rounded-xl border ${_==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:`ri-${_==="success"?"check-circle":"error-warning"}-line`}),t.jsx("span",{children:p})]})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("form",{onSubmit:L,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"email",value:l?.email||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50 text-gray-500 cursor-not-allowed"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:O,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"+966 50 123 4567"})]}),t.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:g?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:" ..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-save-line"}),t.jsx("span",{children:" "})]})})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsx("button",{type:"button",onClick:B,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-logout-box-line"}),t.jsx("span",{children:" "})]})})})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 mb-2",children:[t.jsx("i",{className:"ri-information-line"}),t.jsx("span",{className:"font-semibold",children:" "})]}),t.jsx("p",{className:"text-sm text-blue-600",children:"      .     ."})]})})]})}),t.jsx(ke,{})]})}function lw(){const l=Pe(),[a,n]=N.useState(null),[i,c]=N.useState([]),[d,h]=N.useState(!0),[m,g]=N.useState("all");N.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:{user:j}}=await Z.auth.getUser();if(!j){l("/auth");return}n(j),p(j.id)}catch(j){console.error("    :",j),l("/auth")}},p=j=>{try{const S=localStorage.getItem("orders");if(S){const v=JSON.parse(S).filter(T=>T.user_id===j);c(v.reverse())}}catch(S){console.error("   :",S)}finally{h(!1)}},y=j=>{const S={pending:{text:" ",color:"bg-yellow-100 text-yellow-700",icon:"ri-time-line"},confirmed:{text:" ",color:"bg-blue-100 text-blue-700",icon:"ri-check-line"},preparing:{text:" ",color:"bg-purple-100 text-purple-700",icon:"ri-restaurant-line"},on_the_way:{text:" ",color:"bg-orange-100 text-orange-700",icon:"ri-truck-line"},delivered:{text:" ",color:"bg-green-100 text-green-700",icon:"ri-check-double-line"},cancelled:{text:"",color:"bg-red-100 text-red-700",icon:"ri-close-line"}};return S[j]||S.pending},_=i.filter(j=>m==="all"?!0:m==="active"?!["delivered","cancelled"].includes(j.status):m==="completed"?["delivered","cancelled"].includes(j.status):!0);return d?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}),t.jsx(ke,{})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Re,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-2 mb-6 inline-flex gap-2",children:[t.jsxs("button",{onClick:()=>g("all"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="all"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.length,")"]}),t.jsxs("button",{onClick:()=>g("active"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="active"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>!["delivered","cancelled"].includes(j.status)).length,")"]}),t.jsxs("button",{onClick:()=>g("completed"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="completed"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>["delivered","cancelled"].includes(j.status)).length,")"]})]}),_.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-shopping-bag-line text-8xl text-gray-300"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"  "}),t.jsxs("p",{className:"text-gray-500 mb-8",children:[m==="all"&&"    ",m==="active"&&"    ",m==="completed"&&"   "]}),t.jsx("button",{onClick:()=>l("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]}):t.jsx("div",{className:"space-y-4",children:_.map(j=>{const S=y(j.status);return t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[" #",j.id.split("-")[1]]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S.color} flex items-center gap-1`,children:[t.jsx("i",{className:`${S.icon}`}),S.text]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("i",{className:"ri-calendar-line ml-1"}),new Date(j.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[j.total," DH"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[j.items.length," "]})]})]}),t.jsx("div",{className:"border-t border-gray-100 pt-4 mb-4",children:t.jsxs("div",{className:"space-y-3",children:[j.items.slice(0,2).map((C,v)=>t.jsxs("div",{className:"flex gap-3",children:[t.jsx("img",{src:C.image,alt:C.name,className:"w-16 h-16 object-cover object-top rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-800",children:C.name}),t.jsx("p",{className:"text-sm text-gray-600",children:C.restaurant}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:[": ",C.quantity]}),t.jsxs("span",{className:"font-medium text-orange-600",children:[C.price*C.quantity," DH"]})]})]})]},v)),j.items.length>2&&t.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["+ ",j.items.length-2,"  "]})]})}),t.jsx("div",{className:"border-t border-gray-100 pt-4 mb-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-600 mb-1",children:[t.jsx("i",{className:"ri-map-pin-line ml-1 text-orange-500"}),t.jsx("strong",{children:":"})]}),t.jsxs("p",{className:"text-gray-700 mr-6",children:[j.deliveryInfo.address,", ",j.deliveryInfo.city]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-600 mb-1",children:[t.jsx("i",{className:"ri-phone-line ml-1 text-orange-500"}),t.jsx("strong",{children:":"})]}),t.jsx("p",{className:"text-gray-700 mr-6",children:j.deliveryInfo.phone})]})]})}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[t.jsxs("button",{onClick:()=>l("/track-order",{state:{orderId:j.id}}),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-map-pin-line"})," "]}),t.jsxs("button",{className:"px-6 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-file-list-line"}),""]})]})]})},j.id)})})]}),t.jsx(ke,{})]})}function ow(){const l=Pe(),[a,n]=N.useState(null),[i,c]=N.useState([]),[d,h]=N.useState(!0),[m,g]=N.useState("all");N.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:{user:j}}=await Z.auth.getUser();if(!j){l("/auth");return}n(j),p()}catch(j){console.error("    :",j),l("/auth")}},p=()=>{try{const j=localStorage.getItem("favorites");if(j){const S=JSON.parse(j);c(S)}}catch(j){console.error("   :",j)}finally{h(!1)}},y=j=>{const S=i.filter(C=>C.id!==j);c(S),localStorage.setItem("favorites",JSON.stringify(S))},_=i.filter(j=>m==="all"?!0:m==="restaurants"?j.type==="restaurant":m==="products"?j.type==="product":!0);return d?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Re,{}),t.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}),t.jsx(ke,{})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[t.jsx(Re,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-2 mb-6 inline-flex gap-2",children:[t.jsxs("button",{onClick:()=>g("all"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="all"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.length,")"]}),t.jsxs("button",{onClick:()=>g("restaurants"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="restaurants"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>j.type==="restaurant").length,")"]}),t.jsxs("button",{onClick:()=>g("products"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${m==="products"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[" (",i.filter(j=>j.type==="product").length,")"]})]}),_.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-heart-line text-8xl text-gray-300"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"  "}),t.jsxs("p",{className:"text-gray-500 mb-8",children:[m==="all"&&"      ",m==="restaurants"&&"    ",m==="products"&&"    "]}),t.jsx("button",{onClick:()=>l("/restaurants"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(j=>t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:j.image,alt:j.name,className:"w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"}),t.jsx("button",{onClick:()=>y(j.id),className:"absolute top-3 left-3 w-10 h-10 bg-white hover:bg-red-50 rounded-full flex items-center justify-center shadow-lg transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-heart-fill text-xl text-red-500"})}),j.type==="restaurant"&&t.jsx("div",{className:"absolute top-3 right-3 bg-white px-3 py-1 rounded-full shadow-lg",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500 text-sm"}),t.jsx("span",{className:"font-medium text-sm",children:j.rating})]})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1",children:j.name}),t.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${j.type==="restaurant"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:j.type==="restaurant"?"":""})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:j.description}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:j.type==="restaurant"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("i",{className:"ri-time-line text-orange-500"}),t.jsx("span",{children:j.deliveryTime})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("i",{className:"ri-e-bike-line text-orange-500"}),t.jsx("span",{children:j.deliveryFee===0?"":`${j.deliveryFee} DH`})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500 text-sm"}),t.jsx("span",{className:"font-medium text-sm",children:j.rating})]}),t.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[j.price," DH"]})]})}),t.jsxs("button",{onClick:()=>{j.type,l("/restaurant")},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:j.type==="restaurant"?"ri-restaurant-line":"ri-shopping-cart-line"}),t.jsx("span",{children:j.type==="restaurant"?" ":" "})]})]}),t.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[t.jsx("i",{className:"ri-calendar-line ml-1"}),"  ",new Date(j.addedAt).toLocaleDateString("ar-SA")]})})]},j.id))})]}),t.jsx(ke,{})]})}function cw(){const[l,a]=N.useState({restaurantName:"",ownerName:"",email:"",phone:"",password:"",confirmPassword:"",address:"",city:"",cuisineType:"",description:"",businessLicense:"",message:"",latitude:0,longitude:0}),[n,i]=N.useState(null),[c,d]=N.useState(null),[h,m]=N.useState(!1),[g,x]=N.useState(!1),[p,y]=N.useState(!1),[_,j]=N.useState(!1),S=Pe(),C=B=>{const{name:k,value:A}=B.target;a(Y=>({...Y,[k]:A}))},v=()=>{if(j(!0),navigator.geolocation){const B={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(async k=>{const{latitude:A,longitude:Y}=k.coords;a(te=>({...te,latitude:A,longitude:Y})),j(!1)},k=>{console.error("   :",k);let A="    ";switch(k.code){case k.PERMISSION_DENIED:A="    ";break;case k.POSITION_UNAVAILABLE:A="   ";break;case k.TIMEOUT:A="   ";break}alert(A),j(!1)},B)}else alert("    "),j(!1)},T=B=>{const k=B.target.files?.[0];if(k){if(!k.type.startsWith("image/")){alert("   ");return}if(k.size>5*1024*1024){alert("     5 ");return}i(k);const A=new FileReader;A.onloadend=()=>{d(A.result)},A.readAsDataURL(k)}},O=()=>{i(null),d(null)},E=()=>l.restaurantName.trim()?l.ownerName.trim()?l.email.trim()?l.email.includes("@")?l.phone.trim()?l.password.trim()?l.password.length<6?(alert("     6   "),!1):l.password!==l.confirmPassword?(alert("      "),!1):l.address.trim()?l.city.trim()?l.cuisineType?!0:(alert("   "),!1):(alert("  "),!1):(alert("  "),!1):(alert("   "),!1):(alert("   "),!1):(alert("    "),!1):(alert("   "),!1):(alert("   "),!1):(alert("   "),!1),L=async B=>{if(B.preventDefault(),!!E()){m(!0);try{const{data:k,error:A}=await Z.auth.signUp({email:l.email.trim(),password:l.password,options:{data:{name:l.ownerName.trim(),phone:l.phone.trim(),user_type:"restaurant_owner"}}});if(A){A.message.includes("already registered")?alert("    "):alert("   : "+A.message);return}if(!k.user){alert("   ");return}let Y="";if(n){const ie=n.name.split(".").pop(),Ce=`${Date.now()}.${ie}`,{data:W,error:F}=await Z.storage.from("restaurant-images").upload(Ce,n);if(F)console.error("   :",F);else{const{data:{publicUrl:ae}}=Z.storage.from("restaurant-images").getPublicUrl(Ce);Y=ae}}const{error:te}=await Z.from("restaurants").insert({name:l.restaurantName.trim(),owner_name:l.ownerName.trim(),email:l.email.trim(),phone:l.phone.trim(),address:l.address.trim(),city:l.city.trim(),cuisine_type:l.cuisineType,description:l.description.trim()||null,business_license:l.businessLicense.trim()||null,message:l.message.trim()||null,latitude:l.latitude||0,longitude:l.longitude||0,image_url:Y||null,status:"pending",owner_id:k.user.id,rating:0,delivery_time:"30-45 ",delivery_fee:15,is_open:!1});if(te){console.error("    :",te),alert("        .    .");return}alert("   !         ."),a({restaurantName:"",ownerName:"",email:"",phone:"",password:"",confirmPassword:"",address:"",city:"",cuisineType:"",description:"",businessLicense:"",message:"",latitude:0,longitude:0}),i(null),d(null),setTimeout(()=>{S("/auth")},2e3)}catch(k){console.error("  :",k),alert("   .    .")}finally{m(!1)}}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-orange-500 to-orange-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:t.jsx("i",{className:"ri-restaurant-line text-3xl text-white"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"   "}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"        "}),t.jsxs("div",{className:"mt-8 p-4 bg-orange-50 border border-orange-200 rounded-xl max-w-lg mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-700 mb-2",children:[t.jsx("i",{className:"ri-user-line text-lg"}),t.jsx("span",{className:"font-semibold",children:"   "})]}),t.jsx("p",{className:"text-sm text-orange-600 mb-3",children:"           "}),t.jsxs("button",{onClick:()=>S("/auth?mode=restaurant"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-login-box-line"}),t.jsx("span",{children:"   "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:" "}),t.jsxs("form",{className:"space-y-6",onSubmit:L,children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("div",{className:"flex flex-col items-center gap-4",children:c?t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("img",{src:c,alt:"  ",className:"w-full h-64 object-cover rounded-xl border-2 border-gray-200"}),t.jsx("button",{type:"button",onClick:O,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full flex items-center justify-center cursor-pointer",children:t.jsx("i",{className:"ri-close-line"})})]}):t.jsxs("label",{className:"w-full max-w-md h-64 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-orange-500 transition-colors",children:[t.jsx("i",{className:"ri-image-add-line text-5xl text-gray-400 mb-2"}),t.jsx("span",{className:"text-gray-600 font-medium",children:"  "}),t.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG  5 "}),t.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden"})]})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("button",{type:"button",onClick:v,disabled:_,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[t.jsx("i",{className:`ri-map-pin-line text-xl ${_?"animate-pulse":""}`}),t.jsx("span",{children:_?"  ...":"  "})]}),(l.latitude!==0||l.longitude!==0)&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[t.jsx("i",{className:"ri-check-circle-line"}),t.jsx("span",{className:"font-medium",children:"   "})]}),t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" : ",l.latitude.toFixed(6)," |  : ",l.longitude.toFixed(6)]})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"restaurantName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"restaurantName",name:"restaurantName",value:l.restaurantName,onChange:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:l.ownerName,onChange:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:" "})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"+966 50 123 4567"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:g?"text":"password",id:"password",name:"password",value:l.password,onChange:C,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"   (6   )"}),t.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:g?"ri-eye-off-line":"ri-eye-line"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"   *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:l.confirmPassword,onChange:C,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"   "}),t.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:p?"ri-eye-off-line":"ri-eye-line"})})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"}),t.jsx("input",{type:"text",id:"address",name:"address",value:l.address,onChange:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"  "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"city",className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"}),t.jsx("input",{type:"text",id:"city",name:"city",value:l.city,onChange:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cuisineType",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  *"}),t.jsxs("select",{id:"cuisineType",name:"cuisineType",value:l.cuisineType,onChange:C,required:!0,className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",children:[t.jsx("option",{value:"",children:"  "}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:" ",children:" "}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:C,rows:4,maxLength:500,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 resize-none",placeholder:"   ..."}),t.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[l.description.length,"/500 "]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"businessLicense",className:"block text-sm font-semibold text-gray-700 mb-2",children:"  "}),t.jsx("input",{type:"text",id:"businessLicense",name:"businessLicense",value:l.businessLicense,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"    "})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),t.jsx("textarea",{id:"message",name:"message",value:l.message,onChange:C,rows:3,maxLength:500,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 resize-none",placeholder:"   ..."}),t.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[l.message.length,"/500 "]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[t.jsx("button",{type:"button",onClick:()=>S("/"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap",children:" "}),t.jsx("button",{type:"submit",disabled:h,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-xl font-semibold transition-all duration-200 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:h?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:" ..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-send-plane-line"}),t.jsx("span",{children:" "})]})})]})]})]}),t.jsx("div",{className:"text-center mt-8",children:t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 mb-3",children:[t.jsx("i",{className:"ri-information-line text-xl"}),t.jsx("h3",{className:"font-semibold",children:" "})]}),t.jsxs("ul",{className:"text-sm text-blue-600 space-y-2 text-right",children:[t.jsx("li",{children:"     24-48 "}),t.jsx("li",{children:"      "}),t.jsx("li",{children:"       "}),t.jsx("li",{children:"         "})]})]})})]})})}function dw(){const l=Pe(),[a,n]=N.useState(""),[i,c]=N.useState(""),[d,h]=N.useState(!1),[m,g]=N.useState(""),x=async p=>{p.preventDefault(),h(!0),g("");try{const{data:y,error:_}=await Z.auth.signInWithPassword({email:a,password:i});if(_)throw _;if(y.user){const{data:j,error:S}=await Z.from("restaurants").select("*").eq("owner_id",y.user.id).single();if(S||!j)throw await Z.auth.signOut(),new Error("     ");if(j.status==="pending")throw await Z.auth.signOut(),new Error("  .     ");if(j.status==="rejected")throw await Z.auth.signOut(),new Error("      ");l("/restaurant-dashboard",{replace:!0})}}catch(y){g(y.message||"    ")}finally{h(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Re,{}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 pt-24 pb-16",children:t.jsx("div",{className:"max-w-md mx-auto px-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-restaurant-2-line text-4xl text-orange-600"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"   "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),m&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-red-800 text-sm",children:[t.jsx("i",{className:"ri-error-warning-line ml-2"}),m]})}),t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"email",value:a,onChange:p=>n(p.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"example@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"password",value:i,onChange:p=>c(p.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:""})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:d?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"}),"  ..."]}):" "}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["   "," ",t.jsx("a",{href:"/restaurant-signup",className:"text-orange-500 hover:text-orange-600 font-medium cursor-pointer",children:"  "})]})})]})]})})}),t.jsx(ke,{})]})}function uw({user:l,onToggleSidebar:a}){const n=Pe(),[i,c]=N.useState(!1),d=async()=>{await Z.auth.signOut(),n("/")};return t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:a,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-menu-line text-xl text-gray-600"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-admin-line text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Panneau d'Administration"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Gestion complte du site"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-notification-line text-xl text-gray-600"}),t.jsx("span",{className:"absolute -top-1 -left-1 w-3 h-3 bg-red-500 rounded-full"})]}),t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:t.jsx("i",{className:"ri-settings-line text-xl text-gray-600"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>c(!i),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-orange-600"})}),t.jsxs("div",{className:"text-left hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:l?.email}),t.jsx("p",{className:"text-xs text-gray-500",children:"Administrateur"})]}),t.jsx("i",{className:"ri-arrow-down-s-line text-gray-400"})]}),i&&t.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("button",{onClick:()=>{n("/"),c(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-home-line text-lg"}),"Retour au Site"]}),t.jsxs("button",{onClick:()=>c(!1),className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-user-settings-line text-lg"}),"Paramtres du Compte"]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{onClick:d,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center gap-3 cursor-pointer",children:[t.jsx("i",{className:"ri-logout-box-line text-lg"}),"Dconnexion"]})]})]})]})]})})})}function hw({activeTab:l,onTabChange:a,isOpen:n}){const i=[{id:"dashboard",label:"Tableau de Bord",icon:"ri-dashboard-line",description:"Vue d'ensemble des statistiques"},{id:"restaurants",label:"Gestion Restaurants",icon:"ri-restaurant-line",description:"Grer les restaurants et approbations"},{id:"products",label:"Gestion Produits",icon:"ri-shopping-bag-line",description:"Grer les produits et prix"},{id:"orders",label:"Gestion Commandes",icon:"ri-file-list-line",description:"Suivre et grer les commandes"},{id:"users",label:"Gestion Utilisateurs",icon:"ri-user-line",description:"Grer les comptes clients"},{id:"drivers",label:"Gestion Livreurs",icon:"ri-truck-line",description:"Grer les livreurs"},{id:"analytics",label:"Analyses et Rapports",icon:"ri-bar-chart-line",description:"Rapports dtaills et statistiques"}];return t.jsxs(t.Fragment,{children:[n&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>{}}),t.jsxs("aside",{className:`
        fixed top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white shadow-lg border-r border-gray-200 z-40
        transform transition-transform duration-300 ease-in-out
        ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        lg:sticky lg:top-16
      `,children:[t.jsx("div",{className:"p-6",children:t.jsx("nav",{className:"space-y-2",children:i.map(c=>t.jsx("button",{onClick:()=>a(c.id),className:`
                  w-full text-left p-4 rounded-lg transition-all duration-200 cursor-pointer
                  ${l===c.id?"bg-orange-50 text-orange-600 border-l-4 border-orange-500":"text-gray-700 hover:bg-gray-50 hover:text-orange-600"}
                `,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:`${c.icon} text-xl`}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("div",{className:"font-medium",children:c.label}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:c.description})]})]})},c.id))})}),t.jsxs("div",{className:"p-6 border-t border-gray-200",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Statistiques Rapides"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Restaurants Actifs"}),t.jsx("span",{className:"text-sm font-medium text-green-600",children:"24"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Commandes du Jour"}),t.jsx("span",{className:"text-sm font-medium text-blue-600",children:"156"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Nouveaux Utilisateurs"}),t.jsx("span",{className:"text-sm font-medium text-purple-600",children:"12"})]})]})]})]})]})}function Ig(){const[l,a]=N.useState({totalRestaurants:0,totalUsers:0,totalOrders:0,totalRevenue:0,pendingApprovals:0,activeDrivers:0}),[n,i]=N.useState(!0),[c,d]=N.useState([]),[h,m]=N.useState([]);N.useEffect(()=>{g()},[]);const g=async()=>{try{const{count:p}=await Z.from("restaurants").select("*",{count:"exact",head:!0}),{count:y}=await Z.from("users").select("*",{count:"exact",head:!0}),{count:_}=await Z.from("drivers").select("*",{count:"exact",head:!0}),{data:j}=await Z.from("restaurants").select("*").order("created_at",{ascending:!1}).limit(5);a({totalRestaurants:p||0,totalUsers:y||0,totalOrders:156,totalRevenue:45230,pendingApprovals:8,activeDrivers:_||0}),m(j||[])}catch(p){console.error("Erreur lors du chargement des donnes:",p)}finally{i(!1)}},x=[{title:"Total Restaurants",value:l.totalRestaurants,icon:"ri-restaurant-line",color:"bg-blue-500",change:"+12%",changeType:"positive"},{title:"Total Utilisateurs",value:l.totalUsers,icon:"ri-user-line",color:"bg-green-500",change:"+8%",changeType:"positive"},{title:"Commandes du Jour",value:l.totalOrders,icon:"ri-file-list-line",color:"bg-orange-500",change:"+15%",changeType:"positive"},{title:"Revenus Mensuels",value:`${l.totalRevenue.toLocaleString()} DH`,icon:"ri-money-dollar-circle-line",color:"bg-purple-500",change:"+23%",changeType:"positive"},{title:"En Attente",value:l.pendingApprovals,icon:"ri-time-line",color:"bg-yellow-500",change:"-5%",changeType:"negative"},{title:"Livreurs Actifs",value:l.activeDrivers,icon:"ri-truck-line",color:"bg-teal-500",change:"+3%",changeType:"positive"}];return n?t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,y)=>t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})},y))})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de Bord"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Vue d'ensemble des performances de la plateforme"})]}),t.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Actualiser les Donnes"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((p,y)=>t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:p.title}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:p.value}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx("span",{className:`text-sm font-medium ${p.changeType==="positive"?"text-green-600":"text-red-600"}`,children:p.change}),t.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"du mois dernier"})]})]}),t.jsx("div",{className:`w-12 h-12 ${p.color} rounded-lg flex items-center justify-center`,children:t.jsx("i",{className:`${p.icon} text-white text-xl`})})]})},y))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dernires Commandes"}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium cursor-pointer",children:"Voir Tout"})]}),t.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(p=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-line text-orange-600"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:["Commande #",1e3+p]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Restaurant La Mer Blanche"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:"45.50 DH"}),t.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Termin"})]})]},p))})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nouveaux Restaurants"}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium cursor-pointer",children:"Voir Tout"})]}),t.jsx("div",{className:"space-y-4",children:h.slice(0,4).map(p=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:p.name}),t.jsx("p",{className:"text-sm text-gray-500",children:p.cuisine_type})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${p.status==="approved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.status==="approved"?"Actif":"En Attente"})})]},p.id))})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions Rapides"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-add-line text-2xl text-orange-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Ajouter Restaurant"})]}),t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-user-add-line text-2xl text-blue-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Ajouter Utilisateur"})]}),t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-file-download-line text-2xl text-green-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Exporter Rapports"})]}),t.jsxs("button",{className:"p-4 text-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-settings-line text-2xl text-purple-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Paramtres Systme"})]})]})]})]})}function fw(){const[l,a]=N.useState([]),[n,i]=N.useState(!0),[c,d]=N.useState(""),[h,m]=N.useState("all"),[g,x]=N.useState(null),[p,y]=N.useState(!1);N.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:A,error:Y}=await Z.from("restaurants").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const te=(A||[]).map(ie=>({...ie,status:ie.status||"approved",owner_name:ie.owner_name||" ",owner_email:ie.owner_email||" ",owner_phone:ie.owner_phone||ie.phone||" "}));a(te)}catch(A){console.error("   :",A)}finally{i(!1)}},j=async(A,Y)=>{try{const{error:te}=await Z.from("restaurants").update({status:Y}).eq("id",A);if(te)throw te;await _(),alert({approved:"   ",rejected:"  ",suspended:"  "}[Y]||"   ")}catch(te){console.error("    :",te),alert("     ")}},S=async A=>{if(confirm("            ."))try{const{error:Y}=await Z.from("restaurants").delete().eq("id",A);if(Y)throw Y;a(te=>te.filter(ie=>ie.id!==A)),alert("   ")}catch(Y){console.error("   :",Y),alert("    ")}},C=l.filter(A=>{const Y=A.name.toLowerCase().includes(c.toLowerCase())||(A.owner_name||"").toLowerCase().includes(c.toLowerCase())||(A.owner_email||"").toLowerCase().includes(c.toLowerCase()),te=h==="all"||A.status===h;return Y&&te}),v=l.filter(A=>A.status==="pending").length,T=l.filter(A=>A.status==="approved").length,O=l.filter(A=>A.status==="rejected").length,E=l.filter(A=>A.status==="suspended").length;if(n)return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 animate-pulse"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((A,Y)=>t.jsx("div",{className:"h-20 bg-gray-200 rounded animate-pulse"},Y))}),t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((A,Y)=>t.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},Y))})]});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Restaurants"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Grer et approuver les demandes de nouveaux restaurants"})]}),v>0&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:t.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[t.jsx("i",{className:"ri-notification-2-line"}),t.jsxs("span",{className:"font-medium",children:[v," demande en attente"]})]})})]}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher un restaurant, propritaire ou email...",value:c,onChange:A=>d(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),t.jsx("div",{className:"md:w-48",children:t.jsxs("select",{value:h,onChange:A=>m(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 pr-8",children:[t.jsx("option",{value:"all",children:"Tous les statuts"}),t.jsxs("option",{value:"pending",children:["En attente (",v,")"]}),t.jsxs("option",{value:"approved",children:["Approuv (",T,")"]}),t.jsxs("option",{value:"rejected",children:["Rejet (",O,")"]}),t.jsxs("option",{value:"suspended",children:["Suspendu (",E,")"]})]})})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Restaurants"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"En Attente"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:v})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-check-line text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Approuv"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:T})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-close-line text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Rejet"}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:O})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Propritaire"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type de Cuisine"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'Inscription"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(A=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-orange-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:A.name}),t.jsx("p",{className:"text-sm text-gray-500",children:A.description||""})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:A.owner_name||"Non spcifi"}),t.jsx("p",{className:"text-sm text-gray-500",children:A.owner_email||"Non spcifi"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-gray-900",children:A.cuisine_type})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${L(A.status)}`,children:[t.jsx("i",{className:B(A.status)}),k(A.status)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(A.created_at).toLocaleDateString("fr-FR")}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>x(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"Voir les dtails",children:t.jsx("i",{className:"ri-eye-line"})}),A.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>j(A.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors cursor-pointer",title:"Approuver",children:t.jsx("i",{className:"ri-check-line"})}),t.jsx("button",{onClick:()=>j(A.id,"rejected"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"Rejeter",children:t.jsx("i",{className:"ri-close-line"})})]}),A.status==="approved"&&t.jsx("button",{onClick:()=>j(A.id,"suspended"),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer",title:"Suspendre",children:t.jsx("i",{className:"ri-pause-line"})}),A.status==="suspended"&&t.jsx("button",{onClick:()=>j(A.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors cursor-pointer",title:"Ractiver",children:t.jsx("i",{className:"ri-play-line"})}),t.jsx("button",{onClick:()=>S(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"Supprimer",children:t.jsx("i",{className:"ri-delete-bin-line"})})]})})]},A.id))})]})}),C.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"Aucun restaurant trouv"})]})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dtails du Restaurant"}),t.jsx("button",{onClick:()=>x(null),className:"p-2 text-gray-400 hover:text-gray-600 cursor-pointer",children:t.jsx("i",{className:"ri-close-line text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du Restaurant"}),t.jsx("p",{className:"text-gray-900",children:g.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Cuisine"}),t.jsx("p",{className:"text-gray-900",children:g.cuisine_type})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du Propritaire"}),t.jsx("p",{className:"text-gray-900",children:g.owner_name||"Non spcifi"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email du Propritaire"}),t.jsx("p",{className:"text-gray-900",children:g.owner_email||"Non spcifi"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),t.jsx("p",{className:"text-gray-900",children:g.phone||"Non spcifi"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${L(g.status)}`,children:[t.jsx("i",{className:B(g.status)}),k(g.status)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),t.jsx("p",{className:"text-gray-900",children:g.address||"Non spcifie"})]}),g.description&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("p",{className:"text-gray-900",children:g.description})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'Inscription"}),t.jsx("p",{className:"text-gray-900",children:new Date(g.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),g.status==="pending"&&t.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{j(g.id,"approved"),x(null)},className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-check-line mr-2"}),"Approuver"]}),t.jsxs("button",{onClick:()=>{j(g.id,"rejected"),x(null)},className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors cursor-pointer",children:[t.jsx("i",{className:"ri-close-line mr-2"}),"Rejeter"]})]})]})})]});function L(A){switch(A){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"suspended":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function B(A){switch(A){case"pending":return"ri-time-line";case"approved":return"ri-check-line";case"rejected":return"ri-close-line";case"suspended":return"ri-pause-line";default:return"ri-question-line"}}function k(A){switch(A){case"pending":return"En attente";case"approved":return"Approuv";case"rejected":return"Rejet";case"suspended":return"Suspendu";default:return"Inconnu"}}}function mw(){const[l,a]=N.useState([]),[n,i]=N.useState([]),[c,d]=N.useState(!0),[h,m]=N.useState(""),[g,x]=N.useState(""),[p,y]=N.useState("");N.useEffect(()=>{_()},[]);const _=async()=>{try{d(!0);const{data:L,error:B}=await Z.from("products").select(`
          *,
          restaurants (name)
        `).order("created_at",{ascending:!1});if(B)throw B;const{data:k,error:A}=await Z.from("restaurants").select("id, name").order("name");if(A)throw A;a(L||[]),i(k||[])}catch(L){console.error("Erreur lors du chargement des donnes:",L)}finally{d(!1)}},j=async L=>{if(confirm("tes-vous sr de vouloir supprimer ce produit ?"))try{const{error:B}=await Z.from("products").delete().eq("id",L);if(B)throw B;a(l.filter(k=>k.id!==L))}catch(B){console.error("Erreur lors de la suppression:",B),alert("Erreur lors de la suppression du produit")}},S=async(L,B)=>{try{const{error:k}=await Z.from("products").update({is_active:!B}).eq("id",L);if(k)throw k;a(l.map(A=>A.id===L?{...A,is_active:!B}:A))}catch(k){console.error("Erreur lors de la mise  jour:",k),alert("Erreur lors de la mise  jour du statut")}},C=l.filter(L=>{const B=L.name.toLowerCase().includes(h.toLowerCase())||L.description?.toLowerCase().includes(h.toLowerCase())||L.restaurants?.name.toLowerCase().includes(h.toLowerCase()),k=!g||L.restaurant_id===g,A=!p||L.category===p;return B&&k&&A}),v=[...new Set(l.map(L=>L.category).filter(Boolean))],T=l.length,O=l.filter(L=>L.is_active).length,E=l.length>0?l.reduce((L,B)=>L+B.price,0)/l.length:0;return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Produits"}),t.jsx("p",{className:"text-gray-600",children:"Grer tous les produits du systme"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-restaurant-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Produits"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-checkbox-circle-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Produits Actifs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-yellow-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prix Moyen"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[E.toFixed(2)," dh"]})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher un produit ou restaurant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:h,onChange:L=>m(L.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurant"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:g,onChange:L=>x(L.target.value),children:[t.jsx("option",{value:"",children:"Tous les restaurants"}),n.map(L=>t.jsx("option",{value:L.id,children:L.name},L.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catgorie"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:p,onChange:L=>y(L.target.value),children:[t.jsx("option",{value:"",children:"Toutes les catgories"}),v.map(L=>t.jsx("option",{value:L,children:L},L))]})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catgorie"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(L=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:t.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:L.image_url||"/placeholder-food.jpg",alt:L.name})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),t.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:L.description||"Aucune description"})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.restaurants?.name||"Non spcifi"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.category||"Non spcifi"}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[L.price," dh"]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.is_active?"Actif":"Inactif"})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[t.jsx("button",{onClick:()=>S(L.id,L.is_active),className:`px-3 py-1 rounded text-xs font-medium ${L.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:L.is_active?"Dsactiver":"Activer"}),t.jsx("button",{onClick:()=>j(L.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-xs font-medium hover:bg-red-200",children:"Supprimer"})]})]},L.id))})]})}),C.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun produit trouv"}),t.jsx("p",{className:"text-gray-500",children:"Aucun produit ne correspond  vos critres de recherche."})]})]})]})}function gw(){const[l,a]=N.useState([]),[n,i]=N.useState(!0),[c,d]=N.useState(""),[h,m]=N.useState(""),[g,x]=N.useState(null);N.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0);const O=[{id:"1",user_id:"user1",restaurant_id:"rest1",total_amount:125.5,status:"en_preparation",delivery_address:"123 Rue de la Paix, Paris",created_at:new Date().toISOString(),items:[{id:"1",product_name:"Pizza Margherita",quantity:2,price:45},{id:"2",product_name:"Salade Csar",quantity:1,price:35.5}],users:{full_name:"Jean Dupont",email:"jean@email.com"},restaurants:{name:"Pizzeria Roma"}},{id:"2",user_id:"user2",restaurant_id:"rest2",total_amount:89,status:"livree",delivery_address:"456 Avenue des Champs, Lyon",created_at:new Date(Date.now()-864e5).toISOString(),items:[{id:"3",product_name:"Burger Deluxe",quantity:1,price:65},{id:"4",product_name:"Frites",quantity:1,price:24}],users:{full_name:"Marie Martin",email:"marie@email.com"},restaurants:{name:"Burger House"}},{id:"3",user_id:"user3",restaurant_id:"rest3",total_amount:156.75,status:"en_livraison",delivery_address:"789 Boulevard Saint-Germain, Marseille",created_at:new Date(Date.now()-36e5).toISOString(),items:[{id:"5",product_name:"Sushi Mix",quantity:1,price:95},{id:"6",product_name:"Soupe Miso",quantity:2,price:30.75}],users:{full_name:"Pierre Dubois",email:"pierre@email.com"},restaurants:{name:"Sushi Tokyo"}}];a(O)}catch(O){console.error("Erreur lors du chargement des commandes:",O)}finally{i(!1)}},y=async(O,E)=>{try{a(l.map(L=>L.id===O?{...L,status:E}:L))}catch(L){console.error("Erreur lors de la mise  jour:",L),alert("Erreur lors de la mise  jour du statut")}},_=O=>{switch(O){case"en_attente":return"bg-yellow-100 text-yellow-800";case"confirmee":return"bg-blue-100 text-blue-800";case"en_preparation":return"bg-orange-100 text-orange-800";case"en_livraison":return"bg-purple-100 text-purple-800";case"livree":return"bg-green-100 text-green-800";case"annulee":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=O=>{switch(O){case"en_attente":return"En Attente";case"confirmee":return"Confirme";case"en_preparation":return"En Prparation";case"en_livraison":return"En Livraison";case"livree":return"Livre";case"annulee":return"Annule";default:return O}},S=l.filter(O=>{const E=O.users?.full_name.toLowerCase().includes(c.toLowerCase())||O.restaurants?.name.toLowerCase().includes(c.toLowerCase())||O.id.toLowerCase().includes(c.toLowerCase()),L=!h||O.status===h;return E&&L}),C=l.length,v=l.filter(O=>new Date(O.created_at).toDateString()===new Date().toDateString()).length,T=l.reduce((O,E)=>O+E.total_amount,0);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Commandes"}),t.jsx("p",{className:"text-gray-600",children:"Grer et suivre toutes les commandes"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-shopping-bag-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Commandes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-calendar-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commandes Aujourd'hui"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-yellow-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus Total"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[T.toFixed(2)," dh"]})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher par client, restaurant ou ID...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:c,onChange:O=>d(O.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:h,onChange:O=>m(O.target.value),children:[t.jsx("option",{value:"",children:"Tous les statuts"}),t.jsx("option",{value:"en_attente",children:"En Attente"}),t.jsx("option",{value:"confirmee",children:"Confirme"}),t.jsx("option",{value:"en_preparation",children:"En Prparation"}),t.jsx("option",{value:"en_livraison",children:"En Livraison"}),t.jsx("option",{value:"livree",children:"Livre"}),t.jsx("option",{value:"annulee",children:"Annule"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Commande"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(O=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",O.id]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.users?.full_name||"Non spcifi"}),t.jsx("div",{className:"text-sm text-gray-500",children:O.users?.email||"Non spcifi"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:O.restaurants?.name||"Non spcifi"}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[O.total_amount.toFixed(2)," dh"]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(O.status)}`,children:j(O.status)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(O.created_at).toLocaleDateString("fr-FR")}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[t.jsx("button",{onClick:()=>x(O),className:"text-blue-600 hover:text-blue-900",children:"Voir dtails"}),O.status!=="livree"&&O.status!=="annulee"&&t.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:O.status,onChange:E=>y(O.id,E.target.value),children:[t.jsx("option",{value:"en_attente",children:"En Attente"}),t.jsx("option",{value:"confirmee",children:"Confirme"}),t.jsx("option",{value:"en_preparation",children:"En Prparation"}),t.jsx("option",{value:"en_livraison",children:"En Livraison"}),t.jsx("option",{value:"livree",children:"Livre"}),t.jsx("option",{value:"annulee",children:"Annule"})]})]})]},O.id))})]})}),S.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-shopping-bag-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune commande trouve"}),t.jsx("p",{className:"text-gray-500",children:"Aucune commande ne correspond  vos critres de recherche."})]})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Dtails de la Commande #",g.id]}),t.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx("i",{className:"ri-close-line text-xl"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informations Client"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Nom:"})," ",g.users?.full_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",g.users?.email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Adresse de livraison:"})," ",g.delivery_address]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Restaurant"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("p",{children:[t.jsx("strong",{children:"Nom:"})," ",g.restaurants?.name]})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Articles Commands"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[g.items.map(O=>t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:O.product_name}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Quantit: ",O.quantity]})]}),t.jsxs("p",{className:"font-medium",children:[(O.price*O.quantity).toFixed(2)," dh"]})]},O.id)),t.jsxs("div",{className:"flex justify-between items-center pt-4 mt-4 border-t border-gray-300",children:[t.jsx("p",{className:"text-lg font-bold",children:"Total:"}),t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[g.total_amount.toFixed(2)," dh"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Statut de la Commande"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${_(g.status)}`,children:j(g.status)}),t.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Command le: ",new Date(g.created_at).toLocaleString("fr-FR")]})]})]})]})]})})})]})}function xw(){const[l,a]=N.useState([]),[n,i]=N.useState(!0),[c,d]=N.useState(""),[h,m]=N.useState("");N.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const{data:C,error:v}=await Z.from("users").select("*").order("created_at",{ascending:!1});if(v)throw v;a(C||[])}catch(C){console.error("Erreur lors du chargement des utilisateurs:",C)}finally{i(!1)}},x=async(C,v)=>{try{const{error:T}=await Z.from("users").update({is_active:!v}).eq("id",C);if(T)throw T;a(l.map(O=>O.id===C?{...O,is_active:!v}:O))}catch(T){console.error("Erreur lors de la mise  jour:",T),alert("Erreur lors de la mise  jour du statut")}},p=async C=>{if(confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{const{error:v}=await Z.from("users").delete().eq("id",C);if(v)throw v;a(l.filter(T=>T.id!==C))}catch(v){console.error("Erreur lors de la suppression:",v),alert("Erreur lors de la suppression de l'utilisateur")}},y=l.filter(C=>{const v=C.full_name?.toLowerCase().includes(c.toLowerCase())||C.email?.toLowerCase().includes(c.toLowerCase())||C.phone?.includes(c),T=h===""||h==="active"&&C.is_active||h==="inactive"&&!C.is_active;return v&&T}),_=l.length,j=l.filter(C=>C.is_active).length,S=l.filter(C=>{const v=new Date(C.created_at),T=new Date;return v.getMonth()===T.getMonth()&&v.getFullYear()===T.getFullYear()}).length;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),t.jsx("p",{className:"text-gray-600",children:"Grer tous les utilisateurs de la plateforme"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-user-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Utilisateurs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-user-check-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs Actifs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx("i",{className:"ri-user-add-line text-xl text-purple-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nouveaux ce Mois"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S})]})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Rechercher par nom, email ou tlphone...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:c,onChange:C=>d(C.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:h,onChange:C=>m(C.target.value),children:[t.jsx("option",{value:"",children:"Tous les statuts"}),t.jsx("option",{value:"active",children:"Actifs"}),t.jsx("option",{value:"inactive",children:"Inactifs"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adresse"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'Inscription"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-orange-600"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.full_name||"Non spcifi"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",C.id.substring(0,8),"..."]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:C.email||"Non spcifi"}),t.jsx("div",{className:"text-sm text-gray-500",children:C.phone||"Non spcifi"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 max-w-xs truncate",children:C.address||"Non spcifie"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.is_active?"Actif":"Inactif"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.created_at).toLocaleDateString("fr-FR")}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[t.jsx("button",{onClick:()=>x(C.id,C.is_active),className:`px-3 py-1 rounded text-xs font-medium ${C.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:C.is_active?"Dsactiver":"Activer"}),t.jsx("button",{onClick:()=>p(C.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-xs font-medium hover:bg-red-200",children:"Supprimer"})]})]},C.id))})]})}),y.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-user-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun utilisateur trouv"}),t.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur ne correspond  vos critres de recherche."})]})]})]})}function pw(){const[l,a]=N.useState([]),[n,i]=N.useState(!0),[c,d]=N.useState(""),[h,m]=N.useState("");N.useEffect(()=>{g();const v=setInterval(g,1e4);return()=>clearInterval(v)},[]);const g=async()=>{try{const{data:v,error:T}=await Z.from("drivers").select("*").order("created_at",{ascending:!1});if(T)throw T;a(v||[]),i(!1)}catch(v){console.error("   :",v),i(!1)}},x=async(v,T)=>{try{const{error:O}=await Z.from("drivers").update({status:T}).eq("id",v);if(O)throw O;a(l.map(E=>E.id===v?{...E,status:T}:E)),alert("    ")}catch(O){console.error("  :",O),alert("    ")}},p=async v=>{if(confirm("      "))try{const{error:T}=await Z.from("drivers").delete().eq("id",v);if(T)throw T;a(l.filter(O=>O.id!==v)),alert("   ")}catch(T){console.error("  :",T),alert("    ")}},y=v=>{const O={pending:{label:" ",color:"bg-yellow-100 text-yellow-700"},approved:{label:"",color:"bg-green-100 text-green-700"},rejected:{label:"",color:"bg-red-100 text-red-700"}}[v]||{label:v,color:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${O.color}`,children:O.label})},_=l.filter(v=>{const T=v.name?.toLowerCase().includes(c.toLowerCase())||v.phone?.includes(c)||v.city?.toLowerCase().includes(c.toLowerCase())||v.license_plate?.toLowerCase().includes(c.toLowerCase()),O=!h||v.status===h;return T&&O}),j=l.length,S=l.filter(v=>v.status==="approved").length,C=l.filter(v=>v.status==="pending").length;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"     "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-2xl text-blue-600"})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-600"})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-2xl text-yellow-600"})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C})]})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:c,onChange:v=>d(v.target.value)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("select",{className:"w-full px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:h,onChange:v=>m(v.target.value),children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:"pending",children:" "}),t.jsx("option",{value:"approved",children:""}),t.jsx("option",{value:"rejected",children:""})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(v=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold",children:v.name?.charAt(0)})}),t.jsxs("div",{className:"mr-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),t.jsx("div",{className:"text-sm text-gray-500",children:v.is_available?t.jsx("span",{className:"text-green-600",children:""}):t.jsx("span",{className:"text-gray-500",children:" "})})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:v.phone}),t.jsx("div",{className:"text-sm text-gray-500",children:v.national_id})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm text-gray-900",children:[v.vehicle_type==="motorcycle"&&" ",v.vehicle_type==="car"&&"",v.vehicle_type==="bicycle"&&" "]}),t.jsx("div",{className:"text-sm text-gray-500",children:v.license_plate})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.city}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.rating?.toFixed(1)||"5.0"})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm text-gray-900",children:[v.completed_deliveries||0," "]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[" ",v.total_deliveries||0," "]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(v.status)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex gap-2",children:[v.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>x(v.id,"approved"),className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-medium hover:bg-green-200 cursor-pointer whitespace-nowrap",children:""}),t.jsx("button",{onClick:()=>x(v.id,"rejected"),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-medium hover:bg-red-200 cursor-pointer whitespace-nowrap",children:""})]}),v.status==="approved"&&t.jsx("button",{onClick:()=>x(v.id,"rejected"),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-medium hover:bg-red-200 cursor-pointer whitespace-nowrap",children:""}),v.status==="rejected"&&t.jsx("button",{onClick:()=>x(v.id,"approved"),className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-medium hover:bg-green-200 cursor-pointer whitespace-nowrap",children:""}),t.jsx("button",{onClick:()=>p(v.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-medium hover:bg-red-200 cursor-pointer whitespace-nowrap",children:""})]})})]},v.id))})]})}),_.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-truck-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-500",children:"       "})]})]})]})}function yw(){const[l,a]=N.useState({totalRevenue:0,totalOrders:0,totalUsers:0,totalRestaurants:0,monthlyRevenue:[],ordersByStatus:{},topRestaurants:[],userGrowth:[]}),[n,i]=N.useState(!0),[c,d]=N.useState("month");N.useEffect(()=>{h()},[c]);const h=async()=>{try{i(!0),a({totalRevenue:45678.9,totalOrders:1234,totalUsers:567,totalRestaurants:89,monthlyRevenue:[12e3,15e3,18e3,22e3,25e3,28e3,32e3,35e3,38e3,42e3,45e3,48e3],ordersByStatus:{livree:856,en_preparation:123,en_livraison:89,annulee:166},topRestaurants:[{name:"Pizzeria Roma",orders:234,revenue:12450},{name:"Burger House",orders:189,revenue:9876.5},{name:"Sushi Tokyo",orders:156,revenue:8765.25},{name:"Caf de Paris",orders:134,revenue:6543.75},{name:"Taco Loco",orders:98,revenue:4321}],userGrowth:[45,52,48,61,55,67,73,69,76,82,89,95]})}catch(m){console.error("Erreur lors du chargement des analyses:",m)}finally{i(!1)}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analyses et Rapports"}),t.jsx("p",{className:"text-gray-600",children:"Aperu des performances de la plateforme"})]}),t.jsx("div",{children:t.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",value:c,onChange:m=>d(m.target.value),children:[t.jsx("option",{value:"week",children:"Cette Semaine"}),t.jsx("option",{value:"month",children:"Ce Mois"}),t.jsx("option",{value:"quarter",children:"Ce Trimestre"}),t.jsx("option",{value:"year",children:"Cette Anne"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus Total"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.totalRevenue.toFixed(2)," dh"]}),t.jsx("p",{className:"text-sm text-green-600",children:"+12.5% vs mois dernier"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx("i",{className:"ri-shopping-bag-line text-xl text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Commandes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalOrders}),t.jsx("p",{className:"text-sm text-blue-600",children:"+8.3% vs mois dernier"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx("i",{className:"ri-user-line text-xl text-purple-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs Actifs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalUsers}),t.jsx("p",{className:"text-sm text-purple-600",children:"+15.7% vs mois dernier"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx("i",{className:"ri-restaurant-line text-xl text-orange-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Restaurants Partenaires"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRestaurants}),t.jsx("p",{className:"text-sm text-orange-600",children:"+5.2% vs mois dernier"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenus Mensuels"}),t.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:l.monthlyRevenue.map((m,g)=>t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"bg-orange-500 rounded-t w-8",style:{height:`${m/Math.max(...l.monthlyRevenue)*200}px`}}),t.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(2024,g).toLocaleDateString("fr-FR",{month:"short"})})]},g))})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Commandes par Statut"}),t.jsx("div",{className:"space-y-4",children:Object.entries(l.ordersByStatus).map(([m,g])=>{const x=Object.values(l.ordersByStatus).reduce((j,S)=>j+S,0),p=g/x*100,y={livree:"bg-green-500",en_preparation:"bg-orange-500",en_livraison:"bg-blue-500",annulee:"bg-red-500"},_={livree:"Livres",en_preparation:"En Prparation",en_livraison:"En Livraison",annulee:"Annules"};return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${y[m]} mr-3`}),t.jsx("span",{className:"text-sm text-gray-700",children:_[m]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:t.jsx("div",{className:`h-2 rounded-full ${y[m]}`,style:{width:`${p}%`}})}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})]})]},m)})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Restaurants"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Restaurant"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Commandes"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Revenus"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Performance"})]})}),t.jsx("tbody",{children:l.topRestaurants.map((m,g)=>t.jsxs("tr",{className:"border-b border-gray-100",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:t.jsxs("span",{className:"text-sm font-medium text-orange-600",children:["#",g+1]})}),t.jsx("span",{className:"font-medium text-gray-900",children:m.name})]})}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:m.orders}),t.jsxs("td",{className:"py-3 px-4 text-gray-700",children:[m.revenue.toFixed(2)," dh"]}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:t.jsx("div",{className:"h-2 bg-orange-500 rounded-full",style:{width:`${m.orders/l.topRestaurants[0].orders*100}%`}})}),t.jsxs("span",{className:"text-sm text-gray-600",children:[(m.orders/l.topRestaurants[0].orders*100).toFixed(0),"%"]})]})})]},g))})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Croissance des Utilisateurs"}),t.jsx("div",{className:"h-32 flex items-end justify-between space-x-1",children:l.userGrowth.map((m,g)=>t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"bg-blue-500 rounded-t w-6",style:{height:`${m/Math.max(...l.userGrowth)*100}px`}}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:g+1})]},g))}),t.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Nouveaux utilisateurs par semaine (12 dernires semaines)"})]})]})}function bw(){const l=Pe(),[a,n]=N.useState(null),[i,c]=N.useState(!0),[d,h]=N.useState("dashboard"),[m,g]=N.useState(!0);N.useEffect(()=>{x()},[]);const x=()=>{try{const y=localStorage.getItem("adminSession");if(!y){l("/admin-login",{replace:!0});return}const _=JSON.parse(y);if(!_.isLoggedIn||!_.email){l("/admin-login",{replace:!0});return}n(_),c(!1)}catch(y){console.error("Erreur de vrification:",y),l("/admin-login",{replace:!0})}},p=()=>{switch(d){case"dashboard":return t.jsx(Ig,{});case"restaurants":return t.jsx(fw,{});case"products":return t.jsx(mw,{});case"orders":return t.jsx(gw,{});case"users":return t.jsx(xw,{});case"drivers":return t.jsx(pw,{});case"analytics":return t.jsx(yw,{});default:return t.jsx(Ig,{})}};return i?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):a?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(uw,{user:a,onToggleSidebar:()=>g(!m)}),t.jsxs("div",{className:"flex",children:[t.jsx(hw,{activeTab:d,onTabChange:h,isOpen:m}),t.jsx("main",{className:`flex-1 transition-all duration-300 ${m?"lg:ml-64":"ml-0"}`,children:t.jsx("div",{className:"p-6",children:p()})})]})]}):null}const vw=()=>{const l=Pe(),[a,n]=N.useState({email:"",password:""}),[i,c]=N.useState(!1),[d,h]=N.useState(""),m=x=>{const{name:p,value:y}=x.target;n(_=>({..._,[p]:y}))},g=async x=>{x.preventDefault(),h(""),c(!0);try{const p=a.email.trim().toLowerCase(),{data:y,error:_}=await Z.from("admins").select("*").eq("email",p).eq("is_active",!0).single();if(_||!y)throw new Error("Email introuvable ou compte inactif");if(a.password!==y.password)throw new Error("Mot de passe incorrect");localStorage.setItem("adminSession",JSON.stringify({id:y.id,name:y.name,email:y.email,role:y.role,isLoggedIn:!0})),await Z.from("admins").update({last_login:new Date().toISOString()}).eq("id",y.id),l("/admin",{replace:!0})}catch(p){h(p instanceof Error?p.message:"Une erreur s'est produite lors de la connexion"),c(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-admin-line text-2xl text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connexion Administrateur"}),t.jsx("p",{className:"text-gray-600",children:"Entrez vos identifiants pour accder au panneau d'administration"})]}),d&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("i",{className:"ri-error-warning-line text-red-500 mr-2"}),t.jsx("p",{className:"text-red-700 text-sm",children:d})]})}),t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse Email"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:m,className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"admin@fooddelivery.com",required:!0,dir:"ltr"}),t.jsx("i",{className:"ri-mail-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de Passe"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"password",id:"password",name:"password",value:a.password,onChange:m,className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Entrez votre mot de passe",required:!0}),t.jsx("i",{className:"ri-lock-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t.jsx("button",{type:"submit",disabled:i,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center whitespace-nowrap",children:i?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Connexion en cours..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-login-box-line mr-2"}),"Se Connecter"]})})]}),t.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Comptes de test :"}),t.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[t.jsx("p",{children:" admin@fooddelivery.com"}),t.jsx("p",{children:" ahmed@fooddelivery.com"}),t.jsx("p",{children:" fatima@fooddelivery.com"}),t.jsx("p",{children:" mohammed@fooddelivery.com"}),t.jsx("p",{children:" nora@fooddelivery.com"}),t.jsx("p",{children:" abdullah@fooddelivery.com"}),t.jsx("p",{className:"font-medium mt-2",children:"Mot de passe : admin123456"})]})]})]})})};function jw({restaurant:l}){const[a,n]=N.useState(!1),i=Pe(),c=async()=>{try{await Z.auth.signOut(),i("/")}catch(d){console.error("   :",d)}};return t.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[t.jsx("i",{className:"ri-notification-3-line text-xl"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:l.image||"https://readdy.ai/api/search-image?query=modern%20restaurant%20interior%20with%20warm%20lighting%20and%20elegant%20dining%20tables%2C%20professional%20food%20photography%20style%2C%20clean%20and%20inviting%20atmosphere&width=40&height=40&seq=restaurant-avatar&orientation=squarish",alt:l.name,className:"w-10 h-10 rounded-full object-cover"}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l.name}),t.jsx("p",{className:"text-xs text-gray-500",children:l.cuisine_type})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>n(!a),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx("i",{className:"ri-more-2-line text-xl"})}),a&&t.jsxs("div",{className:"absolute left-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("button",{onClick:()=>i("/"),className:"w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3",children:[t.jsx("i",{className:"ri-home-line"})," "]}),t.jsxs("button",{onClick:c,className:"w-full text-right px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-3",children:[t.jsx("i",{className:"ri-logout-circle-line"})," "]})]})]})]})]})})}function Nw({activeTab:l,setActiveTab:a}){const n=[{id:"dashboard",label:" ",icon:"ri-dashboard-3-line"},{id:"menu",label:" ",icon:"ri-restaurant-line"},{id:"orders",label:" ",icon:"ri-shopping-bag-3-line"},{id:"profile",label:" ",icon:"ri-store-2-line"},{id:"analytics",label:"",icon:"ri-line-chart-line"},{id:"settings",label:"",icon:"ri-settings-3-line"}];return t.jsxs("div",{className:"w-64 bg-white border-l border-gray-200 h-screen",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})}),t.jsx("nav",{className:"p-4",children:t.jsx("ul",{className:"space-y-2",children:n.map(i=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>a(i.id),className:`w-full text-right px-4 py-3 rounded-lg transition-all duration-200 flex items-center gap-3 ${l===i.id?"bg-orange-50 text-orange-600 border-l-4 border-orange-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[t.jsx("i",{className:`${i.icon} text-xl`}),t.jsx("span",{className:"font-medium",children:i.label})]})},i.id))})}),t.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("i",{className:"ri-customer-service-2-line text-orange-600"}),t.jsx("span",{className:"text-sm font-semibold text-orange-800",children:" "})]}),t.jsx("p",{className:"text-xs text-orange-700 mb-3",children:"   24/7 "}),t.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white text-sm py-2 rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:" "})]})})]})}function Kg({restaurant:l}){const[a,n]=N.useState({totalOrders:0,todayOrders:0,totalRevenue:0,monthlyRevenue:0,totalProducts:0,averageRating:0}),[i,c]=N.useState([]),[d,h]=N.useState(!0);N.useEffect(()=>{m()},[l.id]);const m=async()=>{try{n({totalOrders:156,todayOrders:12,totalRevenue:45600,monthlyRevenue:12800,totalProducts:24,averageRating:4.5}),c([{id:"1",customer_name:" ",items:"   2  ",total:85,status:"",created_at:new Date().toISOString()},{id:"2",customer_name:" ",items:"   ",total:65,status:" ",created_at:new Date(Date.now()-1800*1e3).toISOString()},{id:"3",customer_name:" ",items:"   ",total:45,status:" ",created_at:new Date(Date.now()-3600*1e3).toISOString()}])}catch(x){console.error("     :",x)}finally{h(!1)}},g=x=>{switch(x){case"":return"bg-blue-100 text-blue-800";case" ":return"bg-yellow-100 text-yellow-800";case" ":return"bg-green-100 text-green-800";case" ":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[t.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["     ",l.name]}),t.jsx("p",{className:"text-orange-100",children:"      "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.totalOrders})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-3-line text-2xl text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.todayOrders})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-todo-line text-2xl text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[a.monthlyRevenue.toLocaleString()," dh"]})]}),t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-orange-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[a.totalRevenue.toLocaleString()," dh"]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-line-chart-line text-2xl text-purple-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.totalProducts})]}),t.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-2xl text-indigo-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.averageRating}),t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((x,p)=>t.jsx("i",{className:`ri-star-${p<Math.floor(a.averageRating)?"fill":"line"} text-sm`},p))})]})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-star-line text-2xl text-yellow-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 font-medium text-sm",children:" "})]})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:i.map(x=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:x.customer_name}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(x.status)}`,children:x.status})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:x.items}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.created_at).toLocaleString("ar-SA")})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[x.total," dh"]}),t.jsx("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium",children:" "})]})]},x.id))})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("button",{className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border border-orange-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-add-circle-line text-2xl text-orange-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-orange-800",children:"  "})]}),t.jsxs("button",{className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-eye-line text-2xl text-blue-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-blue-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-settings-3-line text-2xl text-green-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-green-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-bar-chart-line text-2xl text-purple-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-purple-800",children:" "})]})]})]})]})}const ml=[""," ","","","","","",""],ww=({isOpen:l,onClose:a,onSave:n,product:i})=>{const[c,d]=N.useState({name:"",price:"",category:ml[0],description:"",image_url:"",is_available:!0});N.useEffect(()=>{d(i?{name:i.name,price:i.price.toString(),category:i.category,description:i.description,image_url:i.image_url,is_available:i.is_available}:{name:"",price:"",category:ml[0],description:"",image_url:"",is_available:!0})},[i]);const h=m=>{if(m.preventDefault(),!c.name||!c.price){alert("   ");return}n({name:c.name,price:parseFloat(c.price),category:c.category,description:c.description,image_url:c.image_url,is_available:c.is_available})};return l?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:i?" ":"  "}),t.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:t.jsx("i",{className:"ri-close-line text-xl"})})]}),t.jsxs("form",{onSubmit:h,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("input",{type:"text",value:c.name,onChange:m=>d({...c,name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" () *"}),t.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:m=>d({...c,price:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("select",{value:c.category,onChange:m=>d({...c,category:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 pr-8",children:ml.map(m=>t.jsx("option",{value:m,children:m},m))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{value:c.description,onChange:m=>d({...c,description:m.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),t.jsx("input",{type:"url",value:c.image_url,onChange:m=>d({...c,image_url:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://example.com/image.jpg"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        "})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"is_available",checked:c.is_available,onChange:m=>d({...c,is_available:m.target.checked}),className:"mr-2"}),t.jsx("label",{htmlFor:"is_available",className:"text-sm text-gray-700",children:" "})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 whitespace-nowrap",children:""}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 whitespace-nowrap",children:i?"":""})]})]})]})}):null};function Sw(){const[l,a]=N.useState([]),[n,i]=N.useState(!0),[c,d]=N.useState(!1),[h,m]=N.useState(null),[g,x]=N.useState(""),[p,y]=N.useState(""),_=async()=>{try{const{data:{session:T}}=await Z.auth.getSession();if(!T)return;const O=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products",{method:"GET",headers:{Authorization:`Bearer ${T.access_token}`,"Content-Type":"application/json"}}),E=await O.json();O.ok?a(E.products||[]):console.error("   :",E.error)}catch(T){console.error("   :",T)}finally{i(!1)}};N.useEffect(()=>{_()},[]);const j=async T=>{try{const{data:{session:O}}=await Z.auth.getSession();if(!O)return;const E=h?"update":"add",L=h?{...T,id:h.id}:T,B=await fetch(`https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products?action=${E}`,{method:"POST",headers:{Authorization:`Bearer ${O.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(L)}),k=await B.json();B.ok?(a(h?l.map(A=>A.id===h.id?k.product:A):[k.product,...l]),d(!1),m(null)):(console.error("   :",k.error),alert("    "))}catch(O){console.error("   :",O),alert("    ")}},S=async T=>{if(confirm("      "))try{const{data:{session:O}}=await Z.auth.getSession();if(!O)return;const E=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products?action=delete",{method:"POST",headers:{Authorization:`Bearer ${O.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({id:T})}),L=await E.json();E.ok?a(l.filter(B=>B.id!==T)):(console.error("   :",L.error),alert("    "))}catch(O){console.error("   :",O),alert("    ")}},C=async(T,O)=>{try{const{data:{session:E}}=await Z.auth.getSession();if(!E)return;const L=await fetch("https://aypxbyzmaolnnlzjclev.supabase.co/functions/v1/manage-products?action=toggle-availability",{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({id:T,is_available:!O})}),B=await L.json();L.ok?a(l.map(k=>k.id===T?{...k,is_available:!O}:k)):(console.error("    :",B.error),alert("     "))}catch(E){console.error("    :",E),alert("     ")}},v=l.filter(T=>{const O=T.name.toLowerCase().includes(g.toLowerCase())||T.description.toLowerCase().includes(g.toLowerCase()),E=p===""||T.category===p;return O&&E});return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("button",{onClick:()=>d(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 flex items-center gap-2 whitespace-nowrap",children:[t.jsx("i",{className:"ri-add-line"}),"  "]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-restaurant-line text-blue-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(T=>T.is_available).length})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-check-line text-green-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:l.filter(T=>!T.is_available).length})]}),t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-close-line text-red-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:new Set(l.map(T=>T.category)).size})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-list-check text-purple-600 text-xl"})})]})})]}),t.jsx("div",{className:"bg-white p-4 rounded-lg border",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"  ...",value:g,onChange:T=>x(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})}),t.jsx("div",{className:"md:w-48",children:t.jsxs("select",{value:p,onChange:T=>y(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 pr-8",children:[t.jsx("option",{value:"",children:" "}),ml.map(T=>t.jsx("option",{value:T,children:T},T))]})})]})}),t.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:v.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600 mb-4",children:"    "}),t.jsx("button",{onClick:()=>d(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 whitespace-nowrap",children:"  "})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(T=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("img",{src:T.image_url,alt:T.name,className:"w-12 h-12 rounded-lg object-cover object-top"}),t.jsxs("div",{className:"mr-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),t.jsxs("div",{className:"text-sm text-gray-500",children:[T.description.substring(0,50),T.description.length>50&&"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:T.category})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.price," "]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.is_available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.is_available?"":" "})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{m(T),d(!0)},className:"text-blue-600 hover:text-blue-900",title:"",children:t.jsx("i",{className:"ri-edit-line"})}),t.jsx("button",{onClick:()=>C(T.id,T.is_available),className:`${T.is_available?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:T.is_available?"":"",children:t.jsx("i",{className:T.is_available?"ri-eye-off-line":"ri-eye-line"})}),t.jsx("button",{onClick:()=>S(T.id),className:"text-red-600 hover:text-red-900",title:"",children:t.jsx("i",{className:"ri-delete-bin-line"})})]})})]},T.id))})]})})}),t.jsx(ww,{isOpen:c,onClose:()=>{d(!1),m(null)},onSave:j,product:h})]})}function _w(){const[l,a]=N.useState([]),[n,i]=N.useState([]),[c,d]=N.useState(""),[h,m]=N.useState(""),[g,x]=N.useState(null),[p,y]=N.useState(!0),[_,j]=N.useState([]),[S,C]=N.useState(!1),[v,T]=N.useState(null);N.useEffect(()=>{O()},[]),N.useEffect(()=>{if(g){E();const F=setInterval(E,1e4);return()=>clearInterval(F)}},[g]),N.useEffect(()=>{B()},[l,c,h]);const O=async()=>{try{const{data:{user:F}}=await Z.auth.getUser();if(!F){y(!1);return}const{data:ae,error:ce}=await Z.from("restaurants").select("*").eq("owner_id",F.id).single();if(ce){console.error("    :",ce),y(!1);return}x(ae),y(!1)}catch(F){console.error("    :",F),y(!1)}},E=()=>{try{const F=localStorage.getItem("orders");if(!F){a([]);return}const ce=JSON.parse(F).filter(ee=>ee.items.some(ue=>ue.restaurant_id===g?.id||ee.restaurant===g?.name));ce.sort((ee,ue)=>new Date(ue.createdAt).getTime()-new Date(ee.createdAt).getTime());const M=l.length;ce.length>M&&M>0&&L(),a(ce)}catch(F){console.error("   :",F),a([])}},L=()=>{Notification.permission==="granted"?new Notification(" !",{body:"     ",icon:"/favicon.ico"}):Notification.permission!=="denied"&&Notification.requestPermission().then(F=>{F==="granted"&&new Notification(" !",{body:"     ",icon:"/favicon.ico"})});try{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})}catch{console.log("    ")}},B=()=>{let F=l;c&&(F=F.filter(ae=>ae.id.toLowerCase().includes(c.toLowerCase())||ae.deliveryInfo.name.toLowerCase().includes(c.toLowerCase())||ae.deliveryInfo.phone.includes(c))),h&&(F=F.filter(ae=>ae.status===h)),i(F)},k=(F,ae)=>{try{const ce=localStorage.getItem("orders");if(!ce)return;const M=JSON.parse(ce),Q=M.findIndex(ee=>ee.id===F);if(Q!==-1){M[Q].status=ae,localStorage.setItem("orders",JSON.stringify(M));const ee=localStorage.getItem("currentOrder");if(ee){const ue=JSON.parse(ee);ue.id===F&&(ue.status=ae,localStorage.setItem("currentOrder",JSON.stringify(ue)))}E()}}catch(ce){console.error("    :",ce)}},A=F=>{const ae={pending:{text:" ",color:"bg-yellow-100 text-yellow-800",icon:"ri-time-line"},confirmed:{text:"",color:"bg-blue-100 text-blue-800",icon:"ri-check-line"},preparing:{text:" ",color:"bg-orange-100 text-orange-800",icon:"ri-restaurant-line"},ready:{text:" ",color:"bg-green-100 text-green-800",icon:"ri-check-circle-line"},on_the_way:{text:" ",color:"bg-purple-100 text-purple-800",icon:"ri-truck-line"},delivered:{text:" ",color:"bg-gray-100 text-gray-800",icon:"ri-check-double-line"},cancelled:{text:"",color:"bg-red-100 text-red-800",icon:"ri-close-line"}};return ae[F]||ae.pending},Y=(F,ae,ce,M)=>{const ee=(ce-F)*Math.PI/180,ue=(M-ae)*Math.PI/180,oe=Math.sin(ee/2)*Math.sin(ee/2)+Math.cos(F*Math.PI/180)*Math.cos(ce*Math.PI/180)*Math.sin(ue/2)*Math.sin(ue/2);return 6371*(2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe)))},te=async F=>{if(g){T(F),C(!0),j([]);try{const{data:ae,error:ce}=await Z.from("drivers").select("*").eq("status","approved").eq("is_available",!0).eq("city",g.city||F.deliveryInfo.city);if(ce)throw ce;const M=(ae||[]).map(Q=>{let ee=null;return typeof Q.current_latitude=="number"&&typeof Q.current_longitude=="number"&&typeof g.latitude=="number"&&typeof g.longitude=="number"&&(ee=Y(g.latitude,g.longitude,Q.current_latitude,Q.current_longitude)),{...Q,distance:ee}})||[];M.sort((Q,ee)=>Q.distance==null&&ee.distance==null?0:Q.distance==null?1:ee.distance==null?-1:Q.distance-ee.distance),j(M)}catch(ae){console.error("    :",ae),alert("      ")}finally{C(!1)}}},ie=async(F,ae)=>{try{const ce=F.deliveryFee*.2,{error:M}=await Z.from("deliveries").insert([{order_id:F.id,driver_id:ae.id,restaurant_id:g.id,customer_name:F.deliveryInfo.name,customer_phone:F.deliveryInfo.phone,delivery_address:F.deliveryInfo.address,delivery_city:F.deliveryInfo.city,pickup_address:g.address||" ",total_amount:F.total,delivery_fee:F.deliveryFee,driver_earnings:ce,notes:F.deliveryInfo.notes,status:"assigned",assigned_at:new Date().toISOString()}]);if(M)throw M;T(null),E(),alert("     ")}catch(ce){console.error("    :",ce),alert("     ")}},W={total:l.length,pending:l.filter(ae=>ae.status==="pending"||ae.status==="confirmed").length,preparing:l.filter(ae=>ae.status==="preparing").length,ready:l.filter(ae=>ae.status==="ready").length,delivered:l.filter(ae=>ae.status==="delivered").length,revenue:l.reduce((ae,ce)=>ae+ce.total,0)};return p?t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):g?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsxs("p",{className:"text-gray-600",children:["     ",g.name]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:W.total})]}),t.jsx("i",{className:"ri-shopping-bag-3-line text-2xl text-blue-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:W.pending})]}),t.jsx("i",{className:"ri-time-line text-2xl text-yellow-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:W.preparing})]}),t.jsx("i",{className:"ri-restaurant-line text-2xl text-orange-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:W.ready})]}),t.jsx("i",{className:"ri-check-circle-line text-2xl text-green-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-600",children:W.delivered})]}),t.jsx("i",{className:"ri-truck-line text-2xl text-gray-500 w-8 h-8 flex items-center justify-center"})]})}),t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[W.revenue.toFixed(2)," DH"]})]}),t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-500 w-8 h-8 flex items-center justify-center"})]})})]}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"     ...",value:c,onChange:F=>d(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"}),t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"w-full px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:"pending",children:" "}),t.jsx("option",{value:"confirmed",children:""}),t.jsx("option",{value:"preparing",children:" "}),t.jsx("option",{value:"ready",children:" "}),t.jsx("option",{value:"delivered",children:" "}),t.jsx("option",{value:"cancelled",children:""})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[" (",n.length,")"]})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-shopping-bag-line text-8xl text-gray-300 mb-6"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-500",children:l.length===0?"     ":"     "})]}):t.jsx("div",{className:"space-y-4",children:n.map(F=>{const ae=A(F.status);return t.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[" #",F.id.split("-")[1]]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ae.color} flex items-center gap-1`,children:[t.jsx("i",{className:ae.icon}),ae.text]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",F.deliveryInfo.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",F.deliveryInfo.phone]}),t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",F.deliveryInfo.address,", ",F.deliveryInfo.city]})]}),t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," ",new Date(F.createdAt).toLocaleString("ar-SA")]}),t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," ",new Date(F.estimatedDelivery).toLocaleString("ar-SA")]}),t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," ",F.paymentMethod==="cash"?"  ":" "]})]})]}),F.deliveryInfo.notes&&t.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:":"})," ",F.deliveryInfo.notes]})})]}),t.jsxs("div",{className:"text-left ml-6",children:[t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[F.total.toFixed(2)," DH"]}),t.jsx("p",{className:"text-sm text-gray-500",children:" "})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[t.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:" :"}),t.jsxs("div",{className:"space-y-2",children:[F.items.map((ce,M)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{children:[ce.name,"  ",ce.quantity]}),t.jsxs("span",{className:"font-medium",children:[(ce.price*ce.quantity).toFixed(2)," DH"]})]},M)),t.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:" :"}),t.jsxs("span",{children:[F.subtotal.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:" :"}),t.jsxs("span",{children:[F.deliveryFee.toFixed(2)," DH"]})]}),F.discount&&F.discount>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[t.jsx("span",{children:":"}),t.jsxs("span",{children:["-",F.discount.toFixed(2)," DH"]})]}),t.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[t.jsx("span",{children:" :"}),t.jsxs("span",{children:[F.total.toFixed(2)," DH"]})]})]})]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[F.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>k(F.id,"confirmed"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),t.jsx("button",{onClick:()=>k(F.id,"cancelled"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]}),F.status==="confirmed"&&t.jsx("button",{onClick:()=>k(F.id,"preparing"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),F.status==="preparing"&&t.jsx("button",{onClick:()=>k(F.id,"ready"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "}),F.status==="ready"&&t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>te(F),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})}),F.status==="on_the_way"&&t.jsx("button",{onClick:()=>k(F.id,"delivered"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})})]},F.id)})})})]}),v&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["   #",v.id.split("-")[1]]}),t.jsx("button",{onClick:()=>T(null),className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:t.jsx("i",{className:"ri-close-line text-xl"})})]}),t.jsx("div",{className:"p-6 space-y-4",children:S?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):_.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"ri-roadster-line text-4xl text-gray-300 mb-3"}),t.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"      "}),t.jsx("p",{className:"text-sm text-gray-500",children:"        ."})]}):t.jsx("div",{className:"space-y-3",children:_.map(F=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center",children:t.jsx("i",{className:"ri-user-line text-xl text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:F.name}),t.jsx("p",{className:"text-sm text-gray-600",children:F.phone}),typeof F.distance=="number"&&t.jsxs("p",{className:"text-xs text-gray-500",children:[" "," ",F.distance.toFixed(1),"   "]})]})]}),t.jsx("button",{onClick:()=>ie(v,F),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap",children:"  "})]},F.id))})})]})})]}):t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-restaurant-line text-8xl text-gray-300 mb-6"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"    "}),t.jsx("p",{className:"text-gray-500",children:"        "})]})})}function Ew({restaurant:l,setRestaurant:a}){const[n,i]=N.useState(!1),[c,d]=N.useState({name:l.name||"",description:l.description||"",phone:l.phone||"",address:l.address||"",city:l.city||"",cuisine_type:l.cuisine_type||"",delivery_time:l.delivery_time||"",delivery_fee:l.delivery_fee||0,min_order:l.min_order||0,business_license:l.business_license||"",owner_name:l.owner_name||"",owner_email:l.owner_email||"",owner_phone:l.owner_phone||""}),h=["","","","","",""," ","",""],m=p=>{const{name:y,value:_}=p.target;d(j=>({...j,[y]:_}))},g=async()=>{try{const p={...l,...c};a(p),i(!1),alert("   !")}catch(p){console.error("   :",p),alert("    ")}},x=()=>{d({name:l.name||"",description:l.description||"",phone:l.phone||"",address:l.address||"",city:l.city||"",cuisine_type:l.cuisine_type||"",delivery_time:l.delivery_time||"",delivery_fee:l.delivery_fee||0,min_order:l.min_order||0,business_license:l.business_license||"",owner_name:l.owner_name||"",owner_email:l.owner_email||"",owner_phone:l.owner_phone||""}),i(!1)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),n?t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:x,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-lg font-semibold transition-colors",children:""}),t.jsxs("button",{onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-save-line"})," "]})]}):t.jsxs("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-edit-line"})," "]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"  "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("input",{type:"text",name:"name",value:c.name,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("select",{name:"cuisine_type",value:c.cuisine_type,onChange:m,className:"w-full px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:h.map(p=>t.jsx("option",{value:p,children:p},p))}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.cuisine_type})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.phone})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n?t.jsx("input",{type:"text",name:"city",value:c.city,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.city})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n?t.jsx("input",{type:"text",name:"address",value:c.address,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.address})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("textarea",{name:"description",value:c.description,onChange:m,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 resize-none",placeholder:"    ..."}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg min-h-[100px]",children:l.description||"    "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),n?t.jsx("input",{type:"text",name:"delivery_time",value:c.delivery_time,onChange:m,placeholder:": 30-45 ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.delivery_time})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (dh)"}),n?t.jsx("input",{type:"number",name:"delivery_fee",value:c.delivery_fee,onChange:m,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsxs("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:[l.delivery_fee," dh"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (dh)"}),n?t.jsx("input",{type:"number",name:"min_order",value:c.min_order,onChange:m,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsxs("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:[l.min_order," dh"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),n?t.jsx("input",{type:"text",name:"owner_name",value:c.owner_name,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.owner_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("p",{className:"text-gray-900 bg-gray-100 px-4 py-2 rounded-lg",children:l.owner_email}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),n?t.jsx("input",{type:"tel",name:"owner_phone",value:c.owner_phone,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.owner_phone})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),n?t.jsx("input",{type:"text",name:"business_license",value:c.business_license,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}):t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.business_license||" "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:new Date(l.created_at).toLocaleDateString("ar-SA")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l.status==="approved"?"bg-green-100 text-green-800":l.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:l.status==="approved"?"":l.status==="pending"?" ":""})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl font-bold text-gray-900",children:l.rating||0}),t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((p,y)=>t.jsx("i",{className:`ri-star-${y<Math.floor(l.rating||0)?"fill":"line"} text-sm`},y))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsx("p",{className:"text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:l.latitude&&l.longitude?`${l.latitude.toFixed(6)}, ${l.longitude.toFixed(6)}`:" "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("img",{src:l.image||"https://readdy.ai/api/search-image?query=modern%20restaurant%20interior%20with%20warm%20lighting%20and%20elegant%20dining%20tables%2C%20professional%20food%20photography%20style%2C%20clean%20and%20inviting%20atmosphere&width=200&height=150&seq=restaurant-profile&orientation=landscape",alt:l.name,className:"w-32 h-24 object-cover object-top rounded-lg border border-gray-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"  .       ."}),t.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:" "})]})]})]})]})}function Cw({restaurant:l}){const[a,n]=N.useState("week"),[i,c]=N.useState({revenue:{total:15600,growth:12.5,data:[{date:"2024-01-01",amount:1200},{date:"2024-01-02",amount:1800},{date:"2024-01-03",amount:2200},{date:"2024-01-04",amount:1600},{date:"2024-01-05",amount:2400},{date:"2024-01-06",amount:3200},{date:"2024-01-07",amount:3200}]},orders:{total:156,growth:8.3,data:[{date:"2024-01-01",count:12},{date:"2024-01-02",count:18},{date:"2024-01-03",count:22},{date:"2024-01-04",count:16},{date:"2024-01-05",count:24},{date:"2024-01-06",count:32},{date:"2024-01-07",count:32}]},topProducts:[{name:" ",orders:45,revenue:2025},{name:" ",orders:32,revenue:2080},{name:" ",orders:28,revenue:980},{name:" ",orders:56,revenue:840},{name:" ",orders:78,revenue:624}],customerStats:{newCustomers:23,returningCustomers:67,averageOrderValue:85.5},peakHours:[{hour:"12:00",orders:15},{hour:"13:00",orders:22},{hour:"14:00",orders:18},{hour:"19:00",orders:25},{hour:"20:00",orders:28},{hour:"21:00",orders:20}]}),d=[{value:"week",label:" "},{value:"month",label:" "},{value:"quarter",label:" "},{value:"year",label:" "}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:a,onChange:h=>n(h.target.value),className:"px-4 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:d.map(h=>t.jsx("option",{value:h.value,children:h.label},h.value))}),t.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-download-line"})," "]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"})}),t.jsxs("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${i.revenue.growth>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[i.revenue.growth>0?"+":"",i.revenue.growth,"%"]})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[i.revenue.total.toLocaleString()," dh"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-3-line text-2xl text-blue-600"})}),t.jsxs("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${i.orders.growth>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[i.orders.growth>0?"+":"",i.orders.growth,"%"]})]}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.orders.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-user-add-line text-2xl text-purple-600"})})}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.customerStats.newCustomers})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calculator-line text-2xl text-orange-600"})})}),t.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"  "}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[i.customerStats.averageOrderValue," dh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:i.revenue.data.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:new Date(h.date).toLocaleDateString("ar-SA",{weekday:"short"})}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${h.amount/Math.max(...i.revenue.data.map(g=>g.amount))*100}%`}})})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[h.amount," dh"]})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:i.orders.data.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:new Date(h.date).toLocaleDateString("ar-SA",{weekday:"short"})}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${h.count/Math.max(...i.orders.data.map(g=>g.count))*100}%`}})})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[h.count," "]})]},m))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"  "})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:i.topProducts.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsxs("span",{className:"text-sm font-bold text-orange-600",children:["#",m+1]})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:h.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[h.orders," "]})]})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[h.revenue," dh"]}),t.jsx("p",{className:"text-sm text-gray-500",children:" "})]})]},m))})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:i.peakHours.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:h.hour}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${h.orders/Math.max(...i.peakHours.map(g=>g.orders))*100}%`}})})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[h.orders," "]})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.customerStats.newCustomers})]}),t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-add-line text-2xl text-green-600"})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.customerStats.returningCustomers})]}),t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-heart-line text-2xl text-blue-600"})})]}),t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"  "}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Math.round(i.customerStats.returningCustomers/(i.customerStats.newCustomers+i.customerStats.returningCustomers)*100),"%"]})]}),t.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${i.customerStats.returningCustomers/(i.customerStats.newCustomers+i.customerStats.returningCustomers)*100}%`}})})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("button",{className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-file-chart-line text-2xl text-blue-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-blue-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-pie-chart-line text-2xl text-green-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-green-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-user-line text-2xl text-purple-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-purple-800",children:" "})]}),t.jsxs("button",{className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border border-orange-200 transition-colors text-center",children:[t.jsx("i",{className:"ri-time-line text-2xl text-orange-600 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-orange-800",children:" "})]})]})]})]})}function Ow({restaurant:l,setRestaurant:a}){const[n,i]=N.useState("general"),[c,d]=N.useState({general:{isOpen:!0,autoAcceptOrders:!1,maxOrdersPerHour:20,preparationTime:30,enableNotifications:!0},hours:{monday:{open:"09:00",close:"23:00",closed:!1},tuesday:{open:"09:00",close:"23:00",closed:!1},wednesday:{open:"09:00",close:"23:00",closed:!1},thursday:{open:"09:00",close:"23:00",closed:!1},friday:{open:"09:00",close:"23:00",closed:!1},saturday:{open:"09:00",close:"23:00",closed:!1},sunday:{open:"09:00",close:"23:00",closed:!1}},notifications:{newOrder:!0,orderCancellation:!0,lowStock:!0,dailyReport:!0,weeklyReport:!1,customerReview:!0},payment:{cashOnDelivery:!0,creditCard:!0,bankTransfer:!1,digitalWallet:!0}}),h=[{id:"general",label:" ",icon:"ri-settings-3-line"},{id:"hours",label:" ",icon:"ri-time-line"},{id:"notifications",label:"",icon:"ri-notification-3-line"},{id:"payment",label:" ",icon:"ri-money-dollar-circle-line"}],m=[{key:"monday",label:""},{key:"tuesday",label:""},{key:"wednesday",label:""},{key:"thursday",label:""},{key:"friday",label:""},{key:"saturday",label:""},{key:"sunday",label:""}],g=()=>{alert("   !")},x=()=>{d(v=>({...v,general:{...v.general,isOpen:!v.general.isOpen}}))},p=(v,T,O)=>{d(E=>({...E,hours:{...E.hours,[v]:{...E.hours[v],[T]:O}}}))},y=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),t.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.general.isOpen?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.general.isOpen?"translate-x-6":"translate-x-1"}`})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,general:{...v.general,autoAcceptOrders:!v.general.autoAcceptOrders}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.general.autoAcceptOrders?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.general.autoAcceptOrders?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"    "}),t.jsx("input",{type:"number",value:c.general.maxOrdersPerHour,onChange:v=>d(T=>({...T,general:{...T.general,maxOrdersPerHour:parseInt(v.target.value)}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",min:"1",max:"100"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   ()"}),t.jsx("input",{type:"number",value:c.general.preparationTime,onChange:v=>d(T=>({...T,general:{...T.general,preparationTime:parseInt(v.target.value)}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",min:"5",max:"120"})]})]})]})]}),_=()=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsx("div",{className:"space-y-4",children:m.map(v=>t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"w-20",children:t.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.label})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:!c.hours[v.key].closed,onChange:T=>p(v.key,"closed",!T.target.checked),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("span",{className:"text-sm text-gray-600",children:""})]}),!c.hours[v.key].closed&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:":"}),t.jsx("input",{type:"time",value:c.hours[v.key].open,onChange:T=>p(v.key,"open",T.target.value),className:"px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:":"}),t.jsx("input",{type:"time",value:c.hours[v.key].close,onChange:T=>p(v.key,"close",T.target.value),className:"px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]})]}),c.hours[v.key].closed&&t.jsx("span",{className:"text-sm text-red-600 font-medium",children:""})]},v.key))})]}),j=()=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,newOrder:!v.notifications.newOrder}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.newOrder?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.newOrder?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,orderCancellation:!v.notifications.orderCancellation}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.orderCancellation?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.orderCancellation?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,customerReview:!v.notifications.customerReview}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.customerReview?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.customerReview?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),t.jsx("button",{onClick:()=>d(v=>({...v,notifications:{...v.notifications,dailyReport:!v.notifications.dailyReport}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.notifications.dailyReport?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.notifications.dailyReport?"translate-x-6":"translate-x-1"}`})})]})]})]}),S=()=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"  "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"   "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,cashOnDelivery:!v.payment.cashOnDelivery}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.cashOnDelivery?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.cashOnDelivery?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-bank-card-line text-2xl text-blue-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"   "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,creditCard:!v.payment.creditCard}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.creditCard?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.creditCard?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-smartphone-line text-2xl text-purple-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,digitalWallet:!v.payment.digitalWallet}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.digitalWallet?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.digitalWallet?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("i",{className:"ri-bank-line text-2xl text-orange-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),t.jsx("button",{onClick:()=>d(v=>({...v,payment:{...v.payment,bankTransfer:!v.payment.bankTransfer}})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.payment.bankTransfer?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.payment.bankTransfer?"translate-x-6":"translate-x-1"}`})})]})]})]}),C=()=>{switch(n){case"general":return y();case"hours":return _();case"notifications":return j();case"payment":return S();default:return y()}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),t.jsxs("button",{onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[t.jsx("i",{className:"ri-save-line"}),"  "]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex space-x-8 px-6",dir:"ltr",children:h.map(v=>t.jsxs("button",{onClick:()=>i(v.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${n===v.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx("i",{className:v.icon}),v.label]},v.id))})}),t.jsx("div",{className:"p-6",children:C()})]})]})}function Tw(){const[l,a]=N.useState("dashboard"),[n,i]=N.useState(null),[c,d]=N.useState(!0),h=Pe();N.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:{user:x}}=await Z.auth.getUser();if(!x){h("/auth");return}const{data:p,error:y}=await Z.from("restaurants").select("*").eq("owner_id",x.id).eq("status","approved").single();if(y||!p){console.error("    :",y);const{data:_}=await Z.from("restaurants").select("*").eq("owner_id",x.id).eq("status","pending").single();if(_){h("/?message=pending");return}h("/restaurant-signup");return}i(p)}catch(x){console.error("     :",x),h("/auth")}finally{d(!1)}};if(c)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:" ..."})]})});if(!n)return null;const g=()=>{switch(l){case"dashboard":return t.jsx(Kg,{restaurant:n});case"menu":return t.jsx(Sw,{restaurant:n});case"orders":return t.jsx(_w,{restaurant:n});case"profile":return t.jsx(Ew,{restaurant:n,setRestaurant:i});case"analytics":return t.jsx(Cw,{restaurant:n});case"settings":return t.jsx(Ow,{restaurant:n,setRestaurant:i});default:return t.jsx(Kg,{restaurant:n})}};return t.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[t.jsx(Nw,{activeTab:l,setActiveTab:a}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx(jw,{restaurant:n}),t.jsx("main",{className:"flex-1 p-6",children:g()})]})]})}function Aw(){const[l,a]=N.useState({name:"",email:"",password:"",phone:"",vehicleType:"",licensePlate:"",nationalId:"",drivingLicense:"",city:""}),[n,i]=N.useState(!1),[c,d]=N.useState(""),[h,m]=N.useState(!1),g=async p=>{p.preventDefault(),i(!0),d("");try{const{data:y,error:_}=await Z.auth.signUp({email:l.email,password:l.password});if(_)throw _;if(!y.user)throw new Error("  ");const{error:j}=await Z.from("drivers").insert([{auth_id:y.user.id,email:l.email,name:l.name,phone:l.phone,national_id:l.nationalId,driving_license:l.drivingLicense,vehicle_type:l.vehicleType,license_plate:l.licensePlate,city:l.city,status:"pending",is_available:!1,rating:0,total_deliveries:0,completed_deliveries:0,total_earnings:0}]);if(j)throw j;m(!0)}catch(y){d(y.message||"   ")}finally{i(!1)}},x=p=>{a({...l,[p.target.name]:p.target.value})};return h?t.jsxs(t.Fragment,{children:[t.jsx(Re,{}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 pt-24 pb-16",children:t.jsx("div",{className:"max-w-2xl mx-auto px-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-check-line text-4xl text-green-600"})}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"  !"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"   .               ."}),t.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-orange-800 text-sm",children:[t.jsx("i",{className:"ri-information-line ml-2"}),"      24  48 "]})}),t.jsx("a",{href:"/",className:"inline-block bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:" "})]})})}),t.jsx(ke,{})]}):t.jsxs(t.Fragment,{children:[t.jsx(Re,{}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 pt-24 pb-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx("i",{className:"ri-truck-line text-4xl text-orange-600"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"  "}),t.jsx("p",{className:"text-xl text-gray-600",children:"       "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"        "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-time-line text-2xl text-blue-600"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-shield-check-line text-2xl text-purple-600"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"      "})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),c&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-red-800 text-sm",children:[t.jsx("i",{className:"ri-error-warning-line ml-2"}),c]})}),t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:l.name,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"  "})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"0612345678"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",name:"email",value:l.email,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"example@email.com"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"password",name:"password",value:l.password,onChange:x,required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["   ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"nationalId",value:l.nationalId,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"AB123456"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"city",value:l.city,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:" "})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"vehicleType",value:l.vehicleType,onChange:x,required:!0,className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[t.jsx("option",{value:"",children:"  "}),t.jsx("option",{value:"motorcycle",children:" "}),t.jsx("option",{value:"car",children:""}),t.jsx("option",{value:"bicycle",children:" "})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"licensePlate",value:l.licensePlate,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"12345--67"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["   ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"drivingLicense",value:l.drivingLicense,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"DL123456789"})]})]})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500 cursor-pointer"}),t.jsx("span",{className:"text-sm text-gray-700",children:"       "})]})}),t.jsx("button",{type:"submit",disabled:n,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-4 rounded-lg font-semibold text-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:n?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"})," ..."]}):" "}),t.jsxs("p",{className:"text-center text-sm text-gray-600",children:["  "," ",t.jsx("a",{href:"/driver-login",className:"text-orange-500 hover:text-orange-600 font-medium cursor-pointer",children:" "})]})]})]})]})}),t.jsx(ke,{})]})}function Rw(){const l=Pe(),[a,n]=N.useState(""),[i,c]=N.useState(""),[d,h]=N.useState(!1),[m,g]=N.useState(""),x=async p=>{p.preventDefault(),h(!0),g("");try{const{data:y,error:_}=await Z.auth.signInWithPassword({email:a,password:i});if(_)throw _;if(y.user){const{data:j,error:S}=await Z.from("drivers").select("*").eq("auth_id",y.user.id).single();if(S||!j)throw await Z.auth.signOut(),new Error("    ");if(j.status==="pending")throw await Z.auth.signOut(),new Error("  .     ");if(j.status==="rejected")throw await Z.auth.signOut(),new Error("     ");l("/driver-dashboard",{replace:!0})}}catch(y){g(y.message||"    ")}finally{h(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(Re,{}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 pt-24 pb-16",children:t.jsx("div",{className:"max-w-md mx-auto px-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-truck-line text-4xl text-orange-600"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),m&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-red-800 text-sm",children:[t.jsx("i",{className:"ri-error-warning-line ml-2"}),m]})}),t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"email",value:a,onChange:p=>n(p.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"example@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"password",value:i,onChange:p=>c(p.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:""})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:d?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("i",{className:"ri-loader-4-line animate-spin"}),"  ..."]}):" "}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",t.jsx("a",{href:"/driver-signup",className:"text-orange-500 hover:text-orange-600 font-medium cursor-pointer",children:" "})]})})]})]})})}),t.jsx(ke,{})]})}function kw({driver:l}){const a=async()=>{await Z.auth.signOut(),window.REACT_APP_NAVIGATE("/driver-login")},n=async()=>{try{const i=!l.is_available,{error:c}=await Z.from("drivers").update({is_available:i}).eq("id",l.id);if(c){console.error("   :",c),alert("     .        .");return}l.is_available=i,window.location.reload()}catch(i){console.error("   :",i),alert("       .")}};return t.jsx("header",{className:"fixed top-0 right-0 left-0 bg-white border-b border-gray-200 z-50",children:t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-xl text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"  "}),t.jsxs("p",{className:"text-sm text-gray-600",children:[" ",l.name]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${l.is_available?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${l.is_available?"bg-green-500":"bg-gray-400"}`}),l.is_available?" ":" "]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-4 py-2 rounded-lg",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500"}),t.jsx("span",{className:"font-semibold text-gray-900",children:l.rating.toFixed(1)})]}),t.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-logout-box-line"}),t.jsx("span",{children:" "})]})]})]})})})}function Dw({currentView:l,setCurrentView:a}){const n=[{id:"overview",label:" ",icon:"ri-dashboard-line"},{id:"available-orders",label:" ",icon:"ri-shopping-bag-line"},{id:"my-deliveries",label:"",icon:"ri-truck-line"},{id:"earnings",label:"",icon:"ri-money-dollar-circle-line"},{id:"profile",label:" ",icon:"ri-user-line"}];return t.jsxs("aside",{className:"fixed right-0 top-16 bottom-0 w-64 bg-white border-l border-gray-200 overflow-y-auto",children:[t.jsx("nav",{className:"p-4",children:t.jsx("ul",{className:"space-y-2",children:n.map(i=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>a(i.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors cursor-pointer whitespace-nowrap ${l===i.id?"bg-orange-50 text-orange-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx("i",{className:`${i.icon} text-xl`}),t.jsx("span",{children:i.label})]})},i.id))})}),t.jsx("div",{className:"p-4 mt-auto border-t border-gray-200",children:t.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-customer-service-2-line text-orange-600 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" "}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"   "}),t.jsx("button",{className:"text-sm text-orange-600 hover:text-orange-700 font-medium cursor-pointer whitespace-nowrap",children:" "})]})]})})})]})}function Lw({driver:l}){const[a,n]=N.useState({todayDeliveries:0,todayEarnings:0,pendingDeliveries:0,completedDeliveries:0});N.useEffect(()=>{i()},[l]);const i=async()=>{try{const d=new Date;d.setHours(0,0,0,0);const{data:h}=await Z.from("deliveries").select("*").eq("driver_id",l.id);if(h){const m=h.filter(y=>new Date(y.created_at)>=d&&y.status==="delivered"),g=m.reduce((y,_)=>y+(_.driver_earnings||0),0),x=h.filter(y=>y.status==="assigned"||y.status==="picked_up").length,p=h.filter(y=>y.status==="delivered").length;n({todayDeliveries:m.length,todayEarnings:g,pendingDeliveries:x,completedDeliveries:p})}}catch(d){console.error("   :",d)}},c=async()=>{try{const{error:d}=await Z.from("drivers").update({is_available:!0}).eq("id",l.id);if(d){console.error("    :",d),alert("    .        .");return}window.location.reload()}catch(d){console.error("     :",d),alert("      .")}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-2xl text-blue-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:""})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.todayDeliveries}),t.jsx("p",{className:"text-sm text-gray-600",children:" "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:""})]}),t.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:[a.todayEarnings.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm text-gray-600",children:""})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-time-line text-2xl text-orange-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:" "})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.pendingDeliveries}),t.jsx("p",{className:"text-sm text-gray-600",children:" "})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-purple-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:""})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:a.completedDeliveries}),t.jsx("p",{className:"text-sm text-gray-600",children:" "})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-8 text-white mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",children:l.is_available?"   ":"   "}),t.jsx("p",{className:"text-orange-100 mb-4",children:l.is_available?"   ":"    "}),!l.is_available&&t.jsx("button",{onClick:c,className:"bg-white text-orange-600 px-6 py-2 rounded-lg font-medium hover:bg-orange-50 transition-colors cursor-pointer whitespace-nowrap",children:" "})]}),t.jsx("div",{className:"w-32 h-32 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx("i",{className:`${l.is_available?"ri-checkbox-circle-line":"ri-close-circle-line"} text-6xl`})})]})}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>window.location.href="#available-orders",className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-shopping-bag-line text-orange-600"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:" "}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),t.jsxs("button",{onClick:()=>window.location.href="#my-deliveries",className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-truck-line text-blue-600"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:""}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),t.jsxs("button",{onClick:()=>window.location.href="#earnings",className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-green-600"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-gray-900",children:""}),t.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]})]})]})]})}function Uw({driver:l}){const[a,n]=N.useState([]),[i,c]=N.useState(!0);N.useEffect(()=>{d();const m=setInterval(d,1e4);return()=>clearInterval(m)},[l]);const d=async()=>{try{const g=JSON.parse(localStorage.getItem("orders")||"[]").filter(x=>!x.driverId&&x.status==="confirmed"&&x.deliveryCity===l.city);n(g),c(!1)}catch(m){console.error("   :",m),c(!1)}},h=async m=>{try{const g=m.deliveryFee*.2,{error:x}=await Z.from("deliveries").insert([{order_id:m.id,driver_id:l.id,restaurant_id:m.restaurantId,customer_name:m.customerName,customer_phone:m.customerPhone,delivery_address:m.deliveryAddress,delivery_city:m.deliveryCity,pickup_address:m.restaurantAddress||" ",total_amount:m.total,delivery_fee:m.deliveryFee,driver_earnings:g,notes:m.notes,status:"assigned",assigned_at:new Date().toISOString()}]);if(x)throw x;const y=JSON.parse(localStorage.getItem("orders")||"[]").map(_=>_.id===m.id?{..._,driverId:l.id,driverName:l.name,status:"out_for_delivery"}:_);localStorage.setItem("orders",JSON.stringify(y)),await Z.from("drivers").update({total_deliveries:l.total_deliveries+1}).eq("id",l.id),alert("   !     "),d()}catch(g){console.error("   :",g),alert("    ")}};return i?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"    "})]}),!l.is_available&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-information-line text-yellow-600 text-xl"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-yellow-800 font-medium mb-1",children:"   "}),t.jsx("p",{className:"text-yellow-700 text-sm",children:"       "})]})]})}),a.length===0?t.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-shopping-bag-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"    "}),t.jsx("p",{className:"text-gray-600",children:"       "})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.map(m=>t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-1",children:[" #",m.id.slice(0,8)]}),t.jsx("p",{className:"text-sm text-gray-600",children:m.restaurantName})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[m.total.toFixed(2)," ."]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[" : ",m.deliveryFee.toFixed(2)," ."]})]})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-user-line text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"font-medium text-gray-900",children:m.customerName}),t.jsx("p",{className:"text-sm text-gray-600",children:m.customerPhone})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-map-pin-line text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"font-medium text-gray-900",children:m.deliveryAddress}),t.jsx("p",{className:"text-sm text-gray-600",children:m.deliveryCity})]})]}),m.notes&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("i",{className:"ri-message-3-line text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"font-medium text-gray-900",children:m.notes})]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:":"}),t.jsx("div",{className:"space-y-2",children:m.items.map((g,x)=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-900",children:[g.name,"  ",g.quantity]}),t.jsxs("span",{className:"text-gray-600",children:[(g.price*g.quantity).toFixed(2)," ."]})]},x))})]}),t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-green-700",children:"   :"}),t.jsxs("span",{className:"text-lg font-bold text-green-700",children:[(m.deliveryFee*.2).toFixed(2)," ."]})]})}),t.jsx("button",{onClick:()=>h(m),disabled:!l.is_available,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:l.is_available?" ":" "})]},m.id))})]})}function zw({driver:l}){const[a,n]=N.useState([]),[i,c]=N.useState(!0),[d,h]=N.useState("active");N.useEffect(()=>{m();const p=setInterval(m,1e4);return()=>clearInterval(p)},[l,d]);const m=async()=>{try{let p=Z.from("deliveries").select("*").eq("driver_id",l.id).order("created_at",{ascending:!1});d==="active"?p=p.in("status",["assigned","picked_up"]):d==="completed"&&(p=p.eq("status","delivered"));const{data:y,error:_}=await p;if(_)throw _;n(y||[]),c(!1)}catch(p){console.error("   :",p),c(!1)}},g=async(p,y)=>{try{const _={status:y};if(y==="picked_up")_.picked_up_at=new Date().toISOString();else if(y==="delivered"){_.delivered_at=new Date().toISOString();const C=a.find(v=>v.id===p);C&&await Z.from("drivers").update({completed_deliveries:l.completed_deliveries+1,total_earnings:l.total_earnings+C.driver_earnings}).eq("id",l.id)}const{error:j}=await Z.from("deliveries").update(_).eq("id",p);if(j)throw j;const S=a.find(C=>C.id===p);if(S){const v=JSON.parse(localStorage.getItem("orders")||"[]").map(T=>{if(T.id===S.order_id){let O=T.status;return y==="picked_up"&&(O="out_for_delivery"),y==="delivered"&&(O="delivered"),{...T,status:O}}return T});localStorage.setItem("orders",JSON.stringify(v))}m(),alert("    ")}catch(_){console.error("   :",_),alert("    ")}},x=p=>{const _={assigned:{label:" ",color:"bg-blue-100 text-blue-700"},picked_up:{label:" ",color:"bg-orange-100 text-orange-700"},delivered:{label:" ",color:"bg-green-100 text-green-700"}}[p]||{label:p,color:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_.color}`,children:_.label})};return i?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("div",{className:"flex gap-2 mb-6",children:[t.jsx("button",{onClick:()=>h("active"),className:`px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="active"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" "}),t.jsx("button",{onClick:()=>h("completed"),className:`px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="completed"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" "}),t.jsx("button",{onClick:()=>h("all"),className:`px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="all"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" "})]}),a.length===0?t.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-truck-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600",children:d==="active"?"    ":"    "})]}):t.jsx("div",{className:"space-y-4",children:a.map(p=>t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:[" #",p.order_id.slice(0,8)]}),x(p.status)]}),t.jsx("p",{className:"text-sm text-gray-600",children:new Date(p.created_at).toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[p.total_amount.toFixed(2)," ."]}),t.jsxs("p",{className:"text-sm text-green-600 font-medium",children:[": ",p.driver_earnings.toFixed(2)," ."]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx("i",{className:"ri-store-line text-orange-500"})," "]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"font-medium text-gray-900 mb-1",children:p.pickup_address}),t.jsx("p",{className:"text-sm text-gray-600",children:p.delivery_city})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx("i",{className:"ri-map-pin-line text-orange-500"})," "]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"font-medium text-gray-900 mb-1",children:p.customer_name}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.customer_phone}),t.jsx("p",{className:"text-sm text-gray-600",children:p.delivery_address})]})]})]}),p.notes&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("i",{className:"ri-information-line ml-2"}),t.jsx("strong",{children:":"})," ",p.notes]})}),p.status==="assigned"&&t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>g(p.id,"picked_up"),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-checkbox-circle-line ml-2"}),"  "]}),t.jsx("button",{onClick:async()=>{try{const{error:y}=await Z.from("deliveries").update({status:"rejected"}).eq("id",p.id);if(y)throw y;m(),alert("     .")}catch(y){console.error("   :",y),alert("    ")}},className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:" "})]}),p.status==="picked_up"&&t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>g(p.id,"delivered"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-checkbox-circle-line ml-2"}),"  "]}),t.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${p.delivery_address}`,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:t.jsx("i",{className:"ri-navigation-line"})})]}),p.status==="delivered"&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[t.jsx("i",{className:"ri-checkbox-circle-fill text-3xl text-green-600 mb-2"}),t.jsx("p",{className:"text-green-700 font-medium",children:"  "}),t.jsx("p",{className:"text-sm text-green-600",children:new Date(p.delivered_at).toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},p.id))})]})}function Mw({driver:l,setDriver:a}){const[n,i]=N.useState(!1),[c,d]=N.useState({name:l.name,phone:l.phone,city:l.city,vehicle_type:l.vehicle_type,license_plate:l.license_plate}),[h,m]=N.useState(!1),g=async p=>{p.preventDefault(),m(!0);try{const{error:y}=await Z.from("drivers").update(c).eq("id",l.id);if(y)throw y;a({...l,...c}),i(!1),alert("    ")}catch(y){console.error("   :",y),alert("    ")}finally{m(!1)}},x=p=>{d({...c,[p.target.name]:p.target.value})};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"  "})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:l.name.charAt(0)})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:l.name}),t.jsx("p",{className:"text-gray-600 mb-4",children:l.phone}),t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx("i",{className:"ri-star-fill text-yellow-500"}),t.jsx("span",{className:"text-2xl font-bold text-gray-900",children:l.rating.toFixed(1)})]}),t.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${l.status==="approved"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${l.status==="approved"?"bg-green-500":"bg-yellow-500"}`}),t.jsx("span",{className:"text-sm font-medium",children:l.status==="approved"?" ":" "})]})]}),t.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:" "}),t.jsx("span",{className:"font-semibold text-gray-900",children:l.total_deliveries})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:" "}),t.jsx("span",{className:"font-semibold text-gray-900",children:l.completed_deliveries})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:" "}),t.jsxs("span",{className:"font-semibold text-green-600",children:[l.total_earnings.toFixed(2)," ."]})]})]})]})}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "}),!n&&t.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-edit-line"}),""]})]}),t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"text",name:"name",value:c.name,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsx("input",{type:"text",name:"city",value:c.city,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsxs("select",{name:"vehicle_type",value:c.vehicle_type,onChange:x,disabled:!n,className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600",children:[t.jsx("option",{value:"motorcycle",children:" "}),t.jsx("option",{value:"car",children:""}),t.jsx("option",{value:"bicycle",children:" "})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"text",name:"license_plate",value:c.license_plate,onChange:x,disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),t.jsx("input",{type:"text",value:l.national_id,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),t.jsx("input",{type:"text",value:l.driving_license,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),n&&t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"submit",disabled:h,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:h?" ...":" "}),t.jsx("button",{type:"button",onClick:()=>{i(!1),d({name:l.name,phone:l.phone,city:l.city,vehicle_type:l.vehicle_type,license_plate:l.license_plate})},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]})]})})]})]})}function qw({driver:l}){const[a,n]=N.useState({today:0,week:0,month:0,total:0}),[i,c]=N.useState([]),[d,h]=N.useState(!0);N.useEffect(()=>{m()},[l]);const m=async()=>{try{const{data:g,error:x}=await Z.from("deliveries").select("*").eq("driver_id",l.id).eq("status","delivered").order("delivered_at",{ascending:!1});if(x)throw x;if(g){const p=new Date,y=new Date(p.getFullYear(),p.getMonth(),p.getDate()),_=new Date(y.getTime()-10080*60*1e3),j=new Date(y.getTime()-720*60*60*1e3),S=g.filter(O=>new Date(O.delivered_at)>=y).reduce((O,E)=>O+(E.driver_earnings||0),0),C=g.filter(O=>new Date(O.delivered_at)>=_).reduce((O,E)=>O+(E.driver_earnings||0),0),v=g.filter(O=>new Date(O.delivered_at)>=j).reduce((O,E)=>O+(E.driver_earnings||0),0),T=g.reduce((O,E)=>O+(E.driver_earnings||0),0);n({today:S,week:C,month:v,total:T}),c(g)}h(!1)}catch(g){console.error("   :",g),h(!1)}};return d?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),t.jsx("p",{className:"text-gray-600",children:"   "})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:""})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[a.today.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-week-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[a.week.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-month-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[a.month.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-2xl"})}),t.jsx("span",{className:"text-sm opacity-90",children:""})]}),t.jsxs("h3",{className:"text-3xl font-bold mb-1",children:[a.total.toFixed(2)," ."]}),t.jsx("p",{className:"text-sm opacity-90",children:" "})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),i.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"ri-money-dollar-circle-line text-4xl text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"   "}),t.jsx("p",{className:"text-gray-600",children:"     "})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(g=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",g.order_id.slice(0,8)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-sm text-gray-600",children:new Date(g.delivered_at).toLocaleDateString("ar-MA",{year:"numeric",month:"short",day:"numeric"})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-sm text-gray-900",children:g.customer_name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm text-gray-900",children:[g.total_amount.toFixed(2)," ."]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm text-gray-900",children:[g.delivery_fee.toFixed(2)," ."]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[g.driver_earnings.toFixed(2)," ."]})})]},g.id))})]})})]})]})}function $w(){const l=Pe(),[a,n]=N.useState("overview"),[i,c]=N.useState(null),[d,h]=N.useState(!0);N.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:{user:g}}=await Z.auth.getUser();if(!g){l("/driver-login",{replace:!0});return}const{data:x,error:p}=await Z.from("drivers").select("*").eq("auth_id",g.id).single();if(p||!x){l("/driver-login",{replace:!0});return}if(x.status!=="approved"){l("/driver-login",{replace:!0});return}c(x),h(!1)}catch(g){console.error("    :",g),l("/driver-login",{replace:!0})}};return d?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:" ..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(kw,{driver:i}),t.jsxs("div",{className:"flex",children:[t.jsx(Dw,{currentView:a,setCurrentView:n}),t.jsxs("main",{className:"flex-1 mr-64 mt-16 p-8",children:[a==="overview"&&t.jsx(Lw,{driver:i}),a==="available-orders"&&t.jsx(Uw,{driver:i}),a==="my-deliveries"&&t.jsx(zw,{driver:i}),a==="earnings"&&t.jsx(qw,{driver:i}),a==="profile"&&t.jsx(Mw,{driver:i,setDriver:c})]})]})]})}const Bw=[{path:"/",element:t.jsx(XN,{})},{path:"/restaurants",element:t.jsx(ZN,{})},{path:"/restaurant",element:t.jsx(WN,{})},{path:"/product",element:t.jsx(ew,{})},{path:"/offers",element:t.jsx(sw,{})},{path:"/track-order",element:t.jsx(aw,{})},{path:"/cart",element:t.jsx(rw,{})},{path:"/login",element:t.jsx(Fg,{})},{path:"/auth",element:t.jsx(Fg,{})},{path:"/checkout",element:t.jsx(nw,{})},{path:"/profile",element:t.jsx(iw,{})},{path:"/orders",element:t.jsx(lw,{})},{path:"/favorites",element:t.jsx(ow,{})},{path:"/restaurant-signup",element:t.jsx(cw,{})},{path:"/restaurant-login",element:t.jsx(dw,{})},{path:"/admin",element:t.jsx(bw,{})},{path:"/admin-login",element:t.jsx(vw,{})},{path:"/restaurant-dashboard",element:t.jsx(Tw,{})},{path:"/driver-signup",element:t.jsx(Aw,{})},{path:"/driver-login",element:t.jsx(Rw,{})},{path:"/driver-dashboard",element:t.jsx($w,{})},{path:"*",element:t.jsx(Bv,{})}];let $x;new Promise(l=>{$x=l});function Hw(){const l=Ib(Bw),a=Pe();return N.useEffect(()=>{window.REACT_APP_NAVIGATE=a,$x(window.REACT_APP_NAVIGATE)}),l}function Pw(){return t.jsx(Hy,{i18n:dt,children:t.jsx(Av,{basename:"/",children:t.jsx(Hw,{})})})}cb.createRoot(document.getElementById("root")).render(t.jsx(N.StrictMode,{children:t.jsx(Pw,{})}));
//# sourceMappingURL=index-BRbc88qC.js.map
